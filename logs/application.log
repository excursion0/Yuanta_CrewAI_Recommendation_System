2025-08-08 01:17:52 - TestClass - [32mINFO[0m - Test info message
2025-08-08 01:17:52 - TestClass - [33mWARNING[0m - Test warning message
2025-08-08 01:17:52 - TestClass - [31mERROR[0m - Test error message
2025-08-08 01:17:58 - httpx - [32mINFO[0m - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-08-08 01:18:06 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 01:18:06 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Market data agent created successfully
2025-08-08 01:18:06 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent 'MarketDataAgent' initialized successfully
2025-08-08 01:18:06 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent configuration validation passed
2025-08-08 01:18:06 - src.compliance.compliance_rules_engine - [32mINFO[0m - Initialized compliance engine with 16 rules
2025-08-08 01:18:06 - src.compliance.suitability_validation_engine - [32mINFO[0m - Initialized suitability validation engine
2025-08-08 01:18:06 - src.compliance.disclosure_management_system - [32mINFO[0m - Initialized disclosure management system with 10 requirements
2025-08-08 01:18:06 - FinancialCrewOrchestrator - [32mINFO[0m - Created all enhanced specialized agents for financial analysis
2025-08-08 01:18:06 - FinancialCrewOrchestrator - [32mINFO[0m - Created CrewAI crew with all agents
2025-08-08 01:18:06 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 01:18:06 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Market data agent created successfully
2025-08-08 01:18:06 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent 'MarketDataAgent' initialized successfully
2025-08-08 01:18:06 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent configuration validation passed
2025-08-08 01:18:06 - src.compliance.compliance_rules_engine - [32mINFO[0m - Initialized compliance engine with 16 rules
2025-08-08 01:18:06 - src.compliance.suitability_validation_engine - [32mINFO[0m - Initialized suitability validation engine
2025-08-08 01:18:06 - src.compliance.disclosure_management_system - [32mINFO[0m - Initialized disclosure management system with 10 requirements
2025-08-08 01:18:06 - FinancialCrewOrchestrator - [32mINFO[0m - Created all enhanced specialized agents for financial analysis
2025-08-08 01:18:06 - FinancialCrewOrchestrator - [32mINFO[0m - Created CrewAI crew with all agents
2025-08-08 01:18:06 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 01:18:06 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Market data agent created successfully
2025-08-08 01:18:06 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent 'MarketDataAgent' initialized successfully
2025-08-08 01:18:06 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent configuration validation passed
2025-08-08 01:18:06 - src.compliance.compliance_rules_engine - [32mINFO[0m - Initialized compliance engine with 16 rules
2025-08-08 01:18:06 - src.compliance.suitability_validation_engine - [32mINFO[0m - Initialized suitability validation engine
2025-08-08 01:18:06 - src.compliance.disclosure_management_system - [32mINFO[0m - Initialized disclosure management system with 10 requirements
2025-08-08 01:18:06 - FinancialCrewOrchestrator - [32mINFO[0m - Created all enhanced specialized agents for financial analysis
2025-08-08 01:18:06 - FinancialCrewOrchestrator - [32mINFO[0m - Created CrewAI crew with all agents
2025-08-08 01:18:06 - FinancialCrewOrchestrator - [32mINFO[0m - Test info message
2025-08-08 01:18:06 - FinancialCrewOrchestrator - [33mWARNING[0m - Test warning message
2025-08-08 01:18:06 - FinancialCrewOrchestrator - [31mERROR[0m - Test error message
2025-08-08 01:18:06 - FinancialCrewOrchestrator - [33mWARNING[0m - Validation error: Test validation error
2025-08-08 01:24:58 - IncomeStrategy - [32mINFO[0m - Generating income response - {'strategy': 'IncomeStrategy'}
2025-08-08 01:24:58 - InvestmentStrategy - [32mINFO[0m - Generating investment response - {'strategy': 'InvestmentStrategy'}
2025-08-08 01:24:58 - RiskStrategy - [32mINFO[0m - Generating risk analysis response - {'strategy': 'RiskStrategy'}
2025-08-08 01:24:58 - GrowthStrategy - [32mINFO[0m - Generating growth response - {'strategy': 'GrowthStrategy'}
2025-08-08 01:24:58 - IncomeStrategy - [32mINFO[0m - Generating income response - {'strategy': 'IncomeStrategy'}
2025-08-08 01:25:03 - httpx - [32mINFO[0m - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-08-08 01:25:07 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 01:25:07 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Market data agent created successfully
2025-08-08 01:25:07 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent 'MarketDataAgent' initialized successfully
2025-08-08 01:25:07 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent configuration validation passed
2025-08-08 01:25:07 - src.compliance.compliance_rules_engine - [32mINFO[0m - Initialized compliance engine with 16 rules
2025-08-08 01:25:07 - src.compliance.suitability_validation_engine - [32mINFO[0m - Initialized suitability validation engine
2025-08-08 01:25:07 - src.compliance.disclosure_management_system - [32mINFO[0m - Initialized disclosure management system with 10 requirements
2025-08-08 01:25:07 - FinancialCrewOrchestrator - [32mINFO[0m - Created all enhanced specialized agents for financial analysis
2025-08-08 01:25:07 - FinancialCrewOrchestrator - [32mINFO[0m - Created CrewAI crew with all agents
2025-08-08 01:25:07 - IncomeStrategy - [32mINFO[0m - Generating income response - {'strategy': 'IncomeStrategy'}
2025-08-08 01:34:18 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 01:34:18 - MarketDataAgent - [31mERROR[0m - Failed to initialize agent: litellm.BadRequestError: AnthropicException - litellm.BadRequestError: Anthropic requires at least one non-system message. Either provide one, or set `litellm.modify_params = True` // `litellm_settings::modify_params: True` to add the dummy user message - {'role': 'user', 'content': 'Please continue.'}.
Received Messages=[] - Error: litellm.BadRequestError: AnthropicException - litellm.BadRequestError: Anthropic requires at least one non-system message. Either provide one, or set `litellm.modify_params = True` // `litellm_settings::modify_params: True` to add the dummy user message - {'role': 'user', 'content': 'Please continue.'}.
Received Messages=[]
Traceback (most recent call last):
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\transformation.py", line 669, in transform_request
    anthropic_messages = anthropic_messages_pt(
                         ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\litellm_core_utils\prompt_templates\factory.py", line 1527, in anthropic_messages_pt
    raise litellm.BadRequestError(
litellm.exceptions.BadRequestError: litellm.BadRequestError: Anthropic requires at least one non-system message. Either provide one, or set `litellm.modify_params = True` // `litellm_settings::modify_params: True` to add the dummy user message - {'role': 'user', 'content': 'Please continue.'}.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 335, in completion
    data = config.transform_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\transformation.py", line 675, in transform_request
    raise AnthropicError(
litellm.llms.anthropic.common_utils.AnthropicError: litellm.BadRequestError: Anthropic requires at least one non-system message. Either provide one, or set `litellm.modify_params = True` // `litellm_settings::modify_params: True` to add the dummy user message - {'role': 'user', 'content': 'Please continue.'}.
Received Messages=[]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\base_agent_enhanced.py", line 138, in _initialize_agent
    self.llm = completion(
               ^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1285, in wrapper
    raise e
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 3304, in completion
    raise exception_type(
          ^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\litellm_core_utils\exception_mapping_utils.py", line 2271, in exception_type
    raise e
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\litellm_core_utils\exception_mapping_utils.py", line 581, in exception_type
    raise BadRequestError(
litellm.exceptions.BadRequestError: litellm.BadRequestError: AnthropicException - litellm.BadRequestError: Anthropic requires at least one non-system message. Either provide one, or set `litellm.modify_params = True` // `litellm_settings::modify_params: True` to add the dummy user message - {'role': 'user', 'content': 'Please continue.'}.
Received Messages=[]
2025-08-08 01:34:18 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 01:34:18 - MarketDataAgent - [31mERROR[0m - Failed to initialize agent: litellm.BadRequestError: AnthropicException - litellm.BadRequestError: Anthropic requires at least one non-system message. Either provide one, or set `litellm.modify_params = True` // `litellm_settings::modify_params: True` to add the dummy user message - {'role': 'user', 'content': 'Please continue.'}.
Received Messages=[] - Error: litellm.BadRequestError: AnthropicException - litellm.BadRequestError: Anthropic requires at least one non-system message. Either provide one, or set `litellm.modify_params = True` // `litellm_settings::modify_params: True` to add the dummy user message - {'role': 'user', 'content': 'Please continue.'}.
Received Messages=[]
Traceback (most recent call last):
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\transformation.py", line 669, in transform_request
    anthropic_messages = anthropic_messages_pt(
                         ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\litellm_core_utils\prompt_templates\factory.py", line 1527, in anthropic_messages_pt
    raise litellm.BadRequestError(
litellm.exceptions.BadRequestError: litellm.BadRequestError: Anthropic requires at least one non-system message. Either provide one, or set `litellm.modify_params = True` // `litellm_settings::modify_params: True` to add the dummy user message - {'role': 'user', 'content': 'Please continue.'}.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 335, in completion
    data = config.transform_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\transformation.py", line 675, in transform_request
    raise AnthropicError(
litellm.llms.anthropic.common_utils.AnthropicError: litellm.BadRequestError: Anthropic requires at least one non-system message. Either provide one, or set `litellm.modify_params = True` // `litellm_settings::modify_params: True` to add the dummy user message - {'role': 'user', 'content': 'Please continue.'}.
Received Messages=[]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\base_agent_enhanced.py", line 138, in _initialize_agent
    self.llm = completion(
               ^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1285, in wrapper
    raise e
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 3304, in completion
    raise exception_type(
          ^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\litellm_core_utils\exception_mapping_utils.py", line 2271, in exception_type
    raise e
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\litellm_core_utils\exception_mapping_utils.py", line 581, in exception_type
    raise BadRequestError(
litellm.exceptions.BadRequestError: litellm.BadRequestError: AnthropicException - litellm.BadRequestError: Anthropic requires at least one non-system message. Either provide one, or set `litellm.modify_params = True` // `litellm_settings::modify_params: True` to add the dummy user message - {'role': 'user', 'content': 'Please continue.'}.
Received Messages=[]
2025-08-08 01:34:18 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 01:34:19 - MarketDataAgent - [31mERROR[0m - Failed to initialize agent: litellm.BadRequestError: AnthropicException - litellm.BadRequestError: Anthropic requires at least one non-system message. Either provide one, or set `litellm.modify_params = True` // `litellm_settings::modify_params: True` to add the dummy user message - {'role': 'user', 'content': 'Please continue.'}.
Received Messages=[] - Error: litellm.BadRequestError: AnthropicException - litellm.BadRequestError: Anthropic requires at least one non-system message. Either provide one, or set `litellm.modify_params = True` // `litellm_settings::modify_params: True` to add the dummy user message - {'role': 'user', 'content': 'Please continue.'}.
Received Messages=[]
Traceback (most recent call last):
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\transformation.py", line 669, in transform_request
    anthropic_messages = anthropic_messages_pt(
                         ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\litellm_core_utils\prompt_templates\factory.py", line 1527, in anthropic_messages_pt
    raise litellm.BadRequestError(
litellm.exceptions.BadRequestError: litellm.BadRequestError: Anthropic requires at least one non-system message. Either provide one, or set `litellm.modify_params = True` // `litellm_settings::modify_params: True` to add the dummy user message - {'role': 'user', 'content': 'Please continue.'}.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 335, in completion
    data = config.transform_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\transformation.py", line 675, in transform_request
    raise AnthropicError(
litellm.llms.anthropic.common_utils.AnthropicError: litellm.BadRequestError: Anthropic requires at least one non-system message. Either provide one, or set `litellm.modify_params = True` // `litellm_settings::modify_params: True` to add the dummy user message - {'role': 'user', 'content': 'Please continue.'}.
Received Messages=[]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\base_agent_enhanced.py", line 138, in _initialize_agent
    self.llm = completion(
               ^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1285, in wrapper
    raise e
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 3304, in completion
    raise exception_type(
          ^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\litellm_core_utils\exception_mapping_utils.py", line 2271, in exception_type
    raise e
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\litellm_core_utils\exception_mapping_utils.py", line 581, in exception_type
    raise BadRequestError(
litellm.exceptions.BadRequestError: litellm.BadRequestError: AnthropicException - litellm.BadRequestError: Anthropic requires at least one non-system message. Either provide one, or set `litellm.modify_params = True` // `litellm_settings::modify_params: True` to add the dummy user message - {'role': 'user', 'content': 'Please continue.'}.
Received Messages=[]
2025-08-08 01:34:19 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 01:34:19 - MarketDataAgent - [31mERROR[0m - Failed to initialize agent: litellm.BadRequestError: AnthropicException - litellm.BadRequestError: Anthropic requires at least one non-system message. Either provide one, or set `litellm.modify_params = True` // `litellm_settings::modify_params: True` to add the dummy user message - {'role': 'user', 'content': 'Please continue.'}.
Received Messages=[] - Error: litellm.BadRequestError: AnthropicException - litellm.BadRequestError: Anthropic requires at least one non-system message. Either provide one, or set `litellm.modify_params = True` // `litellm_settings::modify_params: True` to add the dummy user message - {'role': 'user', 'content': 'Please continue.'}.
Received Messages=[]
Traceback (most recent call last):
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\transformation.py", line 669, in transform_request
    anthropic_messages = anthropic_messages_pt(
                         ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\litellm_core_utils\prompt_templates\factory.py", line 1527, in anthropic_messages_pt
    raise litellm.BadRequestError(
litellm.exceptions.BadRequestError: litellm.BadRequestError: Anthropic requires at least one non-system message. Either provide one, or set `litellm.modify_params = True` // `litellm_settings::modify_params: True` to add the dummy user message - {'role': 'user', 'content': 'Please continue.'}.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 335, in completion
    data = config.transform_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\transformation.py", line 675, in transform_request
    raise AnthropicError(
litellm.llms.anthropic.common_utils.AnthropicError: litellm.BadRequestError: Anthropic requires at least one non-system message. Either provide one, or set `litellm.modify_params = True` // `litellm_settings::modify_params: True` to add the dummy user message - {'role': 'user', 'content': 'Please continue.'}.
Received Messages=[]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\base_agent_enhanced.py", line 138, in _initialize_agent
    self.llm = completion(
               ^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1285, in wrapper
    raise e
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 3304, in completion
    raise exception_type(
          ^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\litellm_core_utils\exception_mapping_utils.py", line 2271, in exception_type
    raise e
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\litellm_core_utils\exception_mapping_utils.py", line 581, in exception_type
    raise BadRequestError(
litellm.exceptions.BadRequestError: litellm.BadRequestError: AnthropicException - litellm.BadRequestError: Anthropic requires at least one non-system message. Either provide one, or set `litellm.modify_params = True` // `litellm_settings::modify_params: True` to add the dummy user message - {'role': 'user', 'content': 'Please continue.'}.
Received Messages=[]
2025-08-08 01:35:06 - MarketDataAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 01:35:06 - MarketDataAgent - [31mERROR[0m - Failed to initialize agent: 1 validation error for Agent
goal
  Field required [type=missing, input_value={'role': 'Market Data Ana....7, 'max_tokens': 4000}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing - Error: 1 validation error for Agent
goal
  Field required [type=missing, input_value={'role': 'Market Data Ana....7, 'max_tokens': 4000}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
Traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\base_agent_enhanced.py", line 148, in _initialize_agent
    self.crew_agent = Agent(
                      ^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for Agent
goal
  Field required [type=missing, input_value={'role': 'Market Data Ana....7, 'max_tokens': 4000}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-08-08 01:35:06 - MarketDataAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 01:35:06 - MarketDataAgent - [31mERROR[0m - Failed to initialize agent: 1 validation error for Agent
goal
  Field required [type=missing, input_value={'role': 'Market Data Ana....7, 'max_tokens': 4000}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing - Error: 1 validation error for Agent
goal
  Field required [type=missing, input_value={'role': 'Market Data Ana....7, 'max_tokens': 4000}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
Traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\base_agent_enhanced.py", line 148, in _initialize_agent
    self.crew_agent = Agent(
                      ^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for Agent
goal
  Field required [type=missing, input_value={'role': 'Market Data Ana....7, 'max_tokens': 4000}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-08-08 01:35:06 - MarketDataAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 01:35:06 - MarketDataAgent - [31mERROR[0m - Failed to initialize agent: 1 validation error for Agent
goal
  Field required [type=missing, input_value={'role': 'Market Data Ana....7, 'max_tokens': 4000}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing - Error: 1 validation error for Agent
goal
  Field required [type=missing, input_value={'role': 'Market Data Ana....7, 'max_tokens': 4000}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
Traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\base_agent_enhanced.py", line 148, in _initialize_agent
    self.crew_agent = Agent(
                      ^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for Agent
goal
  Field required [type=missing, input_value={'role': 'Market Data Ana....7, 'max_tokens': 4000}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-08-08 01:35:06 - MarketDataAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 01:35:06 - MarketDataAgent - [31mERROR[0m - Failed to initialize agent: 1 validation error for Agent
goal
  Field required [type=missing, input_value={'role': 'Valid Role', 'b...0.5, 'max_tokens': 500}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing - Error: 1 validation error for Agent
goal
  Field required [type=missing, input_value={'role': 'Valid Role', 'b...0.5, 'max_tokens': 500}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
Traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\base_agent_enhanced.py", line 148, in _initialize_agent
    self.crew_agent = Agent(
                      ^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for Agent
goal
  Field required [type=missing, input_value={'role': 'Valid Role', 'b...0.5, 'max_tokens': 500}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' created successfully
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' initialized successfully
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Added tool: MarketDataTool
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Added tool: EconomicIndicatorTool
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Added tool: TrendAnalysisTool
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Added 3 market data tools
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Market data agent enhanced features initialized
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' created successfully
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' initialized successfully
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Added tool: MarketDataTool
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Added tool: EconomicIndicatorTool
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Added tool: TrendAnalysisTool
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Added 3 market data tools
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Market data agent enhanced features initialized
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Analyzing market conditions for 2 symbols
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Executing task: Analyze market conditions for symbols: ['AAPL', 'GOOGL']...
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Task executed successfully
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Market analysis completed successfully
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Retrieving economic indicators
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Executing task: Retrieve and analyze current economic indicators...
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Task executed successfully
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Economic indicators retrieved successfully
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Analyzing trends for AAPL over 1y
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Executing task: Analyze market trends for AAPL over 1y period...
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Task executed successfully
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Trend analysis completed for AAPL
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Generating comprehensive market summary
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Analyzing market conditions for all symbols
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Executing task: Analyze market conditions for symbols: general market...
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Task executed successfully
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Market analysis completed successfully
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Retrieving economic indicators
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Executing task: Retrieve and analyze current economic indicators...
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Task executed successfully
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Economic indicators retrieved successfully
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Market summary generated successfully
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' created successfully
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' initialized successfully
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Added tool: MarketDataTool
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Added tool: EconomicIndicatorTool
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Added tool: TrendAnalysisTool
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Added 3 market data tools
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Market data agent enhanced features initialized
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Analyzing market conditions for 1 symbols
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Executing task: Analyze market conditions for symbols: ['AAPL']...
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Task executed successfully
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Market analysis completed successfully
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Agent 'ValidAgent' created successfully
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Agent 'ValidAgent' initialized successfully
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Added tool: MarketDataTool
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Added tool: EconomicIndicatorTool
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Added tool: TrendAnalysisTool
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Added 3 market data tools
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Market data agent enhanced features initialized
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Updated config: temperature = 0.8
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Updated config: max_tokens = 1000
2025-08-08 01:36:34 - MarketDataAgent - [32mINFO[0m - Updated data sources: new_source1, new_source2
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' created successfully
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' initialized successfully
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Added tool: MarketDataTool
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Added tool: EconomicIndicatorTool
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Added tool: TrendAnalysisTool
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Added 3 market data tools
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Market data agent enhanced features initialized
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' created successfully
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' initialized successfully
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Added tool: MarketDataTool
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Added tool: EconomicIndicatorTool
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Added tool: TrendAnalysisTool
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Added 3 market data tools
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Market data agent enhanced features initialized
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Executing task: Test task...
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Task executed successfully
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Agent 'CustomMarketAgent' created successfully
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Agent 'CustomMarketAgent' initialized successfully
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Added tool: MarketDataTool
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Added tool: EconomicIndicatorTool
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Added tool: TrendAnalysisTool
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Added 3 market data tools
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Configured data sources: custom_source1, custom_source2
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Market data agent enhanced features initialized
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Updated config: temperature = 0.9
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Updated config: max_tokens = 3000
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Updated data sources: new_source1, new_source2, new_source3
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' created successfully
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' initialized successfully
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Added tool: MarketDataTool
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Added tool: EconomicIndicatorTool
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Added tool: TrendAnalysisTool
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Added 3 market data tools
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Market data agent enhanced features initialized
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Added tool: TestTool
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Removed tool: TestTool
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' created successfully
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' initialized successfully
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Added tool: MarketDataTool
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Added tool: EconomicIndicatorTool
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Added tool: TrendAnalysisTool
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Added 3 market data tools
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Market data agent enhanced features initialized
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Executing task: Valid task...
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Task executed successfully
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' created successfully
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' initialized successfully
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Added tool: MarketDataTool
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Added tool: EconomicIndicatorTool
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Added tool: TrendAnalysisTool
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Added 3 market data tools
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Market data agent enhanced features initialized
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Analyzing market conditions for 2 symbols
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Executing task: Analyze market conditions for symbols: ['AAPL', 'GOOGL']...
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Task executed successfully
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Market analysis completed successfully
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Retrieving economic indicators
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Executing task: Retrieve and analyze current economic indicators...
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Task executed successfully
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Economic indicators retrieved successfully
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Analyzing trends for AAPL over 1y
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Executing task: Analyze market trends for AAPL over 1y period...
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Task executed successfully
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Trend analysis completed for AAPL
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Generating comprehensive market summary
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Analyzing market conditions for all symbols
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Executing task: Analyze market conditions for symbols: general market...
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Task executed successfully
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Market analysis completed successfully
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Retrieving economic indicators
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Executing task: Retrieve and analyze current economic indicators...
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Task executed successfully
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Economic indicators retrieved successfully
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Market summary generated successfully
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' created successfully
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' initialized successfully
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Added tool: MarketDataTool
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Added tool: EconomicIndicatorTool
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Added tool: TrendAnalysisTool
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Added 3 market data tools
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Market data agent enhanced features initialized
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Executing task: Performance test task 0...
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Task executed successfully
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Executing task: Performance test task 1...
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Task executed successfully
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Executing task: Performance test task 2...
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Task executed successfully
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' created successfully
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' initialized successfully
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Added tool: MarketDataTool
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Added tool: EconomicIndicatorTool
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Added tool: TrendAnalysisTool
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Added 3 market data tools
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Market data agent enhanced features initialized
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Executing task: ...
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Task executed successfully
2025-08-08 01:41:08 - MarketDataAgent - [31mERROR[0m - Task execution failed: 'NoneType' object is not subscriptable - Error: 'NoneType' object is not subscriptable
Traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\base_agent_enhanced.py", line 207, in execute_task
    self.log_info(f"Executing task: {task_description[:100]}...")
                                     ~~~~~~~~~~~~~~~~^^^^^^
TypeError: 'NoneType' object is not subscriptable
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' created successfully
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' initialized successfully
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Added tool: MarketDataTool
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Added tool: EconomicIndicatorTool
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Added tool: TrendAnalysisTool
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Added 3 market data tools
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 01:41:08 - MarketDataAgent - [32mINFO[0m - Market data agent enhanced features initialized
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' created successfully
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' initialized successfully
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Added tool: MarketDataTool
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Added tool: EconomicIndicatorTool
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Added tool: TrendAnalysisTool
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Added 3 market data tools
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Market data agent enhanced features initialized
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' created successfully
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' initialized successfully
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Added tool: MarketDataTool
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Added tool: EconomicIndicatorTool
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Added tool: TrendAnalysisTool
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Added 3 market data tools
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Market data agent enhanced features initialized
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Executing task: Test task...
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Task executed successfully
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Agent metrics reset
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Agent 'CustomMarketAgent' created successfully
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Agent 'CustomMarketAgent' initialized successfully
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Added tool: MarketDataTool
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Added tool: EconomicIndicatorTool
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Added tool: TrendAnalysisTool
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Added 3 market data tools
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Configured data sources: custom_source1, custom_source2
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Market data agent enhanced features initialized
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Updated config: temperature = 0.9
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Updated config: max_tokens = 3000
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Updated data sources: new_source1, new_source2, new_source3
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' created successfully
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' initialized successfully
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Added tool: MarketDataTool
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Added tool: EconomicIndicatorTool
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Added tool: TrendAnalysisTool
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Added 3 market data tools
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Market data agent enhanced features initialized
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Added tool: TestTool
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Removed tool: TestTool
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' created successfully
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' initialized successfully
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Added tool: MarketDataTool
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Added tool: EconomicIndicatorTool
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Added tool: TrendAnalysisTool
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Added 3 market data tools
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Market data agent enhanced features initialized
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Executing task: Valid task...
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Task executed successfully
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' created successfully
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' initialized successfully
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Added tool: MarketDataTool
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Added tool: EconomicIndicatorTool
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Added tool: TrendAnalysisTool
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Added 3 market data tools
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Market data agent enhanced features initialized
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Analyzing market conditions for 2 symbols
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Executing task: Analyze market conditions for symbols: ['AAPL', 'GOOGL']...
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Task executed successfully
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Market analysis completed successfully
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Retrieving economic indicators
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Executing task: Retrieve and analyze current economic indicators...
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Task executed successfully
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Economic indicators retrieved successfully
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Analyzing trends for AAPL over 1y
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Executing task: Analyze market trends for AAPL over 1y period...
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Task executed successfully
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Trend analysis completed for AAPL
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Generating comprehensive market summary
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Analyzing market conditions for all symbols
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Executing task: Analyze market conditions for symbols: general market...
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Task executed successfully
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Market analysis completed successfully
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Retrieving economic indicators
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Executing task: Retrieve and analyze current economic indicators...
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Task executed successfully
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Economic indicators retrieved successfully
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Market summary generated successfully
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' created successfully
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' initialized successfully
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Added tool: MarketDataTool
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Added tool: EconomicIndicatorTool
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Added tool: TrendAnalysisTool
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Added 3 market data tools
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Market data agent enhanced features initialized
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Executing task: Performance test task 0...
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Task executed successfully
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Executing task: Performance test task 1...
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Task executed successfully
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Executing task: Performance test task 2...
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Task executed successfully
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' created successfully
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' initialized successfully
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Added tool: MarketDataTool
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Added tool: EconomicIndicatorTool
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Added tool: TrendAnalysisTool
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Added 3 market data tools
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Market data agent enhanced features initialized
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Executing task: ...
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Task executed successfully
2025-08-08 01:41:49 - MarketDataAgent - [31mERROR[0m - Task execution failed: 'NoneType' object is not subscriptable - Error: 'NoneType' object is not subscriptable
Traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\base_agent_enhanced.py", line 211, in execute_task
    self.log_info(f"Executing task: {task_description[:100]}...")
                                     ~~~~~~~~~~~~~~~~^^^^^^
TypeError: 'NoneType' object is not subscriptable
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' created successfully
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' initialized successfully
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Added tool: MarketDataTool
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Added tool: EconomicIndicatorTool
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Added tool: TrendAnalysisTool
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Added 3 market data tools
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 01:41:49 - MarketDataAgent - [32mINFO[0m - Market data agent enhanced features initialized
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' created successfully
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' initialized successfully
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Added tool: MarketDataTool
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Added tool: EconomicIndicatorTool
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Added tool: TrendAnalysisTool
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Added 3 market data tools
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Market data agent enhanced features initialized
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - Agent 'RiskAnalysisAgent' created successfully
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - Agent 'RiskAnalysisAgent' initialized successfully
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - Added tool: RiskCalculationTool
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - Added tool: VolatilityAnalysisTool
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - Added tool: PortfolioRiskTool
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - Added 3 risk analysis tools
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - Configured risk models: var, cvar, sharpe_ratio, sortino_ratio
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - Risk analysis agent enhanced features initialized
2025-08-08 02:05:24 - RecommendationAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:05:24 - RecommendationAgent - [32mINFO[0m - Agent 'RecommendationAgent' created successfully
2025-08-08 02:05:24 - RecommendationAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:05:24 - RecommendationAgent - [32mINFO[0m - Agent 'RecommendationAgent' initialized successfully
2025-08-08 02:05:24 - RecommendationAgent - [32mINFO[0m - Added tool: ProductAnalysisTool
2025-08-08 02:05:24 - RecommendationAgent - [32mINFO[0m - Added tool: PortfolioOptimizationTool
2025-08-08 02:05:24 - RecommendationAgent - [32mINFO[0m - Added tool: RecommendationScoringTool
2025-08-08 02:05:24 - RecommendationAgent - [32mINFO[0m - Added 3 recommendation tools
2025-08-08 02:05:24 - RecommendationAgent - [32mINFO[0m - Configured recommendation models: risk_adjusted, diversification, income_focused, growth_oriented
2025-08-08 02:05:24 - RecommendationAgent - [32mINFO[0m - Recommendation agent enhanced features initialized
2025-08-08 02:05:24 - ComplianceAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:05:24 - ComplianceAgent - [32mINFO[0m - Agent 'ComplianceAgent' created successfully
2025-08-08 02:05:24 - ComplianceAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:05:24 - ComplianceAgent - [32mINFO[0m - Agent 'ComplianceAgent' initialized successfully
2025-08-08 02:05:24 - ComplianceAgent - [32mINFO[0m - Added tool: SuitabilityCheckTool
2025-08-08 02:05:24 - ComplianceAgent - [32mINFO[0m - Added tool: RegulatoryCheckTool
2025-08-08 02:05:24 - ComplianceAgent - [32mINFO[0m - Added tool: ComplianceAuditTool
2025-08-08 02:05:24 - ComplianceAgent - [32mINFO[0m - Added 3 compliance tools
2025-08-08 02:05:24 - ComplianceAgent - [32mINFO[0m - Configured compliance rules: suitability, know_your_customer, anti_money_laundering
2025-08-08 02:05:24 - ComplianceAgent - [32mINFO[0m - Compliance agent enhanced features initialized
2025-08-08 02:05:24 - ReportWriterAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:05:24 - ReportWriterAgent - [32mINFO[0m - Agent 'ReportWriterAgent' created successfully
2025-08-08 02:05:24 - ReportWriterAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:05:24 - ReportWriterAgent - [32mINFO[0m - Agent 'ReportWriterAgent' initialized successfully
2025-08-08 02:05:24 - ReportWriterAgent - [32mINFO[0m - Added tool: ReportGeneratorTool
2025-08-08 02:05:24 - ReportWriterAgent - [32mINFO[0m - Added tool: FormatConverterTool
2025-08-08 02:05:24 - ReportWriterAgent - [32mINFO[0m - Added tool: ReportValidatorTool
2025-08-08 02:05:24 - ReportWriterAgent - [32mINFO[0m - Added 3 report writer tools
2025-08-08 02:05:24 - ReportWriterAgent - [32mINFO[0m - Configured report templates: executive_summary, detailed_analysis, investment_recommendation
2025-08-08 02:05:24 - ReportWriterAgent - [32mINFO[0m - Report writer agent enhanced features initialized
2025-08-08 02:05:24 - MemoryAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:05:24 - MemoryAgent - [32mINFO[0m - Agent 'MemoryAgent' created successfully
2025-08-08 02:05:24 - MemoryAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:05:24 - MemoryAgent - [32mINFO[0m - Agent 'MemoryAgent' initialized successfully
2025-08-08 02:05:24 - MemoryAgent - [32mINFO[0m - Added tool: MemoryStoreTool
2025-08-08 02:05:24 - MemoryAgent - [32mINFO[0m - Added tool: MemoryRetrieveTool
2025-08-08 02:05:24 - MemoryAgent - [32mINFO[0m - Added tool: MemoryCleanupTool
2025-08-08 02:05:24 - MemoryAgent - [32mINFO[0m - Added 3 memory tools
2025-08-08 02:05:24 - MemoryAgent - [32mINFO[0m - Configured memory types: conversation, user_preferences, investment_history, market_context
2025-08-08 02:05:24 - MemoryAgent - [32mINFO[0m - Memory agent enhanced features initialized
2025-08-08 02:05:24 - SupervisorAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:05:24 - SupervisorAgent - [32mINFO[0m - Agent 'SupervisorAgent' created successfully
2025-08-08 02:05:24 - SupervisorAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:05:24 - SupervisorAgent - [32mINFO[0m - Agent 'SupervisorAgent' initialized successfully
2025-08-08 02:05:24 - SupervisorAgent - [32mINFO[0m - Added tool: QualityReviewTool
2025-08-08 02:05:24 - SupervisorAgent - [32mINFO[0m - Added tool: ComplianceCheckTool
2025-08-08 02:05:24 - SupervisorAgent - [32mINFO[0m - Added tool: FinalApprovalTool
2025-08-08 02:05:24 - SupervisorAgent - [32mINFO[0m - Added 3 supervisor tools
2025-08-08 02:05:24 - SupervisorAgent - [32mINFO[0m - Configured review criteria: completeness, accuracy, compliance, clarity, relevance
2025-08-08 02:05:24 - SupervisorAgent - [32mINFO[0m - Supervisor agent enhanced features initialized
2025-08-08 02:05:24 - FinancialCrewOrchestrator - [32mINFO[0m - Created all enhanced specialized agents for financial analysis
2025-08-08 02:05:24 - FinancialCrewOrchestrator - [32mINFO[0m - Created CrewAI crew with all agents
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' created successfully
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' initialized successfully
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Added tool: MarketDataTool
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Added tool: EconomicIndicatorTool
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Added tool: TrendAnalysisTool
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Added 3 market data tools
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Market data agent enhanced features initialized
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - Agent 'RiskAnalysisAgent' created successfully
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - Agent 'RiskAnalysisAgent' initialized successfully
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - Added tool: RiskCalculationTool
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - Added tool: VolatilityAnalysisTool
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - Added tool: PortfolioRiskTool
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - Added 3 risk analysis tools
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - Configured risk models: var, cvar, sharpe_ratio, sortino_ratio
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - Risk analysis agent enhanced features initialized
2025-08-08 02:05:24 - RecommendationAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:05:24 - RecommendationAgent - [32mINFO[0m - Agent 'RecommendationAgent' created successfully
2025-08-08 02:05:24 - RecommendationAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:05:24 - RecommendationAgent - [32mINFO[0m - Agent 'RecommendationAgent' initialized successfully
2025-08-08 02:05:24 - RecommendationAgent - [32mINFO[0m - Added tool: ProductAnalysisTool
2025-08-08 02:05:24 - RecommendationAgent - [32mINFO[0m - Added tool: PortfolioOptimizationTool
2025-08-08 02:05:24 - RecommendationAgent - [32mINFO[0m - Added tool: RecommendationScoringTool
2025-08-08 02:05:24 - RecommendationAgent - [32mINFO[0m - Added 3 recommendation tools
2025-08-08 02:05:24 - RecommendationAgent - [32mINFO[0m - Configured recommendation models: risk_adjusted, diversification, income_focused, growth_oriented
2025-08-08 02:05:24 - RecommendationAgent - [32mINFO[0m - Recommendation agent enhanced features initialized
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' created successfully
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' initialized successfully
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Added tool: MarketDataTool
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Added tool: EconomicIndicatorTool
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Added tool: TrendAnalysisTool
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Added 3 market data tools
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Market data agent enhanced features initialized
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Executing task: Test task...
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Task executed successfully
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' created successfully
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' initialized successfully
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Added tool: MarketDataTool
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Added tool: EconomicIndicatorTool
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Added tool: TrendAnalysisTool
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Added 3 market data tools
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Market data agent enhanced features initialized
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - Agent 'RiskAnalysisAgent' created successfully
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - Agent 'RiskAnalysisAgent' initialized successfully
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - Added tool: RiskCalculationTool
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - Added tool: VolatilityAnalysisTool
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - Added tool: PortfolioRiskTool
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - Added 3 risk analysis tools
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - Configured risk models: var, cvar, sharpe_ratio, sortino_ratio
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - Risk analysis agent enhanced features initialized
2025-08-08 02:05:24 - RecommendationAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:05:24 - RecommendationAgent - [32mINFO[0m - Agent 'RecommendationAgent' created successfully
2025-08-08 02:05:24 - RecommendationAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:05:24 - RecommendationAgent - [32mINFO[0m - Agent 'RecommendationAgent' initialized successfully
2025-08-08 02:05:24 - RecommendationAgent - [32mINFO[0m - Added tool: ProductAnalysisTool
2025-08-08 02:05:24 - RecommendationAgent - [32mINFO[0m - Added tool: PortfolioOptimizationTool
2025-08-08 02:05:24 - RecommendationAgent - [32mINFO[0m - Added tool: RecommendationScoringTool
2025-08-08 02:05:24 - RecommendationAgent - [32mINFO[0m - Added 3 recommendation tools
2025-08-08 02:05:24 - RecommendationAgent - [32mINFO[0m - Configured recommendation models: risk_adjusted, diversification, income_focused, growth_oriented
2025-08-08 02:05:24 - RecommendationAgent - [32mINFO[0m - Recommendation agent enhanced features initialized
2025-08-08 02:05:24 - ComplianceAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:05:24 - ComplianceAgent - [32mINFO[0m - Agent 'ComplianceAgent' created successfully
2025-08-08 02:05:24 - ComplianceAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:05:24 - ComplianceAgent - [32mINFO[0m - Agent 'ComplianceAgent' initialized successfully
2025-08-08 02:05:24 - ComplianceAgent - [32mINFO[0m - Added tool: SuitabilityCheckTool
2025-08-08 02:05:24 - ComplianceAgent - [32mINFO[0m - Added tool: RegulatoryCheckTool
2025-08-08 02:05:24 - ComplianceAgent - [32mINFO[0m - Added tool: ComplianceAuditTool
2025-08-08 02:05:24 - ComplianceAgent - [32mINFO[0m - Added 3 compliance tools
2025-08-08 02:05:24 - ComplianceAgent - [32mINFO[0m - Configured compliance rules: suitability, know_your_customer, anti_money_laundering
2025-08-08 02:05:24 - ComplianceAgent - [32mINFO[0m - Compliance agent enhanced features initialized
2025-08-08 02:05:24 - ReportWriterAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:05:24 - ReportWriterAgent - [32mINFO[0m - Agent 'ReportWriterAgent' created successfully
2025-08-08 02:05:24 - ReportWriterAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:05:24 - ReportWriterAgent - [32mINFO[0m - Agent 'ReportWriterAgent' initialized successfully
2025-08-08 02:05:24 - ReportWriterAgent - [32mINFO[0m - Added tool: ReportGeneratorTool
2025-08-08 02:05:24 - ReportWriterAgent - [32mINFO[0m - Added tool: FormatConverterTool
2025-08-08 02:05:24 - ReportWriterAgent - [32mINFO[0m - Added tool: ReportValidatorTool
2025-08-08 02:05:24 - ReportWriterAgent - [32mINFO[0m - Added 3 report writer tools
2025-08-08 02:05:24 - ReportWriterAgent - [32mINFO[0m - Configured report templates: executive_summary, detailed_analysis, investment_recommendation
2025-08-08 02:05:24 - ReportWriterAgent - [32mINFO[0m - Report writer agent enhanced features initialized
2025-08-08 02:05:24 - MemoryAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:05:24 - MemoryAgent - [32mINFO[0m - Agent 'MemoryAgent' created successfully
2025-08-08 02:05:24 - MemoryAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:05:24 - MemoryAgent - [32mINFO[0m - Agent 'MemoryAgent' initialized successfully
2025-08-08 02:05:24 - MemoryAgent - [32mINFO[0m - Added tool: MemoryStoreTool
2025-08-08 02:05:24 - MemoryAgent - [32mINFO[0m - Added tool: MemoryRetrieveTool
2025-08-08 02:05:24 - MemoryAgent - [32mINFO[0m - Added tool: MemoryCleanupTool
2025-08-08 02:05:24 - MemoryAgent - [32mINFO[0m - Added 3 memory tools
2025-08-08 02:05:24 - MemoryAgent - [32mINFO[0m - Configured memory types: conversation, user_preferences, investment_history, market_context
2025-08-08 02:05:24 - MemoryAgent - [32mINFO[0m - Memory agent enhanced features initialized
2025-08-08 02:05:24 - SupervisorAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:05:24 - SupervisorAgent - [32mINFO[0m - Agent 'SupervisorAgent' created successfully
2025-08-08 02:05:24 - SupervisorAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:05:24 - SupervisorAgent - [32mINFO[0m - Agent 'SupervisorAgent' initialized successfully
2025-08-08 02:05:24 - SupervisorAgent - [32mINFO[0m - Added tool: QualityReviewTool
2025-08-08 02:05:24 - SupervisorAgent - [32mINFO[0m - Added tool: ComplianceCheckTool
2025-08-08 02:05:24 - SupervisorAgent - [32mINFO[0m - Added tool: FinalApprovalTool
2025-08-08 02:05:24 - SupervisorAgent - [32mINFO[0m - Added 3 supervisor tools
2025-08-08 02:05:24 - SupervisorAgent - [32mINFO[0m - Configured review criteria: completeness, accuracy, compliance, clarity, relevance
2025-08-08 02:05:24 - SupervisorAgent - [32mINFO[0m - Supervisor agent enhanced features initialized
2025-08-08 02:05:24 - FinancialCrewOrchestrator - [32mINFO[0m - Created all enhanced specialized agents for financial analysis
2025-08-08 02:05:24 - FinancialCrewOrchestrator - [32mINFO[0m - Created CrewAI crew with all agents
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' created successfully
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' initialized successfully
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Added tool: MarketDataTool
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Added tool: EconomicIndicatorTool
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Added tool: TrendAnalysisTool
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Added 3 market data tools
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Market data agent enhanced features initialized
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - Agent 'RiskAnalysisAgent' created successfully
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - Agent 'RiskAnalysisAgent' initialized successfully
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - Added tool: RiskCalculationTool
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - Added tool: VolatilityAnalysisTool
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - Added tool: PortfolioRiskTool
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - Added 3 risk analysis tools
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - Configured risk models: var, cvar, sharpe_ratio, sortino_ratio
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - Risk analysis agent enhanced features initialized
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' created successfully
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' initialized successfully
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Added tool: MarketDataTool
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Added tool: EconomicIndicatorTool
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Added tool: TrendAnalysisTool
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Added 3 market data tools
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Market data agent enhanced features initialized
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Analyzing market conditions for 2 symbols
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Executing task: Analyze market conditions for symbols: ['AAPL', 'GOOGL']...
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Task executed successfully
2025-08-08 02:05:24 - MarketDataAgent - [32mINFO[0m - Market analysis completed successfully
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - Agent 'RiskAnalysisAgent' created successfully
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - Agent 'RiskAnalysisAgent' initialized successfully
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - Added tool: RiskCalculationTool
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - Added tool: VolatilityAnalysisTool
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - Added tool: PortfolioRiskTool
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - Added 3 risk analysis tools
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - Configured risk models: var, cvar, sharpe_ratio, sortino_ratio
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - Risk analysis agent enhanced features initialized
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - Analyzing investment risk
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - Executing task: Analyze investment risk for: AAPL...
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - Task executed successfully
2025-08-08 02:05:24 - RiskAnalysisAgent - [32mINFO[0m - Investment risk analysis completed successfully
2025-08-08 02:05:24 - RecommendationAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:05:24 - RecommendationAgent - [32mINFO[0m - Agent 'RecommendationAgent' created successfully
2025-08-08 02:05:24 - RecommendationAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:05:24 - RecommendationAgent - [32mINFO[0m - Agent 'RecommendationAgent' initialized successfully
2025-08-08 02:05:24 - RecommendationAgent - [32mINFO[0m - Added tool: ProductAnalysisTool
2025-08-08 02:05:24 - RecommendationAgent - [32mINFO[0m - Added tool: PortfolioOptimizationTool
2025-08-08 02:05:24 - RecommendationAgent - [32mINFO[0m - Added tool: RecommendationScoringTool
2025-08-08 02:05:24 - RecommendationAgent - [32mINFO[0m - Added 3 recommendation tools
2025-08-08 02:05:24 - RecommendationAgent - [32mINFO[0m - Configured recommendation models: risk_adjusted, diversification, income_focused, growth_oriented
2025-08-08 02:05:24 - RecommendationAgent - [32mINFO[0m - Recommendation agent enhanced features initialized
2025-08-08 02:05:24 - RecommendationAgent - [32mINFO[0m - Generating personalized investment recommendations
2025-08-08 02:05:24 - RecommendationAgent - [32mINFO[0m - Executing task: Generate recommendations for user with moderate risk tolerance...
2025-08-08 02:05:24 - RecommendationAgent - [32mINFO[0m - Task executed successfully
2025-08-08 02:05:24 - RecommendationAgent - [32mINFO[0m - Investment recommendations generated successfully
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' created successfully
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' initialized successfully
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Added tool: MarketDataTool
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Added tool: EconomicIndicatorTool
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Added tool: TrendAnalysisTool
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Added 3 market data tools
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Market data agent enhanced features initialized
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - Agent 'RiskAnalysisAgent' created successfully
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - Agent 'RiskAnalysisAgent' initialized successfully
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - Added tool: RiskCalculationTool
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - Added tool: VolatilityAnalysisTool
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - Added tool: PortfolioRiskTool
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - Added 3 risk analysis tools
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - Configured risk models: var, cvar, sharpe_ratio, sortino_ratio
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - Risk analysis agent enhanced features initialized
2025-08-08 02:06:34 - RecommendationAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:06:34 - RecommendationAgent - [32mINFO[0m - Agent 'RecommendationAgent' created successfully
2025-08-08 02:06:34 - RecommendationAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:06:34 - RecommendationAgent - [32mINFO[0m - Agent 'RecommendationAgent' initialized successfully
2025-08-08 02:06:34 - RecommendationAgent - [32mINFO[0m - Added tool: ProductAnalysisTool
2025-08-08 02:06:34 - RecommendationAgent - [32mINFO[0m - Added tool: PortfolioOptimizationTool
2025-08-08 02:06:34 - RecommendationAgent - [32mINFO[0m - Added tool: RecommendationScoringTool
2025-08-08 02:06:34 - RecommendationAgent - [32mINFO[0m - Added 3 recommendation tools
2025-08-08 02:06:34 - RecommendationAgent - [32mINFO[0m - Configured recommendation models: risk_adjusted, diversification, income_focused, growth_oriented
2025-08-08 02:06:34 - RecommendationAgent - [32mINFO[0m - Recommendation agent enhanced features initialized
2025-08-08 02:06:34 - ComplianceAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:06:34 - ComplianceAgent - [32mINFO[0m - Agent 'ComplianceAgent' created successfully
2025-08-08 02:06:34 - ComplianceAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:06:34 - ComplianceAgent - [32mINFO[0m - Agent 'ComplianceAgent' initialized successfully
2025-08-08 02:06:34 - ComplianceAgent - [32mINFO[0m - Added tool: SuitabilityCheckTool
2025-08-08 02:06:34 - ComplianceAgent - [32mINFO[0m - Added tool: RegulatoryCheckTool
2025-08-08 02:06:34 - ComplianceAgent - [32mINFO[0m - Added tool: ComplianceAuditTool
2025-08-08 02:06:34 - ComplianceAgent - [32mINFO[0m - Added 3 compliance tools
2025-08-08 02:06:34 - ComplianceAgent - [32mINFO[0m - Configured compliance rules: suitability, know_your_customer, anti_money_laundering
2025-08-08 02:06:34 - ComplianceAgent - [32mINFO[0m - Compliance agent enhanced features initialized
2025-08-08 02:06:34 - ReportWriterAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:06:34 - ReportWriterAgent - [32mINFO[0m - Agent 'ReportWriterAgent' created successfully
2025-08-08 02:06:34 - ReportWriterAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:06:34 - ReportWriterAgent - [32mINFO[0m - Agent 'ReportWriterAgent' initialized successfully
2025-08-08 02:06:34 - ReportWriterAgent - [32mINFO[0m - Added tool: ReportGeneratorTool
2025-08-08 02:06:34 - ReportWriterAgent - [32mINFO[0m - Added tool: FormatConverterTool
2025-08-08 02:06:34 - ReportWriterAgent - [32mINFO[0m - Added tool: ReportValidatorTool
2025-08-08 02:06:34 - ReportWriterAgent - [32mINFO[0m - Added 3 report writer tools
2025-08-08 02:06:34 - ReportWriterAgent - [32mINFO[0m - Configured report templates: executive_summary, detailed_analysis, investment_recommendation
2025-08-08 02:06:34 - ReportWriterAgent - [32mINFO[0m - Report writer agent enhanced features initialized
2025-08-08 02:06:34 - MemoryAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:06:34 - MemoryAgent - [32mINFO[0m - Agent 'MemoryAgent' created successfully
2025-08-08 02:06:34 - MemoryAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:06:34 - MemoryAgent - [32mINFO[0m - Agent 'MemoryAgent' initialized successfully
2025-08-08 02:06:34 - MemoryAgent - [32mINFO[0m - Added tool: MemoryStoreTool
2025-08-08 02:06:34 - MemoryAgent - [32mINFO[0m - Added tool: MemoryRetrieveTool
2025-08-08 02:06:34 - MemoryAgent - [32mINFO[0m - Added tool: MemoryCleanupTool
2025-08-08 02:06:34 - MemoryAgent - [32mINFO[0m - Added 3 memory tools
2025-08-08 02:06:34 - MemoryAgent - [32mINFO[0m - Configured memory types: conversation, user_preferences, investment_history, market_context
2025-08-08 02:06:34 - MemoryAgent - [32mINFO[0m - Memory agent enhanced features initialized
2025-08-08 02:06:34 - SupervisorAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:06:34 - SupervisorAgent - [32mINFO[0m - Agent 'SupervisorAgent' created successfully
2025-08-08 02:06:34 - SupervisorAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:06:34 - SupervisorAgent - [32mINFO[0m - Agent 'SupervisorAgent' initialized successfully
2025-08-08 02:06:34 - SupervisorAgent - [32mINFO[0m - Added tool: QualityReviewTool
2025-08-08 02:06:34 - SupervisorAgent - [32mINFO[0m - Added tool: ComplianceCheckTool
2025-08-08 02:06:34 - SupervisorAgent - [32mINFO[0m - Added tool: FinalApprovalTool
2025-08-08 02:06:34 - SupervisorAgent - [32mINFO[0m - Added 3 supervisor tools
2025-08-08 02:06:34 - SupervisorAgent - [32mINFO[0m - Configured review criteria: completeness, accuracy, compliance, clarity, relevance
2025-08-08 02:06:34 - SupervisorAgent - [32mINFO[0m - Supervisor agent enhanced features initialized
2025-08-08 02:06:34 - FinancialCrewOrchestrator - [32mINFO[0m - Created all enhanced specialized agents for financial analysis
2025-08-08 02:06:34 - FinancialCrewOrchestrator - [32mINFO[0m - Created CrewAI crew with all agents
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' created successfully
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' initialized successfully
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Added tool: MarketDataTool
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Added tool: EconomicIndicatorTool
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Added tool: TrendAnalysisTool
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Added 3 market data tools
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Market data agent enhanced features initialized
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - Agent 'RiskAnalysisAgent' created successfully
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - Agent 'RiskAnalysisAgent' initialized successfully
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - Added tool: RiskCalculationTool
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - Added tool: VolatilityAnalysisTool
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - Added tool: PortfolioRiskTool
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - Added 3 risk analysis tools
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - Configured risk models: var, cvar, sharpe_ratio, sortino_ratio
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - Risk analysis agent enhanced features initialized
2025-08-08 02:06:34 - RecommendationAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:06:34 - RecommendationAgent - [32mINFO[0m - Agent 'RecommendationAgent' created successfully
2025-08-08 02:06:34 - RecommendationAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:06:34 - RecommendationAgent - [32mINFO[0m - Agent 'RecommendationAgent' initialized successfully
2025-08-08 02:06:34 - RecommendationAgent - [32mINFO[0m - Added tool: ProductAnalysisTool
2025-08-08 02:06:34 - RecommendationAgent - [32mINFO[0m - Added tool: PortfolioOptimizationTool
2025-08-08 02:06:34 - RecommendationAgent - [32mINFO[0m - Added tool: RecommendationScoringTool
2025-08-08 02:06:34 - RecommendationAgent - [32mINFO[0m - Added 3 recommendation tools
2025-08-08 02:06:34 - RecommendationAgent - [32mINFO[0m - Configured recommendation models: risk_adjusted, diversification, income_focused, growth_oriented
2025-08-08 02:06:34 - RecommendationAgent - [32mINFO[0m - Recommendation agent enhanced features initialized
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' created successfully
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' initialized successfully
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Added tool: MarketDataTool
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Added tool: EconomicIndicatorTool
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Added tool: TrendAnalysisTool
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Added 3 market data tools
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Market data agent enhanced features initialized
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Executing task: Test task...
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Task executed successfully
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' created successfully
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' initialized successfully
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Added tool: MarketDataTool
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Added tool: EconomicIndicatorTool
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Added tool: TrendAnalysisTool
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Added 3 market data tools
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Market data agent enhanced features initialized
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - Agent 'RiskAnalysisAgent' created successfully
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - Agent 'RiskAnalysisAgent' initialized successfully
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - Added tool: RiskCalculationTool
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - Added tool: VolatilityAnalysisTool
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - Added tool: PortfolioRiskTool
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - Added 3 risk analysis tools
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - Configured risk models: var, cvar, sharpe_ratio, sortino_ratio
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - Risk analysis agent enhanced features initialized
2025-08-08 02:06:34 - RecommendationAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:06:34 - RecommendationAgent - [32mINFO[0m - Agent 'RecommendationAgent' created successfully
2025-08-08 02:06:34 - RecommendationAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:06:34 - RecommendationAgent - [32mINFO[0m - Agent 'RecommendationAgent' initialized successfully
2025-08-08 02:06:34 - RecommendationAgent - [32mINFO[0m - Added tool: ProductAnalysisTool
2025-08-08 02:06:34 - RecommendationAgent - [32mINFO[0m - Added tool: PortfolioOptimizationTool
2025-08-08 02:06:34 - RecommendationAgent - [32mINFO[0m - Added tool: RecommendationScoringTool
2025-08-08 02:06:34 - RecommendationAgent - [32mINFO[0m - Added 3 recommendation tools
2025-08-08 02:06:34 - RecommendationAgent - [32mINFO[0m - Configured recommendation models: risk_adjusted, diversification, income_focused, growth_oriented
2025-08-08 02:06:34 - RecommendationAgent - [32mINFO[0m - Recommendation agent enhanced features initialized
2025-08-08 02:06:34 - ComplianceAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:06:34 - ComplianceAgent - [32mINFO[0m - Agent 'ComplianceAgent' created successfully
2025-08-08 02:06:34 - ComplianceAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:06:34 - ComplianceAgent - [32mINFO[0m - Agent 'ComplianceAgent' initialized successfully
2025-08-08 02:06:34 - ComplianceAgent - [32mINFO[0m - Added tool: SuitabilityCheckTool
2025-08-08 02:06:34 - ComplianceAgent - [32mINFO[0m - Added tool: RegulatoryCheckTool
2025-08-08 02:06:34 - ComplianceAgent - [32mINFO[0m - Added tool: ComplianceAuditTool
2025-08-08 02:06:34 - ComplianceAgent - [32mINFO[0m - Added 3 compliance tools
2025-08-08 02:06:34 - ComplianceAgent - [32mINFO[0m - Configured compliance rules: suitability, know_your_customer, anti_money_laundering
2025-08-08 02:06:34 - ComplianceAgent - [32mINFO[0m - Compliance agent enhanced features initialized
2025-08-08 02:06:34 - ReportWriterAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:06:34 - ReportWriterAgent - [32mINFO[0m - Agent 'ReportWriterAgent' created successfully
2025-08-08 02:06:34 - ReportWriterAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:06:34 - ReportWriterAgent - [32mINFO[0m - Agent 'ReportWriterAgent' initialized successfully
2025-08-08 02:06:34 - ReportWriterAgent - [32mINFO[0m - Added tool: ReportGeneratorTool
2025-08-08 02:06:34 - ReportWriterAgent - [32mINFO[0m - Added tool: FormatConverterTool
2025-08-08 02:06:34 - ReportWriterAgent - [32mINFO[0m - Added tool: ReportValidatorTool
2025-08-08 02:06:34 - ReportWriterAgent - [32mINFO[0m - Added 3 report writer tools
2025-08-08 02:06:34 - ReportWriterAgent - [32mINFO[0m - Configured report templates: executive_summary, detailed_analysis, investment_recommendation
2025-08-08 02:06:34 - ReportWriterAgent - [32mINFO[0m - Report writer agent enhanced features initialized
2025-08-08 02:06:34 - MemoryAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:06:34 - MemoryAgent - [32mINFO[0m - Agent 'MemoryAgent' created successfully
2025-08-08 02:06:34 - MemoryAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:06:34 - MemoryAgent - [32mINFO[0m - Agent 'MemoryAgent' initialized successfully
2025-08-08 02:06:34 - MemoryAgent - [32mINFO[0m - Added tool: MemoryStoreTool
2025-08-08 02:06:34 - MemoryAgent - [32mINFO[0m - Added tool: MemoryRetrieveTool
2025-08-08 02:06:34 - MemoryAgent - [32mINFO[0m - Added tool: MemoryCleanupTool
2025-08-08 02:06:34 - MemoryAgent - [32mINFO[0m - Added 3 memory tools
2025-08-08 02:06:34 - MemoryAgent - [32mINFO[0m - Configured memory types: conversation, user_preferences, investment_history, market_context
2025-08-08 02:06:34 - MemoryAgent - [32mINFO[0m - Memory agent enhanced features initialized
2025-08-08 02:06:34 - SupervisorAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:06:34 - SupervisorAgent - [32mINFO[0m - Agent 'SupervisorAgent' created successfully
2025-08-08 02:06:34 - SupervisorAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:06:34 - SupervisorAgent - [32mINFO[0m - Agent 'SupervisorAgent' initialized successfully
2025-08-08 02:06:34 - SupervisorAgent - [32mINFO[0m - Added tool: QualityReviewTool
2025-08-08 02:06:34 - SupervisorAgent - [32mINFO[0m - Added tool: ComplianceCheckTool
2025-08-08 02:06:34 - SupervisorAgent - [32mINFO[0m - Added tool: FinalApprovalTool
2025-08-08 02:06:34 - SupervisorAgent - [32mINFO[0m - Added 3 supervisor tools
2025-08-08 02:06:34 - SupervisorAgent - [32mINFO[0m - Configured review criteria: completeness, accuracy, compliance, clarity, relevance
2025-08-08 02:06:34 - SupervisorAgent - [32mINFO[0m - Supervisor agent enhanced features initialized
2025-08-08 02:06:34 - FinancialCrewOrchestrator - [32mINFO[0m - Created all enhanced specialized agents for financial analysis
2025-08-08 02:06:34 - FinancialCrewOrchestrator - [32mINFO[0m - Created CrewAI crew with all agents
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' created successfully
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' initialized successfully
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Added tool: MarketDataTool
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Added tool: EconomicIndicatorTool
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Added tool: TrendAnalysisTool
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Added 3 market data tools
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Market data agent enhanced features initialized
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - Agent 'RiskAnalysisAgent' created successfully
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - Agent 'RiskAnalysisAgent' initialized successfully
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - Added tool: RiskCalculationTool
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - Added tool: VolatilityAnalysisTool
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - Added tool: PortfolioRiskTool
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - Added 3 risk analysis tools
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - Configured risk models: var, cvar, sharpe_ratio, sortino_ratio
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - Risk analysis agent enhanced features initialized
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' created successfully
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' initialized successfully
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Added tool: MarketDataTool
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Added tool: EconomicIndicatorTool
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Added tool: TrendAnalysisTool
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Added 3 market data tools
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Market data agent enhanced features initialized
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Analyzing market conditions for 2 symbols
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Executing task: Analyze market conditions for symbols: ['AAPL', 'GOOGL']...
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Task executed successfully
2025-08-08 02:06:34 - MarketDataAgent - [32mINFO[0m - Market analysis completed successfully
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - Agent 'RiskAnalysisAgent' created successfully
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - Agent 'RiskAnalysisAgent' initialized successfully
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - Added tool: RiskCalculationTool
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - Added tool: VolatilityAnalysisTool
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - Added tool: PortfolioRiskTool
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - Added 3 risk analysis tools
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - Configured risk models: var, cvar, sharpe_ratio, sortino_ratio
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - Risk analysis agent enhanced features initialized
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - Analyzing investment risk
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - Executing task: Analyze investment risk for: AAPL...
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - Task executed successfully
2025-08-08 02:06:34 - RiskAnalysisAgent - [32mINFO[0m - Investment risk analysis completed successfully
2025-08-08 02:06:34 - RecommendationAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:06:34 - RecommendationAgent - [32mINFO[0m - Agent 'RecommendationAgent' created successfully
2025-08-08 02:06:34 - RecommendationAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:06:34 - RecommendationAgent - [32mINFO[0m - Agent 'RecommendationAgent' initialized successfully
2025-08-08 02:06:34 - RecommendationAgent - [32mINFO[0m - Added tool: ProductAnalysisTool
2025-08-08 02:06:34 - RecommendationAgent - [32mINFO[0m - Added tool: PortfolioOptimizationTool
2025-08-08 02:06:34 - RecommendationAgent - [32mINFO[0m - Added tool: RecommendationScoringTool
2025-08-08 02:06:34 - RecommendationAgent - [32mINFO[0m - Added 3 recommendation tools
2025-08-08 02:06:34 - RecommendationAgent - [32mINFO[0m - Configured recommendation models: risk_adjusted, diversification, income_focused, growth_oriented
2025-08-08 02:06:34 - RecommendationAgent - [32mINFO[0m - Recommendation agent enhanced features initialized
2025-08-08 02:06:34 - RecommendationAgent - [32mINFO[0m - Generating personalized investment recommendations
2025-08-08 02:06:34 - RecommendationAgent - [32mINFO[0m - Executing task: Generate recommendations for user with moderate risk tolerance...
2025-08-08 02:06:34 - RecommendationAgent - [32mINFO[0m - Task executed successfully
2025-08-08 02:06:34 - RecommendationAgent - [32mINFO[0m - Investment recommendations generated successfully
2025-08-08 02:23:57 - MarketDataAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:23:57 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' created successfully
2025-08-08 02:23:57 - MarketDataAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:23:57 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' initialized successfully
2025-08-08 02:23:57 - MarketDataAgent - [32mINFO[0m - Added tool: MarketDataTool
2025-08-08 02:23:57 - MarketDataAgent - [32mINFO[0m - Added tool: EconomicIndicatorTool
2025-08-08 02:23:57 - MarketDataAgent - [32mINFO[0m - Added tool: TrendAnalysisTool
2025-08-08 02:23:57 - MarketDataAgent - [32mINFO[0m - Added 3 market data tools
2025-08-08 02:23:57 - MarketDataAgent - [32mINFO[0m - Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 02:23:57 - MarketDataAgent - [32mINFO[0m - Market data agent enhanced features initialized
2025-08-08 02:23:57 - RiskAnalysisAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:23:57 - RiskAnalysisAgent - [32mINFO[0m - Agent 'RiskAnalysisAgent' created successfully
2025-08-08 02:23:57 - RiskAnalysisAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:23:57 - RiskAnalysisAgent - [32mINFO[0m - Agent 'RiskAnalysisAgent' initialized successfully
2025-08-08 02:23:57 - RiskAnalysisAgent - [32mINFO[0m - Added tool: RiskCalculationTool
2025-08-08 02:23:57 - RiskAnalysisAgent - [32mINFO[0m - Added tool: VolatilityAnalysisTool
2025-08-08 02:23:57 - RiskAnalysisAgent - [32mINFO[0m - Added tool: PortfolioRiskTool
2025-08-08 02:23:57 - RiskAnalysisAgent - [32mINFO[0m - Added 3 risk analysis tools
2025-08-08 02:23:57 - RiskAnalysisAgent - [32mINFO[0m - Configured risk models: var, cvar, sharpe_ratio, sortino_ratio
2025-08-08 02:23:57 - RiskAnalysisAgent - [32mINFO[0m - Risk analysis agent enhanced features initialized
2025-08-08 02:23:57 - RecommendationAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:23:57 - RecommendationAgent - [32mINFO[0m - Agent 'RecommendationAgent' created successfully
2025-08-08 02:23:57 - RecommendationAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:23:57 - RecommendationAgent - [32mINFO[0m - Agent 'RecommendationAgent' initialized successfully
2025-08-08 02:23:57 - RecommendationAgent - [32mINFO[0m - Added tool: ProductAnalysisTool
2025-08-08 02:23:57 - RecommendationAgent - [32mINFO[0m - Added tool: PortfolioOptimizationTool
2025-08-08 02:23:57 - RecommendationAgent - [32mINFO[0m - Added tool: RecommendationScoringTool
2025-08-08 02:23:57 - RecommendationAgent - [32mINFO[0m - Added 3 recommendation tools
2025-08-08 02:23:57 - RecommendationAgent - [32mINFO[0m - Configured recommendation models: risk_adjusted, diversification, income_focused, growth_oriented
2025-08-08 02:23:57 - RecommendationAgent - [32mINFO[0m - Recommendation agent enhanced features initialized
2025-08-08 02:23:57 - ComplianceAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:23:57 - ComplianceAgent - [32mINFO[0m - Agent 'ComplianceAgent' created successfully
2025-08-08 02:23:57 - ComplianceAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:23:57 - ComplianceAgent - [32mINFO[0m - Agent 'ComplianceAgent' initialized successfully
2025-08-08 02:23:57 - ComplianceAgent - [32mINFO[0m - Added tool: SuitabilityCheckTool
2025-08-08 02:23:57 - ComplianceAgent - [32mINFO[0m - Added tool: RegulatoryCheckTool
2025-08-08 02:23:57 - ComplianceAgent - [32mINFO[0m - Added tool: ComplianceAuditTool
2025-08-08 02:23:57 - ComplianceAgent - [32mINFO[0m - Added 3 compliance tools
2025-08-08 02:23:57 - ComplianceAgent - [32mINFO[0m - Configured compliance rules: suitability, know_your_customer, anti_money_laundering
2025-08-08 02:23:57 - ComplianceAgent - [32mINFO[0m - Compliance agent enhanced features initialized
2025-08-08 02:23:57 - ReportWriterAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:23:57 - ReportWriterAgent - [32mINFO[0m - Agent 'ReportWriterAgent' created successfully
2025-08-08 02:23:57 - ReportWriterAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:23:57 - ReportWriterAgent - [32mINFO[0m - Agent 'ReportWriterAgent' initialized successfully
2025-08-08 02:23:57 - ReportWriterAgent - [32mINFO[0m - Added tool: ReportGeneratorTool
2025-08-08 02:23:57 - ReportWriterAgent - [32mINFO[0m - Added tool: FormatConverterTool
2025-08-08 02:23:57 - ReportWriterAgent - [32mINFO[0m - Added tool: ReportValidatorTool
2025-08-08 02:23:57 - ReportWriterAgent - [32mINFO[0m - Added 3 report writer tools
2025-08-08 02:23:57 - ReportWriterAgent - [32mINFO[0m - Configured report templates: executive_summary, detailed_analysis, investment_recommendation
2025-08-08 02:23:57 - ReportWriterAgent - [32mINFO[0m - Report writer agent enhanced features initialized
2025-08-08 02:23:57 - MemoryAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:23:57 - MemoryAgent - [32mINFO[0m - Agent 'MemoryAgent' created successfully
2025-08-08 02:23:57 - MemoryAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:23:57 - MemoryAgent - [32mINFO[0m - Agent 'MemoryAgent' initialized successfully
2025-08-08 02:23:57 - MemoryAgent - [32mINFO[0m - Added tool: MemoryStoreTool
2025-08-08 02:23:57 - MemoryAgent - [32mINFO[0m - Added tool: MemoryRetrieveTool
2025-08-08 02:23:57 - MemoryAgent - [32mINFO[0m - Added tool: MemoryCleanupTool
2025-08-08 02:23:57 - MemoryAgent - [32mINFO[0m - Added 3 memory tools
2025-08-08 02:23:57 - MemoryAgent - [32mINFO[0m - Configured memory types: conversation, user_preferences, investment_history, market_context
2025-08-08 02:23:57 - MemoryAgent - [32mINFO[0m - Memory agent enhanced features initialized
2025-08-08 02:23:57 - SupervisorAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:23:57 - SupervisorAgent - [32mINFO[0m - Agent 'SupervisorAgent' created successfully
2025-08-08 02:23:57 - SupervisorAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:23:57 - SupervisorAgent - [32mINFO[0m - Agent 'SupervisorAgent' initialized successfully
2025-08-08 02:23:57 - SupervisorAgent - [32mINFO[0m - Added tool: QualityReviewTool
2025-08-08 02:23:57 - SupervisorAgent - [32mINFO[0m - Added tool: ComplianceCheckTool
2025-08-08 02:23:57 - SupervisorAgent - [32mINFO[0m - Added tool: FinalApprovalTool
2025-08-08 02:23:57 - SupervisorAgent - [32mINFO[0m - Added 3 supervisor tools
2025-08-08 02:23:57 - SupervisorAgent - [32mINFO[0m - Configured review criteria: completeness, accuracy, compliance, clarity, relevance
2025-08-08 02:23:57 - SupervisorAgent - [32mINFO[0m - Supervisor agent enhanced features initialized
2025-08-08 02:23:57 - FinancialCrewOrchestrator - [32mINFO[0m - Created all enhanced specialized agents for financial analysis
2025-08-08 02:23:57 - FinancialCrewOrchestrator - [32mINFO[0m - Created CrewAI crew with all agents
2025-08-08 02:26:32 - __main__ - [32mINFO[0m - 📡 Initializing core components...
2025-08-08 02:26:32 - src.core.event_bus - [32mINFO[0m - Event bus started
2025-08-08 02:26:32 - __main__ - [32mINFO[0m - ✅ Event bus started
2025-08-08 02:26:32 - __main__ - [32mINFO[0m - ✅ Session manager initialized
2025-08-08 02:26:32 - __main__ - [32mINFO[0m - 🤖 Starting Discord bot...
2025-08-08 02:26:32 - discord.client - [33mWARNING[0m - PyNaCl is not installed, voice will NOT be supported
2025-08-08 02:26:32 - src.core.event_bus - [32mINFO[0m - Subscribed to event type: EventType.CHAT_RESPONSE
2025-08-08 02:26:32 - src.chatbot.discord_bot - [32mINFO[0m - 🚀 Initializing Discord Bot...
2025-08-08 02:26:32 - MarketDataAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:26:32 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' created successfully
2025-08-08 02:26:32 - MarketDataAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:26:32 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' initialized successfully
2025-08-08 02:26:32 - MarketDataAgent - [32mINFO[0m - Added tool: MarketDataTool
2025-08-08 02:26:32 - MarketDataAgent - [32mINFO[0m - Added tool: EconomicIndicatorTool
2025-08-08 02:26:32 - MarketDataAgent - [32mINFO[0m - Added tool: TrendAnalysisTool
2025-08-08 02:26:32 - MarketDataAgent - [32mINFO[0m - Added 3 market data tools
2025-08-08 02:26:32 - MarketDataAgent - [32mINFO[0m - Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 02:26:32 - MarketDataAgent - [32mINFO[0m - Market data agent enhanced features initialized
2025-08-08 02:26:32 - RiskAnalysisAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:26:32 - RiskAnalysisAgent - [32mINFO[0m - Agent 'RiskAnalysisAgent' created successfully
2025-08-08 02:26:32 - RiskAnalysisAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:26:32 - RiskAnalysisAgent - [32mINFO[0m - Agent 'RiskAnalysisAgent' initialized successfully
2025-08-08 02:26:32 - RiskAnalysisAgent - [32mINFO[0m - Added tool: RiskCalculationTool
2025-08-08 02:26:32 - RiskAnalysisAgent - [32mINFO[0m - Added tool: VolatilityAnalysisTool
2025-08-08 02:26:32 - RiskAnalysisAgent - [32mINFO[0m - Added tool: PortfolioRiskTool
2025-08-08 02:26:32 - RiskAnalysisAgent - [32mINFO[0m - Added 3 risk analysis tools
2025-08-08 02:26:32 - RiskAnalysisAgent - [32mINFO[0m - Configured risk models: var, cvar, sharpe_ratio, sortino_ratio
2025-08-08 02:26:32 - RiskAnalysisAgent - [32mINFO[0m - Risk analysis agent enhanced features initialized
2025-08-08 02:26:32 - RecommendationAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:26:32 - RecommendationAgent - [32mINFO[0m - Agent 'RecommendationAgent' created successfully
2025-08-08 02:26:32 - RecommendationAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:26:32 - RecommendationAgent - [32mINFO[0m - Agent 'RecommendationAgent' initialized successfully
2025-08-08 02:26:32 - RecommendationAgent - [32mINFO[0m - Added tool: ProductAnalysisTool
2025-08-08 02:26:32 - RecommendationAgent - [32mINFO[0m - Added tool: PortfolioOptimizationTool
2025-08-08 02:26:32 - RecommendationAgent - [32mINFO[0m - Added tool: RecommendationScoringTool
2025-08-08 02:26:32 - RecommendationAgent - [32mINFO[0m - Added 3 recommendation tools
2025-08-08 02:26:32 - RecommendationAgent - [32mINFO[0m - Configured recommendation models: risk_adjusted, diversification, income_focused, growth_oriented
2025-08-08 02:26:32 - RecommendationAgent - [32mINFO[0m - Recommendation agent enhanced features initialized
2025-08-08 02:26:32 - ComplianceAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:26:32 - ComplianceAgent - [32mINFO[0m - Agent 'ComplianceAgent' created successfully
2025-08-08 02:26:32 - ComplianceAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:26:32 - ComplianceAgent - [32mINFO[0m - Agent 'ComplianceAgent' initialized successfully
2025-08-08 02:26:32 - ComplianceAgent - [32mINFO[0m - Added tool: SuitabilityCheckTool
2025-08-08 02:26:32 - ComplianceAgent - [32mINFO[0m - Added tool: RegulatoryCheckTool
2025-08-08 02:26:32 - ComplianceAgent - [32mINFO[0m - Added tool: ComplianceAuditTool
2025-08-08 02:26:32 - ComplianceAgent - [32mINFO[0m - Added 3 compliance tools
2025-08-08 02:26:32 - ComplianceAgent - [32mINFO[0m - Configured compliance rules: suitability, know_your_customer, anti_money_laundering
2025-08-08 02:26:32 - ComplianceAgent - [32mINFO[0m - Compliance agent enhanced features initialized
2025-08-08 02:26:32 - ReportWriterAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:26:32 - ReportWriterAgent - [32mINFO[0m - Agent 'ReportWriterAgent' created successfully
2025-08-08 02:26:32 - ReportWriterAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:26:32 - ReportWriterAgent - [32mINFO[0m - Agent 'ReportWriterAgent' initialized successfully
2025-08-08 02:26:32 - ReportWriterAgent - [32mINFO[0m - Added tool: ReportGeneratorTool
2025-08-08 02:26:32 - ReportWriterAgent - [32mINFO[0m - Added tool: FormatConverterTool
2025-08-08 02:26:32 - ReportWriterAgent - [32mINFO[0m - Added tool: ReportValidatorTool
2025-08-08 02:26:32 - ReportWriterAgent - [32mINFO[0m - Added 3 report writer tools
2025-08-08 02:26:32 - ReportWriterAgent - [32mINFO[0m - Configured report templates: executive_summary, detailed_analysis, investment_recommendation
2025-08-08 02:26:32 - ReportWriterAgent - [32mINFO[0m - Report writer agent enhanced features initialized
2025-08-08 02:26:32 - MemoryAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:26:32 - MemoryAgent - [32mINFO[0m - Agent 'MemoryAgent' created successfully
2025-08-08 02:26:32 - MemoryAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:26:32 - MemoryAgent - [32mINFO[0m - Agent 'MemoryAgent' initialized successfully
2025-08-08 02:26:32 - MemoryAgent - [32mINFO[0m - Added tool: MemoryStoreTool
2025-08-08 02:26:32 - MemoryAgent - [32mINFO[0m - Added tool: MemoryRetrieveTool
2025-08-08 02:26:32 - MemoryAgent - [32mINFO[0m - Added tool: MemoryCleanupTool
2025-08-08 02:26:32 - MemoryAgent - [32mINFO[0m - Added 3 memory tools
2025-08-08 02:26:32 - MemoryAgent - [32mINFO[0m - Configured memory types: conversation, user_preferences, investment_history, market_context
2025-08-08 02:26:32 - MemoryAgent - [32mINFO[0m - Memory agent enhanced features initialized
2025-08-08 02:26:32 - SupervisorAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:26:32 - SupervisorAgent - [32mINFO[0m - Agent 'SupervisorAgent' created successfully
2025-08-08 02:26:32 - SupervisorAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:26:32 - SupervisorAgent - [32mINFO[0m - Agent 'SupervisorAgent' initialized successfully
2025-08-08 02:26:32 - SupervisorAgent - [32mINFO[0m - Added tool: QualityReviewTool
2025-08-08 02:26:32 - SupervisorAgent - [32mINFO[0m - Added tool: ComplianceCheckTool
2025-08-08 02:26:32 - SupervisorAgent - [32mINFO[0m - Added tool: FinalApprovalTool
2025-08-08 02:26:32 - SupervisorAgent - [32mINFO[0m - Added 3 supervisor tools
2025-08-08 02:26:32 - SupervisorAgent - [32mINFO[0m - Configured review criteria: completeness, accuracy, compliance, clarity, relevance
2025-08-08 02:26:32 - SupervisorAgent - [32mINFO[0m - Supervisor agent enhanced features initialized
2025-08-08 02:26:32 - FinancialCrewOrchestrator - [32mINFO[0m - Created all enhanced specialized agents for financial analysis
2025-08-08 02:26:32 - FinancialCrewOrchestrator - [32mINFO[0m - Created CrewAI crew with all agents
2025-08-08 02:26:32 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Discord Bot initialization completed
2025-08-08 02:26:32 - discord.client - [32mINFO[0m - logging in using static token
2025-08-08 02:26:34 - discord.gateway - [32mINFO[0m - Shard ID None has connected to Gateway (Session ID: 18d7f9c4e71e139976625d5f490438db).
2025-08-08 02:26:36 - src.chatbot.discord_bot - [32mINFO[0m - 🤖 Discord Bot Ready!
2025-08-08 02:26:36 - src.chatbot.discord_bot - [32mINFO[0m -    Bot Name: yuanta_crewai
2025-08-08 02:26:36 - src.chatbot.discord_bot - [32mINFO[0m -    Bot ID: 1401884441864962078
2025-08-08 02:26:36 - src.chatbot.discord_bot - [32mINFO[0m -    Servers: 1
2025-08-08 02:26:36 - src.chatbot.discord_bot - [32mINFO[0m -    Users: 1
2025-08-08 02:26:36 - src.chatbot.discord_bot - [32mINFO[0m - 📋 Available Commands:
2025-08-08 02:26:36 - src.chatbot.discord_bot - [32mINFO[0m -    • !financial_help - Show detailed help
2025-08-08 02:26:36 - src.chatbot.discord_bot - [32mINFO[0m -    • !status - Show bot status
2025-08-08 02:26:36 - src.chatbot.discord_bot - [32mINFO[0m -    • !ping - Test bot responsiveness
2025-08-08 02:26:36 - src.chatbot.discord_bot - [32mINFO[0m -    • Send any message for financial advice
2025-08-08 02:27:14 - src.chatbot.discord_bot - [32mINFO[0m - 🤔 Processing message from fortsetzen: i want to invest in high risk fund for my retireme...
2025-08-08 02:27:14 - src.utils.session_manager - [32mINFO[0m - Created session discord_682790548561723396_af37a5e7 for user 682790548561723396 on discord
2025-08-08 02:27:14 - src.chatbot.discord_bot - [32mINFO[0m - Created new session: discord_682790548561723396_af37a5e7
2025-08-08 02:27:14 - src.chatbot.discord_bot - [32mINFO[0m - Processing query with CrewAI: i want to invest in high risk fund for my retireme...
2025-08-08 02:27:14 - src.llm.crewai_manager - [32mINFO[0m - Starting full CrewAI multi-agent orchestration for evaluation...
2025-08-08 02:27:14 - src.llm.crewai_manager - [32mINFO[0m - 🤖 Processing with CrewAI multi-agent system...
2025-08-08 02:27:14 - FinancialCrewOrchestrator - [32mINFO[0m - Processing financial query: i want to invest in high risk fund for my retirement with around $200000 in the next 10 years. any yuanta's product recommendation?
2025-08-08 02:27:14 - FinancialCrewOrchestrator - [32mINFO[0m - Using conversation history with 1 messages
2025-08-08 02:27:14 - FinancialCrewOrchestrator - [32mINFO[0m - Created 4 tasks for CrewAI execution
2025-08-08 02:27:14 - FinancialCrewOrchestrator - [32mINFO[0m - Updated crew with tasks
2025-08-08 02:27:14 - FinancialCrewOrchestrator - [32mINFO[0m - Starting CrewAI crew execution (attempt 1/1)...
2025-08-08 02:27:14 - root - [31mERROR[0m - LiteLLM call failed: litellm.BadRequestError: LLM Provider NOT provided. Pass in the LLM provider you are trying to call. You passed model={'model': 'claude-3-5-sonnet-20241022', 'provider': 'anthropic', 'temperature': 0.7, 'max_tokens': 4000}
 Pass model as E.g. For 'Huggingface' inference endpoints pass in `completion(model='huggingface/starcoder',..)` Learn more: https://docs.litellm.ai/docs/providers
2025-08-08 02:27:14 - FinancialCrewOrchestrator - [31mERROR[0m - Unexpected error in CrewAI execution: litellm.BadRequestError: LLM Provider NOT provided. Pass in the LLM provider you are trying to call. You passed model={'model': 'claude-3-5-sonnet-20241022', 'provider': 'anthropic', 'temperature': 0.7, 'max_tokens': 4000}
 Pass model as E.g. For 'Huggingface' inference endpoints pass in `completion(model='huggingface/starcoder',..)` Learn more: https://docs.litellm.ai/docs/providers - Error: litellm.BadRequestError: LLM Provider NOT provided. Pass in the LLM provider you are trying to call. You passed model={'model': 'claude-3-5-sonnet-20241022', 'provider': 'anthropic', 'temperature': 0.7, 'max_tokens': 4000}
 Pass model as E.g. For 'Huggingface' inference endpoints pass in `completion(model='huggingface/starcoder',..)` Learn more: https://docs.litellm.ai/docs/providers
Traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 236, in process_financial_query
    result = self.crew.kickoff()
             ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
                  ^^^^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 499, in _execute_core
    raise e  # Re-raise the exception after emitting the event
    ^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
             ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 459, in execute_task
    raise e
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 125, in invoke
    raise e
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
                       ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 211, in _invoke_loop
    raise e
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
             ^^^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 164, in get_llm_response
    raise e
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
             ^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1285, in wrapper
    raise e
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 3304, in completion
    raise exception_type(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 1052, in completion
    model, custom_llm_provider, dynamic_api_key, api_base = get_llm_provider(
                                                            ^^^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\litellm_core_utils\get_llm_provider_logic.py", line 373, in get_llm_provider
    raise e
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\litellm_core_utils\get_llm_provider_logic.py", line 350, in get_llm_provider
    raise litellm.exceptions.BadRequestError(  # type: ignore
litellm.exceptions.BadRequestError: litellm.BadRequestError: LLM Provider NOT provided. Pass in the LLM provider you are trying to call. You passed model={'model': 'claude-3-5-sonnet-20241022', 'provider': 'anthropic', 'temperature': 0.7, 'max_tokens': 4000}
 Pass model as E.g. For 'Huggingface' inference endpoints pass in `completion(model='huggingface/starcoder',..)` Learn more: https://docs.litellm.ai/docs/providers
2025-08-08 02:27:14 - FinancialCrewOrchestrator - [32mINFO[0m - Using fallback response for faster user experience
2025-08-08 02:27:14 - FinancialCrewOrchestrator - [32mINFO[0m - Error type: BadRequestError
2025-08-08 02:27:14 - FinancialCrewOrchestrator - [32mINFO[0m - Error details: litellm.BadRequestError: LLM Provider NOT provided. Pass in the LLM provider you are trying to call. You passed model={'model': 'claude-3-5-sonnet-20241022', 'provider': 'anthropic', 'temperature': 0.7, 'max_tokens': 4000}
 Pass model as E.g. For 'Huggingface' inference endpoints pass in `completion(model='huggingface/starcoder',..)` Learn more: https://docs.litellm.ai/docs/providers
2025-08-08 02:27:14 - RiskStrategy - [32mINFO[0m - Generating risk analysis response - {'strategy': 'RiskStrategy'}
2025-08-08 02:27:14 - src.llm.crewai_manager - [32mINFO[0m - CrewAI used fallback response due to LLM overload
2025-08-08 02:27:14 - src.llm.crewai_manager - [32mINFO[0m - Original error: litellm.BadRequestError: LLM Provider NOT provided. Pass in the LLM provider you are trying to call. You passed model={'model': 'claude-3-5-sonnet-20241022', 'provider': 'anthropic', 'temperature': 0.7, 'max_tokens': 4000}
 Pass model as E.g. For 'Huggingface' inference endpoints pass in `completion(model='huggingface/starcoder',..)` Learn more: https://docs.litellm.ai/docs/providers
2025-08-08 02:27:14 - src.llm.crewai_manager - [32mINFO[0m - ✅ CrewAI multi-agent processing completed successfully
2025-08-08 02:27:14 - src.llm.crewai_manager - [32mINFO[0m - ✅ Successfully created CrewAI multi-agent response
2025-08-08 02:27:15 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Successfully sent single response to Discord
2025-08-08 02:30:46 - InvestmentStrategy - [32mINFO[0m - Generating investment response - {'strategy': 'InvestmentStrategy'}
2025-08-08 02:30:46 - InvestmentStrategy - [32mINFO[0m - Generating investment response - {'strategy': 'InvestmentStrategy'}
2025-08-08 02:30:46 - RiskStrategy - [32mINFO[0m - Generating risk analysis response - {'strategy': 'RiskStrategy'}
2025-08-08 02:31:05 - MarketDataAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:31:05 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' created successfully
2025-08-08 02:31:05 - MarketDataAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:31:05 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' initialized successfully
2025-08-08 02:31:05 - MarketDataAgent - [32mINFO[0m - Added tool: MarketDataTool
2025-08-08 02:31:05 - MarketDataAgent - [32mINFO[0m - Added tool: EconomicIndicatorTool
2025-08-08 02:31:05 - MarketDataAgent - [32mINFO[0m - Added tool: TrendAnalysisTool
2025-08-08 02:31:05 - MarketDataAgent - [32mINFO[0m - Added 3 market data tools
2025-08-08 02:31:05 - MarketDataAgent - [32mINFO[0m - Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 02:31:05 - MarketDataAgent - [32mINFO[0m - Market data agent enhanced features initialized
2025-08-08 02:31:05 - RiskAnalysisAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:31:05 - RiskAnalysisAgent - [32mINFO[0m - Agent 'RiskAnalysisAgent' created successfully
2025-08-08 02:31:05 - RiskAnalysisAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:31:05 - RiskAnalysisAgent - [32mINFO[0m - Agent 'RiskAnalysisAgent' initialized successfully
2025-08-08 02:31:05 - RiskAnalysisAgent - [32mINFO[0m - Added tool: RiskCalculationTool
2025-08-08 02:31:05 - RiskAnalysisAgent - [32mINFO[0m - Added tool: VolatilityAnalysisTool
2025-08-08 02:31:05 - RiskAnalysisAgent - [32mINFO[0m - Added tool: PortfolioRiskTool
2025-08-08 02:31:05 - RiskAnalysisAgent - [32mINFO[0m - Added 3 risk analysis tools
2025-08-08 02:31:05 - RiskAnalysisAgent - [32mINFO[0m - Configured risk models: var, cvar, sharpe_ratio, sortino_ratio
2025-08-08 02:31:05 - RiskAnalysisAgent - [32mINFO[0m - Risk analysis agent enhanced features initialized
2025-08-08 02:31:05 - RecommendationAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:31:05 - RecommendationAgent - [32mINFO[0m - Agent 'RecommendationAgent' created successfully
2025-08-08 02:31:05 - RecommendationAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:31:05 - RecommendationAgent - [32mINFO[0m - Agent 'RecommendationAgent' initialized successfully
2025-08-08 02:31:05 - RecommendationAgent - [32mINFO[0m - Added tool: ProductAnalysisTool
2025-08-08 02:31:05 - RecommendationAgent - [32mINFO[0m - Added tool: PortfolioOptimizationTool
2025-08-08 02:31:05 - RecommendationAgent - [32mINFO[0m - Added tool: RecommendationScoringTool
2025-08-08 02:31:05 - RecommendationAgent - [32mINFO[0m - Added 3 recommendation tools
2025-08-08 02:31:05 - RecommendationAgent - [32mINFO[0m - Configured recommendation models: risk_adjusted, diversification, income_focused, growth_oriented
2025-08-08 02:31:05 - RecommendationAgent - [32mINFO[0m - Recommendation agent enhanced features initialized
2025-08-08 02:31:05 - ComplianceAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:31:05 - ComplianceAgent - [32mINFO[0m - Agent 'ComplianceAgent' created successfully
2025-08-08 02:31:05 - ComplianceAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:31:05 - ComplianceAgent - [32mINFO[0m - Agent 'ComplianceAgent' initialized successfully
2025-08-08 02:31:05 - ComplianceAgent - [32mINFO[0m - Added tool: SuitabilityCheckTool
2025-08-08 02:31:05 - ComplianceAgent - [32mINFO[0m - Added tool: RegulatoryCheckTool
2025-08-08 02:31:05 - ComplianceAgent - [32mINFO[0m - Added tool: ComplianceAuditTool
2025-08-08 02:31:05 - ComplianceAgent - [32mINFO[0m - Added 3 compliance tools
2025-08-08 02:31:05 - ComplianceAgent - [32mINFO[0m - Configured compliance rules: suitability, know_your_customer, anti_money_laundering
2025-08-08 02:31:05 - ComplianceAgent - [32mINFO[0m - Compliance agent enhanced features initialized
2025-08-08 02:31:05 - ReportWriterAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:31:05 - ReportWriterAgent - [32mINFO[0m - Agent 'ReportWriterAgent' created successfully
2025-08-08 02:31:05 - ReportWriterAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:31:05 - ReportWriterAgent - [32mINFO[0m - Agent 'ReportWriterAgent' initialized successfully
2025-08-08 02:31:05 - ReportWriterAgent - [32mINFO[0m - Added tool: ReportGeneratorTool
2025-08-08 02:31:05 - ReportWriterAgent - [32mINFO[0m - Added tool: FormatConverterTool
2025-08-08 02:31:05 - ReportWriterAgent - [32mINFO[0m - Added tool: ReportValidatorTool
2025-08-08 02:31:05 - ReportWriterAgent - [32mINFO[0m - Added 3 report writer tools
2025-08-08 02:31:05 - ReportWriterAgent - [32mINFO[0m - Configured report templates: executive_summary, detailed_analysis, investment_recommendation
2025-08-08 02:31:05 - ReportWriterAgent - [32mINFO[0m - Report writer agent enhanced features initialized
2025-08-08 02:31:05 - MemoryAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:31:05 - MemoryAgent - [32mINFO[0m - Agent 'MemoryAgent' created successfully
2025-08-08 02:31:05 - MemoryAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:31:05 - MemoryAgent - [32mINFO[0m - Agent 'MemoryAgent' initialized successfully
2025-08-08 02:31:05 - MemoryAgent - [32mINFO[0m - Added tool: MemoryStoreTool
2025-08-08 02:31:05 - MemoryAgent - [32mINFO[0m - Added tool: MemoryRetrieveTool
2025-08-08 02:31:05 - MemoryAgent - [32mINFO[0m - Added tool: MemoryCleanupTool
2025-08-08 02:31:05 - MemoryAgent - [32mINFO[0m - Added 3 memory tools
2025-08-08 02:31:05 - MemoryAgent - [32mINFO[0m - Configured memory types: conversation, user_preferences, investment_history, market_context
2025-08-08 02:31:05 - MemoryAgent - [32mINFO[0m - Memory agent enhanced features initialized
2025-08-08 02:31:05 - SupervisorAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:31:05 - SupervisorAgent - [32mINFO[0m - Agent 'SupervisorAgent' created successfully
2025-08-08 02:31:05 - SupervisorAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:31:05 - SupervisorAgent - [32mINFO[0m - Agent 'SupervisorAgent' initialized successfully
2025-08-08 02:31:05 - SupervisorAgent - [32mINFO[0m - Added tool: QualityReviewTool
2025-08-08 02:31:05 - SupervisorAgent - [32mINFO[0m - Added tool: ComplianceCheckTool
2025-08-08 02:31:05 - SupervisorAgent - [32mINFO[0m - Added tool: FinalApprovalTool
2025-08-08 02:31:05 - SupervisorAgent - [32mINFO[0m - Added 3 supervisor tools
2025-08-08 02:31:05 - SupervisorAgent - [32mINFO[0m - Configured review criteria: completeness, accuracy, compliance, clarity, relevance
2025-08-08 02:31:05 - SupervisorAgent - [32mINFO[0m - Supervisor agent enhanced features initialized
2025-08-08 02:31:05 - FinancialCrewOrchestrator - [32mINFO[0m - Created all enhanced specialized agents for financial analysis
2025-08-08 02:31:05 - FinancialCrewOrchestrator - [32mINFO[0m - Created CrewAI crew with all agents
2025-08-08 02:31:05 - InvestmentStrategy - [32mINFO[0m - Generating investment response - {'strategy': 'InvestmentStrategy'}
2025-08-08 02:34:57 - MarketDataAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:34:57 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' created successfully
2025-08-08 02:34:57 - MarketDataAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:34:57 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' initialized successfully
2025-08-08 02:34:57 - MarketDataAgent - [32mINFO[0m - Added tool: MarketDataTool
2025-08-08 02:34:57 - MarketDataAgent - [32mINFO[0m - Added tool: EconomicIndicatorTool
2025-08-08 02:34:57 - MarketDataAgent - [32mINFO[0m - Added tool: TrendAnalysisTool
2025-08-08 02:34:57 - MarketDataAgent - [32mINFO[0m - Added 3 market data tools
2025-08-08 02:34:57 - MarketDataAgent - [32mINFO[0m - Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 02:34:57 - MarketDataAgent - [32mINFO[0m - Market data agent enhanced features initialized
2025-08-08 02:34:57 - RiskAnalysisAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:34:57 - RiskAnalysisAgent - [32mINFO[0m - Agent 'RiskAnalysisAgent' created successfully
2025-08-08 02:34:57 - RiskAnalysisAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:34:57 - RiskAnalysisAgent - [32mINFO[0m - Agent 'RiskAnalysisAgent' initialized successfully
2025-08-08 02:34:57 - RiskAnalysisAgent - [32mINFO[0m - Added tool: RiskCalculationTool
2025-08-08 02:34:57 - RiskAnalysisAgent - [32mINFO[0m - Added tool: VolatilityAnalysisTool
2025-08-08 02:34:57 - RiskAnalysisAgent - [32mINFO[0m - Added tool: PortfolioRiskTool
2025-08-08 02:34:57 - RiskAnalysisAgent - [32mINFO[0m - Added 3 risk analysis tools
2025-08-08 02:34:57 - RiskAnalysisAgent - [32mINFO[0m - Configured risk models: var, cvar, sharpe_ratio, sortino_ratio
2025-08-08 02:34:57 - RiskAnalysisAgent - [32mINFO[0m - Risk analysis agent enhanced features initialized
2025-08-08 02:34:57 - RecommendationAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:34:57 - RecommendationAgent - [32mINFO[0m - Agent 'RecommendationAgent' created successfully
2025-08-08 02:34:57 - RecommendationAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:34:57 - RecommendationAgent - [32mINFO[0m - Agent 'RecommendationAgent' initialized successfully
2025-08-08 02:34:57 - RecommendationAgent - [32mINFO[0m - Added tool: ProductAnalysisTool
2025-08-08 02:34:57 - RecommendationAgent - [32mINFO[0m - Added tool: PortfolioOptimizationTool
2025-08-08 02:34:57 - RecommendationAgent - [32mINFO[0m - Added tool: RecommendationScoringTool
2025-08-08 02:34:57 - RecommendationAgent - [32mINFO[0m - Added 3 recommendation tools
2025-08-08 02:34:57 - RecommendationAgent - [32mINFO[0m - Configured recommendation models: risk_adjusted, diversification, income_focused, growth_oriented
2025-08-08 02:34:57 - RecommendationAgent - [32mINFO[0m - Recommendation agent enhanced features initialized
2025-08-08 02:34:57 - ComplianceAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:34:57 - ComplianceAgent - [32mINFO[0m - Agent 'ComplianceAgent' created successfully
2025-08-08 02:34:57 - ComplianceAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:34:57 - ComplianceAgent - [32mINFO[0m - Agent 'ComplianceAgent' initialized successfully
2025-08-08 02:34:57 - ComplianceAgent - [32mINFO[0m - Added tool: SuitabilityCheckTool
2025-08-08 02:34:57 - ComplianceAgent - [32mINFO[0m - Added tool: RegulatoryCheckTool
2025-08-08 02:34:57 - ComplianceAgent - [32mINFO[0m - Added tool: ComplianceAuditTool
2025-08-08 02:34:57 - ComplianceAgent - [32mINFO[0m - Added 3 compliance tools
2025-08-08 02:34:57 - ComplianceAgent - [32mINFO[0m - Configured compliance rules: suitability, know_your_customer, anti_money_laundering
2025-08-08 02:34:57 - ComplianceAgent - [32mINFO[0m - Compliance agent enhanced features initialized
2025-08-08 02:34:57 - ReportWriterAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:34:57 - ReportWriterAgent - [32mINFO[0m - Agent 'ReportWriterAgent' created successfully
2025-08-08 02:34:57 - ReportWriterAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:34:57 - ReportWriterAgent - [32mINFO[0m - Agent 'ReportWriterAgent' initialized successfully
2025-08-08 02:34:57 - ReportWriterAgent - [32mINFO[0m - Added tool: ReportGeneratorTool
2025-08-08 02:34:57 - ReportWriterAgent - [32mINFO[0m - Added tool: FormatConverterTool
2025-08-08 02:34:57 - ReportWriterAgent - [32mINFO[0m - Added tool: ReportValidatorTool
2025-08-08 02:34:57 - ReportWriterAgent - [32mINFO[0m - Added 3 report writer tools
2025-08-08 02:34:57 - ReportWriterAgent - [32mINFO[0m - Configured report templates: executive_summary, detailed_analysis, investment_recommendation
2025-08-08 02:34:57 - ReportWriterAgent - [32mINFO[0m - Report writer agent enhanced features initialized
2025-08-08 02:34:57 - MemoryAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:34:57 - MemoryAgent - [32mINFO[0m - Agent 'MemoryAgent' created successfully
2025-08-08 02:34:57 - MemoryAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:34:57 - MemoryAgent - [32mINFO[0m - Agent 'MemoryAgent' initialized successfully
2025-08-08 02:34:57 - MemoryAgent - [32mINFO[0m - Added tool: MemoryStoreTool
2025-08-08 02:34:57 - MemoryAgent - [32mINFO[0m - Added tool: MemoryRetrieveTool
2025-08-08 02:34:57 - MemoryAgent - [32mINFO[0m - Added tool: MemoryCleanupTool
2025-08-08 02:34:57 - MemoryAgent - [32mINFO[0m - Added 3 memory tools
2025-08-08 02:34:57 - MemoryAgent - [32mINFO[0m - Configured memory types: conversation, user_preferences, investment_history, market_context
2025-08-08 02:34:57 - MemoryAgent - [32mINFO[0m - Memory agent enhanced features initialized
2025-08-08 02:34:57 - SupervisorAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:34:57 - SupervisorAgent - [32mINFO[0m - Agent 'SupervisorAgent' created successfully
2025-08-08 02:34:57 - SupervisorAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:34:57 - SupervisorAgent - [32mINFO[0m - Agent 'SupervisorAgent' initialized successfully
2025-08-08 02:34:57 - SupervisorAgent - [32mINFO[0m - Added tool: QualityReviewTool
2025-08-08 02:34:57 - SupervisorAgent - [32mINFO[0m - Added tool: ComplianceCheckTool
2025-08-08 02:34:57 - SupervisorAgent - [32mINFO[0m - Added tool: FinalApprovalTool
2025-08-08 02:34:57 - SupervisorAgent - [32mINFO[0m - Added 3 supervisor tools
2025-08-08 02:34:57 - SupervisorAgent - [32mINFO[0m - Configured review criteria: completeness, accuracy, compliance, clarity, relevance
2025-08-08 02:34:57 - SupervisorAgent - [32mINFO[0m - Supervisor agent enhanced features initialized
2025-08-08 02:34:57 - FinancialCrewOrchestrator - [32mINFO[0m - Created all enhanced specialized agents for financial analysis
2025-08-08 02:34:57 - FinancialCrewOrchestrator - [32mINFO[0m - Created CrewAI crew with all agents
2025-08-08 02:35:13 - MarketDataAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:35:13 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' created successfully
2025-08-08 02:35:13 - MarketDataAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:35:13 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' initialized successfully
2025-08-08 02:35:13 - MarketDataAgent - [32mINFO[0m - Added tool: MarketDataTool
2025-08-08 02:35:13 - MarketDataAgent - [32mINFO[0m - Added tool: EconomicIndicatorTool
2025-08-08 02:35:13 - MarketDataAgent - [32mINFO[0m - Added tool: TrendAnalysisTool
2025-08-08 02:35:13 - MarketDataAgent - [32mINFO[0m - Added 3 market data tools
2025-08-08 02:35:13 - MarketDataAgent - [32mINFO[0m - Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 02:35:13 - MarketDataAgent - [32mINFO[0m - Market data agent enhanced features initialized
2025-08-08 02:35:13 - RiskAnalysisAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:35:13 - RiskAnalysisAgent - [32mINFO[0m - Agent 'RiskAnalysisAgent' created successfully
2025-08-08 02:35:13 - RiskAnalysisAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:35:13 - RiskAnalysisAgent - [32mINFO[0m - Agent 'RiskAnalysisAgent' initialized successfully
2025-08-08 02:35:13 - RiskAnalysisAgent - [32mINFO[0m - Added tool: RiskCalculationTool
2025-08-08 02:35:13 - RiskAnalysisAgent - [32mINFO[0m - Added tool: VolatilityAnalysisTool
2025-08-08 02:35:13 - RiskAnalysisAgent - [32mINFO[0m - Added tool: PortfolioRiskTool
2025-08-08 02:35:13 - RiskAnalysisAgent - [32mINFO[0m - Added 3 risk analysis tools
2025-08-08 02:35:13 - RiskAnalysisAgent - [32mINFO[0m - Configured risk models: var, cvar, sharpe_ratio, sortino_ratio
2025-08-08 02:35:13 - RiskAnalysisAgent - [32mINFO[0m - Risk analysis agent enhanced features initialized
2025-08-08 02:35:13 - RecommendationAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:35:13 - RecommendationAgent - [32mINFO[0m - Agent 'RecommendationAgent' created successfully
2025-08-08 02:35:13 - RecommendationAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:35:13 - RecommendationAgent - [32mINFO[0m - Agent 'RecommendationAgent' initialized successfully
2025-08-08 02:35:13 - RecommendationAgent - [32mINFO[0m - Added tool: ProductAnalysisTool
2025-08-08 02:35:13 - RecommendationAgent - [32mINFO[0m - Added tool: PortfolioOptimizationTool
2025-08-08 02:35:13 - RecommendationAgent - [32mINFO[0m - Added tool: RecommendationScoringTool
2025-08-08 02:35:13 - RecommendationAgent - [32mINFO[0m - Added 3 recommendation tools
2025-08-08 02:35:13 - RecommendationAgent - [32mINFO[0m - Configured recommendation models: risk_adjusted, diversification, income_focused, growth_oriented
2025-08-08 02:35:13 - RecommendationAgent - [32mINFO[0m - Recommendation agent enhanced features initialized
2025-08-08 02:35:13 - ComplianceAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:35:13 - ComplianceAgent - [32mINFO[0m - Agent 'ComplianceAgent' created successfully
2025-08-08 02:35:13 - ComplianceAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:35:13 - ComplianceAgent - [32mINFO[0m - Agent 'ComplianceAgent' initialized successfully
2025-08-08 02:35:13 - ComplianceAgent - [32mINFO[0m - Added tool: SuitabilityCheckTool
2025-08-08 02:35:13 - ComplianceAgent - [32mINFO[0m - Added tool: RegulatoryCheckTool
2025-08-08 02:35:13 - ComplianceAgent - [32mINFO[0m - Added tool: ComplianceAuditTool
2025-08-08 02:35:13 - ComplianceAgent - [32mINFO[0m - Added 3 compliance tools
2025-08-08 02:35:13 - ComplianceAgent - [32mINFO[0m - Configured compliance rules: suitability, know_your_customer, anti_money_laundering
2025-08-08 02:35:13 - ComplianceAgent - [32mINFO[0m - Compliance agent enhanced features initialized
2025-08-08 02:35:13 - ReportWriterAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:35:13 - ReportWriterAgent - [32mINFO[0m - Agent 'ReportWriterAgent' created successfully
2025-08-08 02:35:13 - ReportWriterAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:35:13 - ReportWriterAgent - [32mINFO[0m - Agent 'ReportWriterAgent' initialized successfully
2025-08-08 02:35:13 - ReportWriterAgent - [32mINFO[0m - Added tool: ReportGeneratorTool
2025-08-08 02:35:13 - ReportWriterAgent - [32mINFO[0m - Added tool: FormatConverterTool
2025-08-08 02:35:13 - ReportWriterAgent - [32mINFO[0m - Added tool: ReportValidatorTool
2025-08-08 02:35:13 - ReportWriterAgent - [32mINFO[0m - Added 3 report writer tools
2025-08-08 02:35:13 - ReportWriterAgent - [32mINFO[0m - Configured report templates: executive_summary, detailed_analysis, investment_recommendation
2025-08-08 02:35:13 - ReportWriterAgent - [32mINFO[0m - Report writer agent enhanced features initialized
2025-08-08 02:35:13 - MemoryAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:35:13 - MemoryAgent - [32mINFO[0m - Agent 'MemoryAgent' created successfully
2025-08-08 02:35:13 - MemoryAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:35:13 - MemoryAgent - [32mINFO[0m - Agent 'MemoryAgent' initialized successfully
2025-08-08 02:35:13 - MemoryAgent - [32mINFO[0m - Added tool: MemoryStoreTool
2025-08-08 02:35:13 - MemoryAgent - [32mINFO[0m - Added tool: MemoryRetrieveTool
2025-08-08 02:35:13 - MemoryAgent - [32mINFO[0m - Added tool: MemoryCleanupTool
2025-08-08 02:35:13 - MemoryAgent - [32mINFO[0m - Added 3 memory tools
2025-08-08 02:35:13 - MemoryAgent - [32mINFO[0m - Configured memory types: conversation, user_preferences, investment_history, market_context
2025-08-08 02:35:13 - MemoryAgent - [32mINFO[0m - Memory agent enhanced features initialized
2025-08-08 02:35:13 - SupervisorAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:35:13 - SupervisorAgent - [32mINFO[0m - Agent 'SupervisorAgent' created successfully
2025-08-08 02:35:13 - SupervisorAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:35:13 - SupervisorAgent - [32mINFO[0m - Agent 'SupervisorAgent' initialized successfully
2025-08-08 02:35:13 - SupervisorAgent - [32mINFO[0m - Added tool: QualityReviewTool
2025-08-08 02:35:13 - SupervisorAgent - [32mINFO[0m - Added tool: ComplianceCheckTool
2025-08-08 02:35:13 - SupervisorAgent - [32mINFO[0m - Added tool: FinalApprovalTool
2025-08-08 02:35:13 - SupervisorAgent - [32mINFO[0m - Added 3 supervisor tools
2025-08-08 02:35:13 - SupervisorAgent - [32mINFO[0m - Configured review criteria: completeness, accuracy, compliance, clarity, relevance
2025-08-08 02:35:13 - SupervisorAgent - [32mINFO[0m - Supervisor agent enhanced features initialized
2025-08-08 02:35:13 - FinancialCrewOrchestrator - [32mINFO[0m - Created all enhanced specialized agents for financial analysis
2025-08-08 02:35:13 - FinancialCrewOrchestrator - [32mINFO[0m - Created CrewAI crew with all agents
2025-08-08 02:35:13 - FinancialCrewOrchestrator - [32mINFO[0m - Processing financial query: i want to invest in high risk fund for my retirement with around  in the next 10 years. any yuanta product recommendation?
2025-08-08 02:35:13 - FinancialCrewOrchestrator - [32mINFO[0m - Created 4 tasks for CrewAI execution
2025-08-08 02:35:13 - FinancialCrewOrchestrator - [32mINFO[0m - Updated crew with tasks
2025-08-08 02:35:13 - FinancialCrewOrchestrator - [32mINFO[0m - Starting CrewAI crew execution (attempt 1/1)...
2025-08-08 02:35:13 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 02:35:26 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-08 02:35:26 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-08 02:35:26 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 02:35:26 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 02:35:26 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 02:35:27 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 02:35:41 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-08 02:35:41 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-08 02:35:41 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 02:35:41 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 02:35:41 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 02:35:41 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 02:35:54 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-08 02:35:54 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-08 02:35:54 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 02:35:54 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 02:35:54 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 02:35:54 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 02:36:12 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-08 02:36:12 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-08 02:36:12 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 02:36:12 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 02:36:12 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 02:36:12 - FinancialCrewOrchestrator - [32mINFO[0m - CrewAI execution completed successfully
2025-08-08 02:36:12 - FinancialCrewOrchestrator - [32mINFO[0m - Successfully processed financial query with CrewAI
2025-08-08 02:37:06 - __main__ - [32mINFO[0m - 🧹 Cleaning up...
2025-08-08 02:37:06 - src.core.event_bus - [32mINFO[0m - Event bus stopped
2025-08-08 02:37:06 - __main__ - [32mINFO[0m - ✅ Event bus stopped
2025-08-08 02:37:06 - __main__ - [32mINFO[0m - 👋 Discord bot shutdown complete
2025-08-08 02:37:06 - __main__ - [32mINFO[0m - 👋 Discord bot stopped by user
2025-08-08 02:37:36 - __main__ - [32mINFO[0m - 📡 Initializing core components...
2025-08-08 02:37:36 - src.core.event_bus - [32mINFO[0m - Event bus started
2025-08-08 02:37:36 - __main__ - [32mINFO[0m - ✅ Event bus started
2025-08-08 02:37:36 - __main__ - [32mINFO[0m - ✅ Session manager initialized
2025-08-08 02:37:36 - __main__ - [32mINFO[0m - 🤖 Starting Discord bot...
2025-08-08 02:37:36 - discord.client - [33mWARNING[0m - PyNaCl is not installed, voice will NOT be supported
2025-08-08 02:37:36 - src.core.event_bus - [32mINFO[0m - Subscribed to event type: EventType.CHAT_RESPONSE
2025-08-08 02:37:36 - src.chatbot.discord_bot - [32mINFO[0m - 🚀 Initializing Discord Bot...
2025-08-08 02:37:37 - MarketDataAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:37:37 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' created successfully
2025-08-08 02:37:37 - MarketDataAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:37:37 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' initialized successfully
2025-08-08 02:37:37 - MarketDataAgent - [32mINFO[0m - Added tool: MarketDataTool
2025-08-08 02:37:37 - MarketDataAgent - [32mINFO[0m - Added tool: EconomicIndicatorTool
2025-08-08 02:37:37 - MarketDataAgent - [32mINFO[0m - Added tool: TrendAnalysisTool
2025-08-08 02:37:37 - MarketDataAgent - [32mINFO[0m - Added 3 market data tools
2025-08-08 02:37:37 - MarketDataAgent - [32mINFO[0m - Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 02:37:37 - MarketDataAgent - [32mINFO[0m - Market data agent enhanced features initialized
2025-08-08 02:37:37 - RiskAnalysisAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:37:37 - RiskAnalysisAgent - [32mINFO[0m - Agent 'RiskAnalysisAgent' created successfully
2025-08-08 02:37:37 - RiskAnalysisAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:37:37 - RiskAnalysisAgent - [32mINFO[0m - Agent 'RiskAnalysisAgent' initialized successfully
2025-08-08 02:37:37 - RiskAnalysisAgent - [32mINFO[0m - Added tool: RiskCalculationTool
2025-08-08 02:37:37 - RiskAnalysisAgent - [32mINFO[0m - Added tool: VolatilityAnalysisTool
2025-08-08 02:37:37 - RiskAnalysisAgent - [32mINFO[0m - Added tool: PortfolioRiskTool
2025-08-08 02:37:37 - RiskAnalysisAgent - [32mINFO[0m - Added 3 risk analysis tools
2025-08-08 02:37:37 - RiskAnalysisAgent - [32mINFO[0m - Configured risk models: var, cvar, sharpe_ratio, sortino_ratio
2025-08-08 02:37:37 - RiskAnalysisAgent - [32mINFO[0m - Risk analysis agent enhanced features initialized
2025-08-08 02:37:37 - RecommendationAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:37:37 - RecommendationAgent - [32mINFO[0m - Agent 'RecommendationAgent' created successfully
2025-08-08 02:37:37 - RecommendationAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:37:37 - RecommendationAgent - [32mINFO[0m - Agent 'RecommendationAgent' initialized successfully
2025-08-08 02:37:37 - RecommendationAgent - [32mINFO[0m - Added tool: ProductAnalysisTool
2025-08-08 02:37:37 - RecommendationAgent - [32mINFO[0m - Added tool: PortfolioOptimizationTool
2025-08-08 02:37:37 - RecommendationAgent - [32mINFO[0m - Added tool: RecommendationScoringTool
2025-08-08 02:37:37 - RecommendationAgent - [32mINFO[0m - Added 3 recommendation tools
2025-08-08 02:37:37 - RecommendationAgent - [32mINFO[0m - Configured recommendation models: risk_adjusted, diversification, income_focused, growth_oriented
2025-08-08 02:37:37 - RecommendationAgent - [32mINFO[0m - Recommendation agent enhanced features initialized
2025-08-08 02:37:37 - ComplianceAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:37:37 - ComplianceAgent - [32mINFO[0m - Agent 'ComplianceAgent' created successfully
2025-08-08 02:37:37 - ComplianceAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:37:37 - ComplianceAgent - [32mINFO[0m - Agent 'ComplianceAgent' initialized successfully
2025-08-08 02:37:37 - ComplianceAgent - [32mINFO[0m - Added tool: SuitabilityCheckTool
2025-08-08 02:37:37 - ComplianceAgent - [32mINFO[0m - Added tool: RegulatoryCheckTool
2025-08-08 02:37:37 - ComplianceAgent - [32mINFO[0m - Added tool: ComplianceAuditTool
2025-08-08 02:37:37 - ComplianceAgent - [32mINFO[0m - Added 3 compliance tools
2025-08-08 02:37:37 - ComplianceAgent - [32mINFO[0m - Configured compliance rules: suitability, know_your_customer, anti_money_laundering
2025-08-08 02:37:37 - ComplianceAgent - [32mINFO[0m - Compliance agent enhanced features initialized
2025-08-08 02:37:37 - ReportWriterAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:37:37 - ReportWriterAgent - [32mINFO[0m - Agent 'ReportWriterAgent' created successfully
2025-08-08 02:37:37 - ReportWriterAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:37:37 - ReportWriterAgent - [32mINFO[0m - Agent 'ReportWriterAgent' initialized successfully
2025-08-08 02:37:37 - ReportWriterAgent - [32mINFO[0m - Added tool: ReportGeneratorTool
2025-08-08 02:37:37 - ReportWriterAgent - [32mINFO[0m - Added tool: FormatConverterTool
2025-08-08 02:37:37 - ReportWriterAgent - [32mINFO[0m - Added tool: ReportValidatorTool
2025-08-08 02:37:37 - ReportWriterAgent - [32mINFO[0m - Added 3 report writer tools
2025-08-08 02:37:37 - ReportWriterAgent - [32mINFO[0m - Configured report templates: executive_summary, detailed_analysis, investment_recommendation
2025-08-08 02:37:37 - ReportWriterAgent - [32mINFO[0m - Report writer agent enhanced features initialized
2025-08-08 02:37:37 - MemoryAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:37:37 - MemoryAgent - [32mINFO[0m - Agent 'MemoryAgent' created successfully
2025-08-08 02:37:37 - MemoryAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:37:37 - MemoryAgent - [32mINFO[0m - Agent 'MemoryAgent' initialized successfully
2025-08-08 02:37:37 - MemoryAgent - [32mINFO[0m - Added tool: MemoryStoreTool
2025-08-08 02:37:37 - MemoryAgent - [32mINFO[0m - Added tool: MemoryRetrieveTool
2025-08-08 02:37:37 - MemoryAgent - [32mINFO[0m - Added tool: MemoryCleanupTool
2025-08-08 02:37:37 - MemoryAgent - [32mINFO[0m - Added 3 memory tools
2025-08-08 02:37:37 - MemoryAgent - [32mINFO[0m - Configured memory types: conversation, user_preferences, investment_history, market_context
2025-08-08 02:37:37 - MemoryAgent - [32mINFO[0m - Memory agent enhanced features initialized
2025-08-08 02:37:37 - SupervisorAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:37:37 - SupervisorAgent - [32mINFO[0m - Agent 'SupervisorAgent' created successfully
2025-08-08 02:37:37 - SupervisorAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:37:37 - SupervisorAgent - [32mINFO[0m - Agent 'SupervisorAgent' initialized successfully
2025-08-08 02:37:37 - SupervisorAgent - [32mINFO[0m - Added tool: QualityReviewTool
2025-08-08 02:37:37 - SupervisorAgent - [32mINFO[0m - Added tool: ComplianceCheckTool
2025-08-08 02:37:37 - SupervisorAgent - [32mINFO[0m - Added tool: FinalApprovalTool
2025-08-08 02:37:37 - SupervisorAgent - [32mINFO[0m - Added 3 supervisor tools
2025-08-08 02:37:37 - SupervisorAgent - [32mINFO[0m - Configured review criteria: completeness, accuracy, compliance, clarity, relevance
2025-08-08 02:37:37 - SupervisorAgent - [32mINFO[0m - Supervisor agent enhanced features initialized
2025-08-08 02:37:37 - FinancialCrewOrchestrator - [32mINFO[0m - Created all enhanced specialized agents for financial analysis
2025-08-08 02:37:37 - FinancialCrewOrchestrator - [32mINFO[0m - Created CrewAI crew with all agents
2025-08-08 02:37:37 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Discord Bot initialization completed
2025-08-08 02:37:37 - discord.client - [32mINFO[0m - logging in using static token
2025-08-08 02:37:38 - discord.gateway - [32mINFO[0m - Shard ID None has connected to Gateway (Session ID: 940b319d4bf479c80ec2a8c3b8a1c603).
2025-08-08 02:37:40 - src.chatbot.discord_bot - [32mINFO[0m - 🤖 Discord Bot Ready!
2025-08-08 02:37:40 - src.chatbot.discord_bot - [32mINFO[0m -    Bot Name: yuanta_crewai
2025-08-08 02:37:40 - src.chatbot.discord_bot - [32mINFO[0m -    Bot ID: 1401884441864962078
2025-08-08 02:37:40 - src.chatbot.discord_bot - [32mINFO[0m -    Servers: 1
2025-08-08 02:37:40 - src.chatbot.discord_bot - [32mINFO[0m -    Users: 1
2025-08-08 02:37:40 - src.chatbot.discord_bot - [32mINFO[0m - 📋 Available Commands:
2025-08-08 02:37:40 - src.chatbot.discord_bot - [32mINFO[0m -    • !financial_help - Show detailed help
2025-08-08 02:37:40 - src.chatbot.discord_bot - [32mINFO[0m -    • !status - Show bot status
2025-08-08 02:37:40 - src.chatbot.discord_bot - [32mINFO[0m -    • !ping - Test bot responsiveness
2025-08-08 02:37:40 - src.chatbot.discord_bot - [32mINFO[0m -    • Send any message for financial advice
2025-08-08 02:37:43 - src.chatbot.discord_bot - [32mINFO[0m - 🤔 Processing message from fortsetzen: i want to invest in high risk fund for my retireme...
2025-08-08 02:37:43 - src.utils.session_manager - [32mINFO[0m - Created session discord_682790548561723396_2c1336ed for user 682790548561723396 on discord
2025-08-08 02:37:43 - src.chatbot.discord_bot - [32mINFO[0m - Created new session: discord_682790548561723396_2c1336ed
2025-08-08 02:37:43 - src.chatbot.discord_bot - [32mINFO[0m - Processing query with CrewAI: i want to invest in high risk fund for my retireme...
2025-08-08 02:37:43 - src.llm.crewai_manager - [32mINFO[0m - Starting full CrewAI multi-agent orchestration for evaluation...
2025-08-08 02:37:43 - src.llm.crewai_manager - [32mINFO[0m - 🤖 Processing with CrewAI multi-agent system...
2025-08-08 02:37:43 - FinancialCrewOrchestrator - [32mINFO[0m - Processing financial query: i want to invest in high risk fund for my retirement with around $200000 in the next 10 years. any yuanta's product recommendation?
2025-08-08 02:37:43 - FinancialCrewOrchestrator - [32mINFO[0m - Using conversation history with 1 messages
2025-08-08 02:37:43 - FinancialCrewOrchestrator - [32mINFO[0m - Created 4 tasks for CrewAI execution
2025-08-08 02:37:43 - FinancialCrewOrchestrator - [32mINFO[0m - Updated crew with tasks
2025-08-08 02:37:43 - FinancialCrewOrchestrator - [32mINFO[0m - Starting CrewAI crew execution (attempt 1/1)...
2025-08-08 02:37:43 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 02:37:56 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-08 02:37:56 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-08 02:37:56 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 02:37:56 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 02:37:56 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 02:37:56 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 02:38:12 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-08 02:38:12 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-08 02:38:12 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 02:38:12 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 02:38:12 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 02:38:12 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 02:38:25 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-08 02:38:25 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-08 02:38:25 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 02:38:25 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 02:38:25 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 02:38:25 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 02:38:29 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 10 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 120, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 159, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 227, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 236, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-08 02:38:39 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 20 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 120, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 159, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 227, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 236, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-08 02:38:44 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-08 02:38:44 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-08 02:38:44 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 02:38:44 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 02:38:44 - FinancialCrewOrchestrator - [32mINFO[0m - CrewAI execution completed successfully
2025-08-08 02:38:44 - FinancialCrewOrchestrator - [32mINFO[0m - Successfully processed financial query with CrewAI
2025-08-08 02:38:44 - src.llm.crewai_manager - [32mINFO[0m - ✅ CrewAI multi-agent processing completed successfully
2025-08-08 02:38:44 - src.llm.crewai_manager - [32mINFO[0m - ✅ Successfully created CrewAI multi-agent response
2025-08-08 02:38:44 - src.chatbot.discord_bot - [32mINFO[0m - Response is 4026 characters, splitting into multiple messages
2025-08-08 02:38:44 - src.chatbot.discord_bot - [32mINFO[0m - Split response into 3 chunks
2025-08-08 02:38:44 - src.chatbot.discord_bot - [33mWARNING[0m - 🔌 Discord Bot Disconnected
2025-08-08 02:38:45 - discord.gateway - [32mINFO[0m - Shard ID None has successfully RESUMED session 940b319d4bf479c80ec2a8c3b8a1c603.
2025-08-08 02:38:45 - src.chatbot.discord_bot - [32mINFO[0m - 🔄 Discord Bot Connection Resumed
2025-08-08 02:38:46 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Successfully sent 3 message chunks to Discord
2025-08-08 02:42:34 - MarketDataAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:42:34 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' created successfully
2025-08-08 02:42:34 - MarketDataAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:42:34 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' initialized successfully
2025-08-08 02:42:34 - MarketDataAgent - [32mINFO[0m - Added tool: MarketDataTool
2025-08-08 02:42:34 - MarketDataAgent - [32mINFO[0m - Added tool: EconomicIndicatorTool
2025-08-08 02:42:34 - MarketDataAgent - [32mINFO[0m - Added tool: TrendAnalysisTool
2025-08-08 02:42:34 - MarketDataAgent - [32mINFO[0m - Added 3 market data tools
2025-08-08 02:42:34 - MarketDataAgent - [32mINFO[0m - Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 02:42:34 - MarketDataAgent - [32mINFO[0m - Market data agent enhanced features initialized
2025-08-08 02:42:34 - RiskAnalysisAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:42:34 - RiskAnalysisAgent - [32mINFO[0m - Agent 'RiskAnalysisAgent' created successfully
2025-08-08 02:42:34 - RiskAnalysisAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:42:34 - RiskAnalysisAgent - [32mINFO[0m - Agent 'RiskAnalysisAgent' initialized successfully
2025-08-08 02:42:34 - RiskAnalysisAgent - [32mINFO[0m - Added tool: RiskCalculationTool
2025-08-08 02:42:34 - RiskAnalysisAgent - [32mINFO[0m - Added tool: VolatilityAnalysisTool
2025-08-08 02:42:34 - RiskAnalysisAgent - [32mINFO[0m - Added tool: PortfolioRiskTool
2025-08-08 02:42:34 - RiskAnalysisAgent - [32mINFO[0m - Added 3 risk analysis tools
2025-08-08 02:42:34 - RiskAnalysisAgent - [32mINFO[0m - Configured risk models: var, cvar, sharpe_ratio, sortino_ratio
2025-08-08 02:42:34 - RiskAnalysisAgent - [32mINFO[0m - Risk analysis agent enhanced features initialized
2025-08-08 02:42:34 - RecommendationAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:42:34 - RecommendationAgent - [32mINFO[0m - Agent 'RecommendationAgent' created successfully
2025-08-08 02:42:34 - RecommendationAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:42:34 - RecommendationAgent - [32mINFO[0m - Agent 'RecommendationAgent' initialized successfully
2025-08-08 02:42:34 - RecommendationAgent - [32mINFO[0m - Added tool: ProductAnalysisTool
2025-08-08 02:42:34 - RecommendationAgent - [32mINFO[0m - Added tool: PortfolioOptimizationTool
2025-08-08 02:42:34 - RecommendationAgent - [32mINFO[0m - Added tool: RecommendationScoringTool
2025-08-08 02:42:34 - RecommendationAgent - [32mINFO[0m - Added 3 recommendation tools
2025-08-08 02:42:34 - RecommendationAgent - [32mINFO[0m - Configured recommendation models: risk_adjusted, diversification, income_focused, growth_oriented
2025-08-08 02:42:34 - RecommendationAgent - [32mINFO[0m - Recommendation agent enhanced features initialized
2025-08-08 02:42:34 - ComplianceAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:42:34 - ComplianceAgent - [32mINFO[0m - Agent 'ComplianceAgent' created successfully
2025-08-08 02:42:34 - ComplianceAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:42:34 - ComplianceAgent - [32mINFO[0m - Agent 'ComplianceAgent' initialized successfully
2025-08-08 02:42:34 - ComplianceAgent - [32mINFO[0m - Added tool: SuitabilityCheckTool
2025-08-08 02:42:34 - ComplianceAgent - [32mINFO[0m - Added tool: RegulatoryCheckTool
2025-08-08 02:42:34 - ComplianceAgent - [32mINFO[0m - Added tool: ComplianceAuditTool
2025-08-08 02:42:34 - ComplianceAgent - [32mINFO[0m - Added 3 compliance tools
2025-08-08 02:42:34 - ComplianceAgent - [32mINFO[0m - Configured compliance rules: suitability, know_your_customer, anti_money_laundering
2025-08-08 02:42:34 - ComplianceAgent - [32mINFO[0m - Compliance agent enhanced features initialized
2025-08-08 02:42:34 - ReportWriterAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:42:34 - ReportWriterAgent - [32mINFO[0m - Agent 'ReportWriterAgent' created successfully
2025-08-08 02:42:34 - ReportWriterAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:42:34 - ReportWriterAgent - [32mINFO[0m - Agent 'ReportWriterAgent' initialized successfully
2025-08-08 02:42:34 - ReportWriterAgent - [32mINFO[0m - Added tool: ReportGeneratorTool
2025-08-08 02:42:34 - ReportWriterAgent - [32mINFO[0m - Added tool: FormatConverterTool
2025-08-08 02:42:34 - ReportWriterAgent - [32mINFO[0m - Added tool: ReportValidatorTool
2025-08-08 02:42:34 - ReportWriterAgent - [32mINFO[0m - Added 3 report writer tools
2025-08-08 02:42:34 - ReportWriterAgent - [32mINFO[0m - Configured report templates: executive_summary, detailed_analysis, investment_recommendation
2025-08-08 02:42:34 - ReportWriterAgent - [32mINFO[0m - Report writer agent enhanced features initialized
2025-08-08 02:42:34 - MemoryAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:42:34 - MemoryAgent - [32mINFO[0m - Agent 'MemoryAgent' created successfully
2025-08-08 02:42:34 - MemoryAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:42:34 - MemoryAgent - [32mINFO[0m - Agent 'MemoryAgent' initialized successfully
2025-08-08 02:42:34 - MemoryAgent - [32mINFO[0m - Added tool: MemoryStoreTool
2025-08-08 02:42:34 - MemoryAgent - [32mINFO[0m - Added tool: MemoryRetrieveTool
2025-08-08 02:42:34 - MemoryAgent - [32mINFO[0m - Added tool: MemoryCleanupTool
2025-08-08 02:42:34 - MemoryAgent - [32mINFO[0m - Added 3 memory tools
2025-08-08 02:42:34 - MemoryAgent - [32mINFO[0m - Configured memory types: conversation, user_preferences, investment_history, market_context
2025-08-08 02:42:34 - MemoryAgent - [32mINFO[0m - Memory agent enhanced features initialized
2025-08-08 02:42:34 - SupervisorAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:42:34 - SupervisorAgent - [32mINFO[0m - Agent 'SupervisorAgent' created successfully
2025-08-08 02:42:34 - SupervisorAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:42:34 - SupervisorAgent - [32mINFO[0m - Agent 'SupervisorAgent' initialized successfully
2025-08-08 02:42:34 - SupervisorAgent - [32mINFO[0m - Added tool: QualityReviewTool
2025-08-08 02:42:34 - SupervisorAgent - [32mINFO[0m - Added tool: ComplianceCheckTool
2025-08-08 02:42:34 - SupervisorAgent - [32mINFO[0m - Added tool: FinalApprovalTool
2025-08-08 02:42:34 - SupervisorAgent - [32mINFO[0m - Added 3 supervisor tools
2025-08-08 02:42:34 - SupervisorAgent - [32mINFO[0m - Configured review criteria: completeness, accuracy, compliance, clarity, relevance
2025-08-08 02:42:34 - SupervisorAgent - [32mINFO[0m - Supervisor agent enhanced features initialized
2025-08-08 02:42:34 - FinancialCrewOrchestrator - [32mINFO[0m - Created all enhanced specialized agents for financial analysis
2025-08-08 02:42:34 - FinancialCrewOrchestrator - [32mINFO[0m - Created CrewAI crew with all agents
2025-08-08 02:49:19 - MarketDataAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:49:19 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' created successfully
2025-08-08 02:49:19 - MarketDataAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:49:19 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' initialized successfully
2025-08-08 02:49:19 - MarketDataAgent - [32mINFO[0m - Added tool: Tool
2025-08-08 02:49:19 - MarketDataAgent - [32mINFO[0m - Added tool: Tool
2025-08-08 02:49:19 - MarketDataAgent - [32mINFO[0m - Added tool: Tool
2025-08-08 02:49:19 - MarketDataAgent - [32mINFO[0m - Added 3 market data tools
2025-08-08 02:49:19 - MarketDataAgent - [32mINFO[0m - Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 02:49:19 - MarketDataAgent - [32mINFO[0m - Market data agent enhanced features initialized
2025-08-08 02:49:19 - RiskAnalysisAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:49:19 - RiskAnalysisAgent - [32mINFO[0m - Agent 'RiskAnalysisAgent' created successfully
2025-08-08 02:49:19 - RiskAnalysisAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:49:19 - RiskAnalysisAgent - [32mINFO[0m - Agent 'RiskAnalysisAgent' initialized successfully
2025-08-08 02:49:19 - RiskAnalysisAgent - [32mINFO[0m - Added tool: RiskCalculationTool
2025-08-08 02:49:19 - RiskAnalysisAgent - [32mINFO[0m - Added tool: VolatilityAnalysisTool
2025-08-08 02:49:19 - RiskAnalysisAgent - [32mINFO[0m - Added tool: PortfolioRiskTool
2025-08-08 02:49:19 - RiskAnalysisAgent - [32mINFO[0m - Added 3 risk analysis tools
2025-08-08 02:49:19 - RiskAnalysisAgent - [32mINFO[0m - Configured risk models: var, cvar, sharpe_ratio, sortino_ratio
2025-08-08 02:49:19 - RiskAnalysisAgent - [32mINFO[0m - Risk analysis agent enhanced features initialized
2025-08-08 02:49:19 - RecommendationAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:49:19 - RecommendationAgent - [32mINFO[0m - Agent 'RecommendationAgent' created successfully
2025-08-08 02:49:19 - RecommendationAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:49:19 - RecommendationAgent - [32mINFO[0m - Agent 'RecommendationAgent' initialized successfully
2025-08-08 02:49:19 - RecommendationAgent - [32mINFO[0m - Added tool: Tool
2025-08-08 02:49:19 - RecommendationAgent - [32mINFO[0m - Added tool: Tool
2025-08-08 02:49:19 - RecommendationAgent - [32mINFO[0m - Added tool: Tool
2025-08-08 02:49:19 - RecommendationAgent - [32mINFO[0m - Added 3 recommendation tools
2025-08-08 02:49:19 - RecommendationAgent - [32mINFO[0m - Configured recommendation models: risk_adjusted, diversification, income_focused, growth_oriented
2025-08-08 02:49:19 - RecommendationAgent - [32mINFO[0m - Recommendation agent enhanced features initialized
2025-08-08 02:49:19 - ComplianceAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:49:19 - ComplianceAgent - [32mINFO[0m - Agent 'ComplianceAgent' created successfully
2025-08-08 02:49:19 - ComplianceAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:49:19 - ComplianceAgent - [32mINFO[0m - Agent 'ComplianceAgent' initialized successfully
2025-08-08 02:49:19 - ComplianceAgent - [32mINFO[0m - Added tool: SuitabilityCheckTool
2025-08-08 02:49:19 - ComplianceAgent - [32mINFO[0m - Added tool: RegulatoryCheckTool
2025-08-08 02:49:19 - ComplianceAgent - [32mINFO[0m - Added tool: ComplianceAuditTool
2025-08-08 02:49:19 - ComplianceAgent - [32mINFO[0m - Added 3 compliance tools
2025-08-08 02:49:19 - ComplianceAgent - [32mINFO[0m - Configured compliance rules: suitability, know_your_customer, anti_money_laundering
2025-08-08 02:49:19 - ComplianceAgent - [32mINFO[0m - Compliance agent enhanced features initialized
2025-08-08 02:49:19 - ReportWriterAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:49:19 - ReportWriterAgent - [32mINFO[0m - Agent 'ReportWriterAgent' created successfully
2025-08-08 02:49:19 - ReportWriterAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:49:19 - ReportWriterAgent - [32mINFO[0m - Agent 'ReportWriterAgent' initialized successfully
2025-08-08 02:49:19 - ReportWriterAgent - [32mINFO[0m - Added tool: ReportGeneratorTool
2025-08-08 02:49:19 - ReportWriterAgent - [32mINFO[0m - Added tool: FormatConverterTool
2025-08-08 02:49:19 - ReportWriterAgent - [32mINFO[0m - Added tool: ReportValidatorTool
2025-08-08 02:49:19 - ReportWriterAgent - [32mINFO[0m - Added 3 report writer tools
2025-08-08 02:49:19 - ReportWriterAgent - [32mINFO[0m - Configured report templates: executive_summary, detailed_analysis, investment_recommendation
2025-08-08 02:49:19 - ReportWriterAgent - [32mINFO[0m - Report writer agent enhanced features initialized
2025-08-08 02:49:19 - MemoryAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:49:19 - MemoryAgent - [32mINFO[0m - Agent 'MemoryAgent' created successfully
2025-08-08 02:49:19 - MemoryAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:49:19 - MemoryAgent - [32mINFO[0m - Agent 'MemoryAgent' initialized successfully
2025-08-08 02:49:19 - MemoryAgent - [32mINFO[0m - Added tool: MemoryStoreTool
2025-08-08 02:49:19 - MemoryAgent - [32mINFO[0m - Added tool: MemoryRetrieveTool
2025-08-08 02:49:19 - MemoryAgent - [32mINFO[0m - Added tool: MemoryCleanupTool
2025-08-08 02:49:19 - MemoryAgent - [32mINFO[0m - Added 3 memory tools
2025-08-08 02:49:19 - MemoryAgent - [32mINFO[0m - Configured memory types: conversation, user_preferences, investment_history, market_context
2025-08-08 02:49:19 - MemoryAgent - [32mINFO[0m - Memory agent enhanced features initialized
2025-08-08 02:49:19 - SupervisorAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:49:19 - SupervisorAgent - [32mINFO[0m - Agent 'SupervisorAgent' created successfully
2025-08-08 02:49:19 - SupervisorAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:49:19 - SupervisorAgent - [32mINFO[0m - Agent 'SupervisorAgent' initialized successfully
2025-08-08 02:49:19 - SupervisorAgent - [32mINFO[0m - Added tool: QualityReviewTool
2025-08-08 02:49:19 - SupervisorAgent - [32mINFO[0m - Added tool: ComplianceCheckTool
2025-08-08 02:49:19 - SupervisorAgent - [32mINFO[0m - Added tool: FinalApprovalTool
2025-08-08 02:49:19 - SupervisorAgent - [32mINFO[0m - Added 3 supervisor tools
2025-08-08 02:49:19 - SupervisorAgent - [32mINFO[0m - Configured review criteria: completeness, accuracy, compliance, clarity, relevance
2025-08-08 02:49:19 - SupervisorAgent - [32mINFO[0m - Supervisor agent enhanced features initialized
2025-08-08 02:49:19 - FinancialCrewOrchestrator - [32mINFO[0m - Created all enhanced specialized agents for financial analysis
2025-08-08 02:49:19 - FinancialCrewOrchestrator - [32mINFO[0m - Created CrewAI crew with all agents
2025-08-08 02:50:09 - __main__ - [32mINFO[0m - 🧹 Cleaning up...
2025-08-08 02:50:09 - src.core.event_bus - [32mINFO[0m - Event bus stopped
2025-08-08 02:50:09 - __main__ - [32mINFO[0m - ✅ Event bus stopped
2025-08-08 02:50:09 - __main__ - [32mINFO[0m - 👋 Discord bot shutdown complete
2025-08-08 02:50:09 - __main__ - [32mINFO[0m - 👋 Discord bot stopped by user
2025-08-08 02:50:46 - __main__ - [32mINFO[0m - 📡 Initializing core components...
2025-08-08 02:50:46 - src.core.event_bus - [32mINFO[0m - Event bus started
2025-08-08 02:50:46 - __main__ - [32mINFO[0m - ✅ Event bus started
2025-08-08 02:50:46 - __main__ - [32mINFO[0m - ✅ Session manager initialized
2025-08-08 02:50:46 - __main__ - [32mINFO[0m - 🤖 Starting Discord bot...
2025-08-08 02:50:46 - discord.client - [33mWARNING[0m - PyNaCl is not installed, voice will NOT be supported
2025-08-08 02:50:46 - src.core.event_bus - [32mINFO[0m - Subscribed to event type: EventType.CHAT_RESPONSE
2025-08-08 02:50:46 - src.chatbot.discord_bot - [32mINFO[0m - 🚀 Initializing Discord Bot...
2025-08-08 02:50:46 - MarketDataAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:50:46 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' created successfully
2025-08-08 02:50:46 - MarketDataAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:50:46 - MarketDataAgent - [32mINFO[0m - Agent 'MarketDataAgent' initialized successfully
2025-08-08 02:50:46 - MarketDataAgent - [32mINFO[0m - Added tool: MarketDataTool
2025-08-08 02:50:46 - MarketDataAgent - [32mINFO[0m - Added tool: EconomicIndicatorTool
2025-08-08 02:50:46 - MarketDataAgent - [32mINFO[0m - Added tool: TrendAnalysisTool
2025-08-08 02:50:46 - MarketDataAgent - [32mINFO[0m - Added 3 market data tools
2025-08-08 02:50:46 - MarketDataAgent - [32mINFO[0m - Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 02:50:46 - MarketDataAgent - [32mINFO[0m - Market data agent enhanced features initialized
2025-08-08 02:50:46 - RiskAnalysisAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:50:46 - RiskAnalysisAgent - [32mINFO[0m - Agent 'RiskAnalysisAgent' created successfully
2025-08-08 02:50:46 - RiskAnalysisAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:50:46 - RiskAnalysisAgent - [32mINFO[0m - Agent 'RiskAnalysisAgent' initialized successfully
2025-08-08 02:50:46 - RiskAnalysisAgent - [32mINFO[0m - Added tool: RiskCalculationTool
2025-08-08 02:50:46 - RiskAnalysisAgent - [32mINFO[0m - Added tool: VolatilityAnalysisTool
2025-08-08 02:50:46 - RiskAnalysisAgent - [32mINFO[0m - Added tool: PortfolioRiskTool
2025-08-08 02:50:46 - RiskAnalysisAgent - [32mINFO[0m - Added 3 risk analysis tools
2025-08-08 02:50:46 - RiskAnalysisAgent - [32mINFO[0m - Configured risk models: var, cvar, sharpe_ratio, sortino_ratio
2025-08-08 02:50:46 - RiskAnalysisAgent - [32mINFO[0m - Risk analysis agent enhanced features initialized
2025-08-08 02:50:46 - RecommendationAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:50:46 - RecommendationAgent - [32mINFO[0m - Agent 'RecommendationAgent' created successfully
2025-08-08 02:50:46 - RecommendationAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:50:46 - RecommendationAgent - [32mINFO[0m - Agent 'RecommendationAgent' initialized successfully
2025-08-08 02:50:46 - RecommendationAgent - [32mINFO[0m - Added tool: ProductAnalysisTool
2025-08-08 02:50:46 - RecommendationAgent - [32mINFO[0m - Added tool: PortfolioOptimizationTool
2025-08-08 02:50:46 - RecommendationAgent - [32mINFO[0m - Added tool: RecommendationScoringTool
2025-08-08 02:50:46 - RecommendationAgent - [32mINFO[0m - Added 3 recommendation tools
2025-08-08 02:50:46 - RecommendationAgent - [32mINFO[0m - Configured recommendation models: risk_adjusted, diversification, income_focused, growth_oriented
2025-08-08 02:50:46 - RecommendationAgent - [32mINFO[0m - Recommendation agent enhanced features initialized
2025-08-08 02:50:46 - ComplianceAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:50:46 - ComplianceAgent - [32mINFO[0m - Agent 'ComplianceAgent' created successfully
2025-08-08 02:50:46 - ComplianceAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:50:46 - ComplianceAgent - [32mINFO[0m - Agent 'ComplianceAgent' initialized successfully
2025-08-08 02:50:46 - ComplianceAgent - [32mINFO[0m - Added tool: SuitabilityCheckTool
2025-08-08 02:50:46 - ComplianceAgent - [32mINFO[0m - Added tool: RegulatoryCheckTool
2025-08-08 02:50:46 - ComplianceAgent - [32mINFO[0m - Added tool: ComplianceAuditTool
2025-08-08 02:50:46 - ComplianceAgent - [32mINFO[0m - Added 3 compliance tools
2025-08-08 02:50:46 - ComplianceAgent - [32mINFO[0m - Configured compliance rules: suitability, know_your_customer, anti_money_laundering
2025-08-08 02:50:46 - ComplianceAgent - [32mINFO[0m - Compliance agent enhanced features initialized
2025-08-08 02:50:46 - ReportWriterAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:50:46 - ReportWriterAgent - [32mINFO[0m - Agent 'ReportWriterAgent' created successfully
2025-08-08 02:50:46 - ReportWriterAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:50:46 - ReportWriterAgent - [32mINFO[0m - Agent 'ReportWriterAgent' initialized successfully
2025-08-08 02:50:46 - ReportWriterAgent - [32mINFO[0m - Added tool: ReportGeneratorTool
2025-08-08 02:50:46 - ReportWriterAgent - [32mINFO[0m - Added tool: FormatConverterTool
2025-08-08 02:50:46 - ReportWriterAgent - [32mINFO[0m - Added tool: ReportValidatorTool
2025-08-08 02:50:46 - ReportWriterAgent - [32mINFO[0m - Added 3 report writer tools
2025-08-08 02:50:46 - ReportWriterAgent - [32mINFO[0m - Configured report templates: executive_summary, detailed_analysis, investment_recommendation
2025-08-08 02:50:46 - ReportWriterAgent - [32mINFO[0m - Report writer agent enhanced features initialized
2025-08-08 02:50:46 - MemoryAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:50:46 - MemoryAgent - [32mINFO[0m - Agent 'MemoryAgent' created successfully
2025-08-08 02:50:46 - MemoryAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:50:46 - MemoryAgent - [32mINFO[0m - Agent 'MemoryAgent' initialized successfully
2025-08-08 02:50:46 - MemoryAgent - [32mINFO[0m - Added tool: MemoryStoreTool
2025-08-08 02:50:46 - MemoryAgent - [32mINFO[0m - Added tool: MemoryRetrieveTool
2025-08-08 02:50:46 - MemoryAgent - [32mINFO[0m - Added tool: MemoryCleanupTool
2025-08-08 02:50:46 - MemoryAgent - [32mINFO[0m - Added 3 memory tools
2025-08-08 02:50:46 - MemoryAgent - [32mINFO[0m - Configured memory types: conversation, user_preferences, investment_history, market_context
2025-08-08 02:50:46 - MemoryAgent - [32mINFO[0m - Memory agent enhanced features initialized
2025-08-08 02:50:46 - SupervisorAgent - [32mINFO[0m - LLM configuration created for model: claude-3-5-sonnet-20241022
2025-08-08 02:50:46 - SupervisorAgent - [32mINFO[0m - Agent 'SupervisorAgent' created successfully
2025-08-08 02:50:46 - SupervisorAgent - [32mINFO[0m - Agent configuration validation passed
2025-08-08 02:50:46 - SupervisorAgent - [32mINFO[0m - Agent 'SupervisorAgent' initialized successfully
2025-08-08 02:50:46 - SupervisorAgent - [32mINFO[0m - Added tool: QualityReviewTool
2025-08-08 02:50:46 - SupervisorAgent - [32mINFO[0m - Added tool: ComplianceCheckTool
2025-08-08 02:50:46 - SupervisorAgent - [32mINFO[0m - Added tool: FinalApprovalTool
2025-08-08 02:50:46 - SupervisorAgent - [32mINFO[0m - Added 3 supervisor tools
2025-08-08 02:50:46 - SupervisorAgent - [32mINFO[0m - Configured review criteria: completeness, accuracy, compliance, clarity, relevance
2025-08-08 02:50:46 - SupervisorAgent - [32mINFO[0m - Supervisor agent enhanced features initialized
2025-08-08 02:50:46 - FinancialCrewOrchestrator - [32mINFO[0m - Created all enhanced specialized agents for financial analysis
2025-08-08 02:50:46 - FinancialCrewOrchestrator - [32mINFO[0m - Created CrewAI crew with all agents
2025-08-08 02:50:46 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Discord Bot initialization completed
2025-08-08 02:50:46 - discord.client - [32mINFO[0m - logging in using static token
2025-08-08 02:50:47 - discord.gateway - [32mINFO[0m - Shard ID None has connected to Gateway (Session ID: 866ad0117c02b85360b72a6fb882abe3).
2025-08-08 02:50:49 - src.chatbot.discord_bot - [32mINFO[0m - 🤖 Discord Bot Ready!
2025-08-08 02:50:49 - src.chatbot.discord_bot - [32mINFO[0m -    Bot Name: yuanta_crewai
2025-08-08 02:50:49 - src.chatbot.discord_bot - [32mINFO[0m -    Bot ID: 1401884441864962078
2025-08-08 02:50:49 - src.chatbot.discord_bot - [32mINFO[0m -    Servers: 1
2025-08-08 02:50:49 - src.chatbot.discord_bot - [32mINFO[0m -    Users: 1
2025-08-08 02:50:49 - src.chatbot.discord_bot - [32mINFO[0m - 📋 Available Commands:
2025-08-08 02:50:49 - src.chatbot.discord_bot - [32mINFO[0m -    • !financial_help - Show detailed help
2025-08-08 02:50:49 - src.chatbot.discord_bot - [32mINFO[0m -    • !status - Show bot status
2025-08-08 02:50:49 - src.chatbot.discord_bot - [32mINFO[0m -    • !ping - Test bot responsiveness
2025-08-08 02:50:49 - src.chatbot.discord_bot - [32mINFO[0m -    • Send any message for financial advice
2025-08-08 02:51:02 - src.chatbot.discord_bot - [32mINFO[0m - 🤔 Processing message from fortsetzen: i want to invest in high risk fund for my retireme...
2025-08-08 02:51:02 - src.utils.session_manager - [32mINFO[0m - Created session discord_682790548561723396_dce1e6af for user 682790548561723396 on discord
2025-08-08 02:51:02 - src.chatbot.discord_bot - [32mINFO[0m - Created new session: discord_682790548561723396_dce1e6af
2025-08-08 02:51:02 - src.chatbot.discord_bot - [32mINFO[0m - Processing query with CrewAI: i want to invest in high risk fund for my retireme...
2025-08-08 02:51:02 - src.llm.crewai_manager - [32mINFO[0m - Starting full CrewAI multi-agent orchestration for evaluation...
2025-08-08 02:51:02 - src.llm.crewai_manager - [32mINFO[0m - 🤖 Processing with CrewAI multi-agent system...
2025-08-08 02:51:02 - FinancialCrewOrchestrator - [32mINFO[0m - Processing financial query: i want to invest in high risk fund for my retirement with around $200000 in the next 10 years. any yuanta's product recommendation?
2025-08-08 02:51:02 - FinancialCrewOrchestrator - [32mINFO[0m - Using conversation history with 1 messages
2025-08-08 02:51:02 - FinancialCrewOrchestrator - [32mINFO[0m - Created 4 tasks for CrewAI execution
2025-08-08 02:51:02 - FinancialCrewOrchestrator - [32mINFO[0m - Updated crew with tasks
2025-08-08 02:51:02 - FinancialCrewOrchestrator - [32mINFO[0m - Starting CrewAI crew execution (attempt 1/1)...
2025-08-08 02:51:02 - root - [31mERROR[0m - LiteLLM call failed: litellm.BadRequestError: LLM Provider NOT provided. Pass in the LLM provider you are trying to call. You passed model={'model': 'claude-3-5-sonnet-20241022', 'provider': 'anthropic', 'temperature': 0.7, 'max_tokens': 4000}
 Pass model as E.g. For 'Huggingface' inference endpoints pass in `completion(model='huggingface/starcoder',..)` Learn more: https://docs.litellm.ai/docs/providers
2025-08-08 02:51:02 - FinancialCrewOrchestrator - [31mERROR[0m - Unexpected error in CrewAI execution: litellm.BadRequestError: LLM Provider NOT provided. Pass in the LLM provider you are trying to call. You passed model={'model': 'claude-3-5-sonnet-20241022', 'provider': 'anthropic', 'temperature': 0.7, 'max_tokens': 4000}
 Pass model as E.g. For 'Huggingface' inference endpoints pass in `completion(model='huggingface/starcoder',..)` Learn more: https://docs.litellm.ai/docs/providers - Error: litellm.BadRequestError: LLM Provider NOT provided. Pass in the LLM provider you are trying to call. You passed model={'model': 'claude-3-5-sonnet-20241022', 'provider': 'anthropic', 'temperature': 0.7, 'max_tokens': 4000}
 Pass model as E.g. For 'Huggingface' inference endpoints pass in `completion(model='huggingface/starcoder',..)` Learn more: https://docs.litellm.ai/docs/providers
Traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 236, in process_financial_query
    result = self.crew.kickoff()
             ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
                  ^^^^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 499, in _execute_core
    raise e  # Re-raise the exception after emitting the event
    ^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
             ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 459, in execute_task
    raise e
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 125, in invoke
    raise e
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
                       ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 211, in _invoke_loop
    raise e
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
             ^^^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 164, in get_llm_response
    raise e
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
             ^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1285, in wrapper
    raise e
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 3304, in completion
    raise exception_type(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 1052, in completion
    model, custom_llm_provider, dynamic_api_key, api_base = get_llm_provider(
                                                            ^^^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\litellm_core_utils\get_llm_provider_logic.py", line 373, in get_llm_provider
    raise e
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\litellm_core_utils\get_llm_provider_logic.py", line 350, in get_llm_provider
    raise litellm.exceptions.BadRequestError(  # type: ignore
litellm.exceptions.BadRequestError: litellm.BadRequestError: LLM Provider NOT provided. Pass in the LLM provider you are trying to call. You passed model={'model': 'claude-3-5-sonnet-20241022', 'provider': 'anthropic', 'temperature': 0.7, 'max_tokens': 4000}
 Pass model as E.g. For 'Huggingface' inference endpoints pass in `completion(model='huggingface/starcoder',..)` Learn more: https://docs.litellm.ai/docs/providers
2025-08-08 02:51:02 - FinancialCrewOrchestrator - [32mINFO[0m - Using fallback response for faster user experience
2025-08-08 02:51:02 - FinancialCrewOrchestrator - [32mINFO[0m - Error type: BadRequestError
2025-08-08 02:51:02 - FinancialCrewOrchestrator - [32mINFO[0m - Error details: litellm.BadRequestError: LLM Provider NOT provided. Pass in the LLM provider you are trying to call. You passed model={'model': 'claude-3-5-sonnet-20241022', 'provider': 'anthropic', 'temperature': 0.7, 'max_tokens': 4000}
 Pass model as E.g. For 'Huggingface' inference endpoints pass in `completion(model='huggingface/starcoder',..)` Learn more: https://docs.litellm.ai/docs/providers
2025-08-08 02:51:02 - RiskStrategy - [32mINFO[0m - Generating risk analysis response - {'strategy': 'RiskStrategy'}
2025-08-08 02:51:02 - src.llm.crewai_manager - [32mINFO[0m - CrewAI used fallback response due to LLM overload
2025-08-08 02:51:02 - src.llm.crewai_manager - [32mINFO[0m - Original error: litellm.BadRequestError: LLM Provider NOT provided. Pass in the LLM provider you are trying to call. You passed model={'model': 'claude-3-5-sonnet-20241022', 'provider': 'anthropic', 'temperature': 0.7, 'max_tokens': 4000}
 Pass model as E.g. For 'Huggingface' inference endpoints pass in `completion(model='huggingface/starcoder',..)` Learn more: https://docs.litellm.ai/docs/providers
2025-08-08 02:51:02 - src.llm.crewai_manager - [32mINFO[0m - ✅ CrewAI multi-agent processing completed successfully
2025-08-08 02:51:02 - src.llm.crewai_manager - [32mINFO[0m - ✅ Successfully created CrewAI multi-agent response
2025-08-08 02:51:02 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Successfully sent single response to Discord
2025-08-08 02:53:00 - __main__ - [32mINFO[0m - 🧹 Cleaning up...
2025-08-08 02:53:00 - src.core.event_bus - [32mINFO[0m - Event bus stopped
2025-08-08 02:53:00 - __main__ - [32mINFO[0m - ✅ Event bus stopped
2025-08-08 02:53:00 - __main__ - [32mINFO[0m - 👋 Discord bot shutdown complete
2025-08-08 02:53:00 - __main__ - [32mINFO[0m - 👋 Discord bot stopped by user
2025-08-08 03:10:11 - __main__ - [31mERROR[0m - ❌ Error starting Discord bot: No module named 'src.agents.risk_analysis_agent_enhanced'
2025-08-08 03:10:11 - __main__ - [32mINFO[0m - 🧹 Cleaning up...
2025-08-08 03:10:11 - src.core.event_bus - [32mINFO[0m - Event bus stopped
2025-08-08 03:10:11 - __main__ - [32mINFO[0m - ✅ Event bus stopped
2025-08-08 03:10:11 - __main__ - [32mINFO[0m - 👋 Discord bot shutdown complete
2025-08-08 03:10:11 - __main__ - [31mERROR[0m - ❌ Fatal error: No module named 'src.agents.risk_analysis_agent_enhanced'
2025-08-08 03:10:27 - __main__ - [31mERROR[0m - ❌ Error starting Discord bot: No module named 'src.agents.risk_analysis_agent_enhanced'
2025-08-08 03:10:27 - __main__ - [32mINFO[0m - 🧹 Cleaning up...
2025-08-08 03:10:27 - src.core.event_bus - [32mINFO[0m - Event bus stopped
2025-08-08 03:10:27 - __main__ - [32mINFO[0m - ✅ Event bus stopped
2025-08-08 03:10:27 - __main__ - [32mINFO[0m - 👋 Discord bot shutdown complete
2025-08-08 03:10:27 - __main__ - [31mERROR[0m - ❌ Fatal error: No module named 'src.agents.risk_analysis_agent_enhanced'
2025-08-08 03:11:52 - __main__ - [32mINFO[0m - 📡 Initializing core components...
2025-08-08 03:11:52 - src.core.event_bus - [32mINFO[0m - Event bus started
2025-08-08 03:11:52 - __main__ - [32mINFO[0m - ✅ Event bus started
2025-08-08 03:11:52 - __main__ - [32mINFO[0m - ✅ Session manager initialized
2025-08-08 03:11:52 - __main__ - [32mINFO[0m - 🤖 Starting Discord bot...
2025-08-08 03:11:52 - discord.client - [33mWARNING[0m - PyNaCl is not installed, voice will NOT be supported
2025-08-08 03:11:52 - src.core.event_bus - [32mINFO[0m - Subscribed to event type: EventType.CHAT_RESPONSE
2025-08-08 03:11:52 - src.chatbot.discord_bot - [32mINFO[0m - 🚀 Initializing Discord Bot...
2025-08-08 03:11:52 - src.chatbot.discord_bot - [31mERROR[0m - ❌ Discord Bot initialization failed: Can't instantiate abstract class MarketDataAgent without an implementation for abstract method '_create_agent'
2025-08-08 03:11:52 - root - [31mERROR[0m - Failed to setup Discord bot: Failed to initialize Discord bot: Can't instantiate abstract class MarketDataAgent without an implementation for abstract method '_create_agent'
2025-08-08 03:11:52 - __main__ - [31mERROR[0m - ❌ Error starting Discord bot: Failed to setup Discord bot: Failed to initialize Discord bot: Can't instantiate abstract class MarketDataAgent without an implementation for abstract method '_create_agent'
2025-08-08 03:11:52 - __main__ - [32mINFO[0m - 🧹 Cleaning up...
2025-08-08 03:11:52 - src.core.event_bus - [32mINFO[0m - Event bus stopped
2025-08-08 03:11:52 - __main__ - [32mINFO[0m - ✅ Event bus stopped
2025-08-08 03:11:52 - __main__ - [32mINFO[0m - 👋 Discord bot shutdown complete
2025-08-08 03:11:52 - __main__ - [31mERROR[0m - ❌ Fatal error: Failed to setup Discord bot: Failed to initialize Discord bot: Can't instantiate abstract class MarketDataAgent without an implementation for abstract method '_create_agent'
2025-08-08 03:12:48 - __main__ - [31mERROR[0m - ❌ Error starting Discord bot: name 'Agent' is not defined
2025-08-08 03:12:48 - __main__ - [32mINFO[0m - 🧹 Cleaning up...
2025-08-08 03:12:48 - src.core.event_bus - [32mINFO[0m - Event bus stopped
2025-08-08 03:12:48 - __main__ - [32mINFO[0m - ✅ Event bus stopped
2025-08-08 03:12:48 - __main__ - [32mINFO[0m - 👋 Discord bot shutdown complete
2025-08-08 03:12:48 - __main__ - [31mERROR[0m - ❌ Fatal error: name 'Agent' is not defined
2025-08-08 03:13:37 - __main__ - [32mINFO[0m - 📡 Initializing core components...
2025-08-08 03:13:37 - src.core.event_bus - [32mINFO[0m - Event bus started
2025-08-08 03:13:37 - __main__ - [32mINFO[0m - ✅ Event bus started
2025-08-08 03:13:37 - __main__ - [32mINFO[0m - ✅ Session manager initialized
2025-08-08 03:13:37 - __main__ - [32mINFO[0m - 🤖 Starting Discord bot...
2025-08-08 03:13:37 - discord.client - [33mWARNING[0m - PyNaCl is not installed, voice will NOT be supported
2025-08-08 03:13:37 - src.core.event_bus - [32mINFO[0m - Subscribed to event type: EventType.CHAT_RESPONSE
2025-08-08 03:13:37 - src.chatbot.discord_bot - [32mINFO[0m - 🚀 Initializing Discord Bot...
2025-08-08 03:13:37 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:13:37 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Created CrewAI agent: MarketDataAgent
2025-08-08 03:13:37 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent 'MarketDataAgent' initialized successfully
2025-08-08 03:13:37 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Added tool: get_market_data
2025-08-08 03:13:37 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Added tool: get_economic_indicators
2025-08-08 03:13:37 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Added tool: analyze_market_trends
2025-08-08 03:13:37 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Added 3 market data tools
2025-08-08 03:13:37 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 03:13:37 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Market data agent enhanced features initialized
2025-08-08 03:13:37 - src.chatbot.discord_bot - [31mERROR[0m - ❌ Discord Bot initialization failed: Can't instantiate abstract class RiskAnalysisAgent without an implementation for abstract method '_create_agent'
2025-08-08 03:13:37 - root - [31mERROR[0m - Failed to setup Discord bot: Failed to initialize Discord bot: Can't instantiate abstract class RiskAnalysisAgent without an implementation for abstract method '_create_agent'
2025-08-08 03:13:37 - __main__ - [31mERROR[0m - ❌ Error starting Discord bot: Failed to setup Discord bot: Failed to initialize Discord bot: Can't instantiate abstract class RiskAnalysisAgent without an implementation for abstract method '_create_agent'
2025-08-08 03:13:37 - __main__ - [32mINFO[0m - 🧹 Cleaning up...
2025-08-08 03:13:37 - src.core.event_bus - [32mINFO[0m - Event bus stopped
2025-08-08 03:13:37 - __main__ - [32mINFO[0m - ✅ Event bus stopped
2025-08-08 03:13:37 - __main__ - [32mINFO[0m - 👋 Discord bot shutdown complete
2025-08-08 03:13:37 - __main__ - [31mERROR[0m - ❌ Fatal error: Failed to setup Discord bot: Failed to initialize Discord bot: Can't instantiate abstract class RiskAnalysisAgent without an implementation for abstract method '_create_agent'
2025-08-08 03:14:51 - __main__ - [32mINFO[0m - 📡 Initializing core components...
2025-08-08 03:14:51 - src.core.event_bus - [32mINFO[0m - Event bus started
2025-08-08 03:14:51 - __main__ - [32mINFO[0m - ✅ Event bus started
2025-08-08 03:14:51 - __main__ - [32mINFO[0m - ✅ Session manager initialized
2025-08-08 03:14:51 - __main__ - [32mINFO[0m - 🤖 Starting Discord bot...
2025-08-08 03:14:51 - discord.client - [33mWARNING[0m - PyNaCl is not installed, voice will NOT be supported
2025-08-08 03:14:51 - src.core.event_bus - [32mINFO[0m - Subscribed to event type: EventType.CHAT_RESPONSE
2025-08-08 03:14:51 - src.chatbot.discord_bot - [32mINFO[0m - 🚀 Initializing Discord Bot...
2025-08-08 03:14:51 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:14:51 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Created CrewAI agent: MarketDataAgent
2025-08-08 03:14:51 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent 'MarketDataAgent' initialized successfully
2025-08-08 03:14:51 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Added tool: get_market_data
2025-08-08 03:14:51 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Added tool: get_economic_indicators
2025-08-08 03:14:51 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Added tool: analyze_market_trends
2025-08-08 03:14:51 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Added 3 market data tools
2025-08-08 03:14:51 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 03:14:51 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Market data agent enhanced features initialized
2025-08-08 03:14:51 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:14:51 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Created CrewAI agent: RiskAnalysisAgent
2025-08-08 03:14:51 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Agent 'RiskAnalysisAgent' initialized successfully
2025-08-08 03:14:51 - src.chatbot.discord_bot - [31mERROR[0m - ❌ Discord Bot initialization failed: 'NoneType' object has no attribute 'append'
2025-08-08 03:14:51 - root - [31mERROR[0m - Failed to setup Discord bot: Failed to initialize Discord bot: 'NoneType' object has no attribute 'append'
2025-08-08 03:14:51 - __main__ - [31mERROR[0m - ❌ Error starting Discord bot: Failed to setup Discord bot: Failed to initialize Discord bot: 'NoneType' object has no attribute 'append'
2025-08-08 03:14:51 - __main__ - [32mINFO[0m - 🧹 Cleaning up...
2025-08-08 03:14:51 - src.core.event_bus - [32mINFO[0m - Event bus stopped
2025-08-08 03:14:51 - __main__ - [32mINFO[0m - ✅ Event bus stopped
2025-08-08 03:14:51 - __main__ - [32mINFO[0m - 👋 Discord bot shutdown complete
2025-08-08 03:14:51 - __main__ - [31mERROR[0m - ❌ Fatal error: Failed to setup Discord bot: Failed to initialize Discord bot: 'NoneType' object has no attribute 'append'
2025-08-08 03:15:37 - __main__ - [32mINFO[0m - 📡 Initializing core components...
2025-08-08 03:15:37 - src.core.event_bus - [32mINFO[0m - Event bus started
2025-08-08 03:15:37 - __main__ - [32mINFO[0m - ✅ Event bus started
2025-08-08 03:15:37 - __main__ - [32mINFO[0m - ✅ Session manager initialized
2025-08-08 03:15:37 - __main__ - [32mINFO[0m - 🤖 Starting Discord bot...
2025-08-08 03:15:37 - discord.client - [33mWARNING[0m - PyNaCl is not installed, voice will NOT be supported
2025-08-08 03:15:37 - src.core.event_bus - [32mINFO[0m - Subscribed to event type: EventType.CHAT_RESPONSE
2025-08-08 03:15:37 - src.chatbot.discord_bot - [32mINFO[0m - 🚀 Initializing Discord Bot...
2025-08-08 03:15:37 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:15:37 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Created CrewAI agent: MarketDataAgent
2025-08-08 03:15:37 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent 'MarketDataAgent' initialized successfully
2025-08-08 03:15:37 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Added tool: get_market_data
2025-08-08 03:15:37 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Added tool: get_economic_indicators
2025-08-08 03:15:37 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Added tool: analyze_market_trends
2025-08-08 03:15:37 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Added 3 market data tools
2025-08-08 03:15:37 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 03:15:37 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Market data agent enhanced features initialized
2025-08-08 03:15:37 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:15:37 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Created CrewAI agent: RiskAnalysisAgent
2025-08-08 03:15:37 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Agent 'RiskAnalysisAgent' initialized successfully
2025-08-08 03:15:37 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Added tool: calculate_risk_metrics
2025-08-08 03:15:37 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Added tool: analyze_volatility
2025-08-08 03:15:37 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Added tool: analyze_portfolio_risk
2025-08-08 03:15:37 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Added 3 risk analysis tools
2025-08-08 03:15:37 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Configured risk models: var, cvar, sharpe_ratio, sortino_ratio
2025-08-08 03:15:37 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Risk analysis agent enhanced features initialized
2025-08-08 03:15:37 - src.chatbot.discord_bot - [31mERROR[0m - ❌ Discord Bot initialization failed: Can't instantiate abstract class RecommendationAgent without an implementation for abstract method '_create_agent'
2025-08-08 03:15:37 - root - [31mERROR[0m - Failed to setup Discord bot: Failed to initialize Discord bot: Can't instantiate abstract class RecommendationAgent without an implementation for abstract method '_create_agent'
2025-08-08 03:15:37 - __main__ - [31mERROR[0m - ❌ Error starting Discord bot: Failed to setup Discord bot: Failed to initialize Discord bot: Can't instantiate abstract class RecommendationAgent without an implementation for abstract method '_create_agent'
2025-08-08 03:15:37 - __main__ - [32mINFO[0m - 🧹 Cleaning up...
2025-08-08 03:15:37 - src.core.event_bus - [32mINFO[0m - Event bus stopped
2025-08-08 03:15:37 - __main__ - [32mINFO[0m - ✅ Event bus stopped
2025-08-08 03:15:37 - __main__ - [32mINFO[0m - 👋 Discord bot shutdown complete
2025-08-08 03:15:37 - __main__ - [31mERROR[0m - ❌ Fatal error: Failed to setup Discord bot: Failed to initialize Discord bot: Can't instantiate abstract class RecommendationAgent without an implementation for abstract method '_create_agent'
2025-08-08 03:16:56 - __main__ - [32mINFO[0m - 📡 Initializing core components...
2025-08-08 03:16:56 - src.core.event_bus - [32mINFO[0m - Event bus started
2025-08-08 03:16:56 - __main__ - [32mINFO[0m - ✅ Event bus started
2025-08-08 03:16:56 - __main__ - [32mINFO[0m - ✅ Session manager initialized
2025-08-08 03:16:56 - __main__ - [32mINFO[0m - 🤖 Starting Discord bot...
2025-08-08 03:16:56 - discord.client - [33mWARNING[0m - PyNaCl is not installed, voice will NOT be supported
2025-08-08 03:16:56 - src.core.event_bus - [32mINFO[0m - Subscribed to event type: EventType.CHAT_RESPONSE
2025-08-08 03:16:56 - src.chatbot.discord_bot - [32mINFO[0m - 🚀 Initializing Discord Bot...
2025-08-08 03:16:56 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:16:56 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Created CrewAI agent: MarketDataAgent
2025-08-08 03:16:56 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent 'MarketDataAgent' initialized successfully
2025-08-08 03:16:56 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Added tool: get_market_data
2025-08-08 03:16:56 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Added tool: get_economic_indicators
2025-08-08 03:16:56 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Added tool: analyze_market_trends
2025-08-08 03:16:56 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Added 3 market data tools
2025-08-08 03:16:56 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 03:16:56 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Market data agent enhanced features initialized
2025-08-08 03:16:56 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:16:56 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Created CrewAI agent: RiskAnalysisAgent
2025-08-08 03:16:56 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Agent 'RiskAnalysisAgent' initialized successfully
2025-08-08 03:16:56 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Added tool: calculate_risk_metrics
2025-08-08 03:16:56 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Added tool: analyze_volatility
2025-08-08 03:16:56 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Added tool: analyze_portfolio_risk
2025-08-08 03:16:56 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Added 3 risk analysis tools
2025-08-08 03:16:56 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Configured risk models: var, cvar, sharpe_ratio, sortino_ratio
2025-08-08 03:16:56 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Risk analysis agent enhanced features initialized
2025-08-08 03:16:56 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:16:56 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Created CrewAI agent: RecommendationAgent
2025-08-08 03:16:56 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Agent 'RecommendationAgent' initialized successfully
2025-08-08 03:16:56 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Added tool: analyze_product
2025-08-08 03:16:56 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Added tool: optimize_portfolio
2025-08-08 03:16:56 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Added tool: score_recommendations
2025-08-08 03:16:56 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Added 3 recommendation tools
2025-08-08 03:16:56 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Configured recommendation models: risk_adjusted, diversification, income_focused, growth_oriented
2025-08-08 03:16:56 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Recommendation agent enhanced features initialized
2025-08-08 03:16:56 - src.chatbot.discord_bot - [31mERROR[0m - ❌ Discord Bot initialization failed: Can't instantiate abstract class ComplianceAgent without an implementation for abstract method '_create_agent'
2025-08-08 03:16:56 - root - [31mERROR[0m - Failed to setup Discord bot: Failed to initialize Discord bot: Can't instantiate abstract class ComplianceAgent without an implementation for abstract method '_create_agent'
2025-08-08 03:16:56 - __main__ - [31mERROR[0m - ❌ Error starting Discord bot: Failed to setup Discord bot: Failed to initialize Discord bot: Can't instantiate abstract class ComplianceAgent without an implementation for abstract method '_create_agent'
2025-08-08 03:16:56 - __main__ - [32mINFO[0m - 🧹 Cleaning up...
2025-08-08 03:16:56 - src.core.event_bus - [32mINFO[0m - Event bus stopped
2025-08-08 03:16:56 - __main__ - [32mINFO[0m - ✅ Event bus stopped
2025-08-08 03:16:56 - __main__ - [32mINFO[0m - 👋 Discord bot shutdown complete
2025-08-08 03:16:56 - __main__ - [31mERROR[0m - ❌ Fatal error: Failed to setup Discord bot: Failed to initialize Discord bot: Can't instantiate abstract class ComplianceAgent without an implementation for abstract method '_create_agent'
2025-08-08 03:18:17 - __main__ - [32mINFO[0m - 📡 Initializing core components...
2025-08-08 03:18:17 - src.core.event_bus - [32mINFO[0m - Event bus started
2025-08-08 03:18:17 - __main__ - [32mINFO[0m - ✅ Event bus started
2025-08-08 03:18:17 - __main__ - [32mINFO[0m - ✅ Session manager initialized
2025-08-08 03:18:17 - __main__ - [32mINFO[0m - 🤖 Starting Discord bot...
2025-08-08 03:18:17 - discord.client - [33mWARNING[0m - PyNaCl is not installed, voice will NOT be supported
2025-08-08 03:18:17 - src.core.event_bus - [32mINFO[0m - Subscribed to event type: EventType.CHAT_RESPONSE
2025-08-08 03:18:17 - src.chatbot.discord_bot - [32mINFO[0m - 🚀 Initializing Discord Bot...
2025-08-08 03:18:17 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:18:17 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Created CrewAI agent: MarketDataAgent
2025-08-08 03:18:17 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent 'MarketDataAgent' initialized successfully
2025-08-08 03:18:17 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Added tool: get_market_data
2025-08-08 03:18:17 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Added tool: get_economic_indicators
2025-08-08 03:18:17 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Added tool: analyze_market_trends
2025-08-08 03:18:17 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Added 3 market data tools
2025-08-08 03:18:17 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 03:18:17 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Market data agent enhanced features initialized
2025-08-08 03:18:17 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:18:17 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Created CrewAI agent: RiskAnalysisAgent
2025-08-08 03:18:17 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Agent 'RiskAnalysisAgent' initialized successfully
2025-08-08 03:18:17 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Added tool: calculate_risk_metrics
2025-08-08 03:18:17 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Added tool: analyze_volatility
2025-08-08 03:18:17 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Added tool: analyze_portfolio_risk
2025-08-08 03:18:17 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Added 3 risk analysis tools
2025-08-08 03:18:17 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Configured risk models: var, cvar, sharpe_ratio, sortino_ratio
2025-08-08 03:18:17 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Risk analysis agent enhanced features initialized
2025-08-08 03:18:17 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:18:17 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Created CrewAI agent: RecommendationAgent
2025-08-08 03:18:17 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Agent 'RecommendationAgent' initialized successfully
2025-08-08 03:18:17 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Added tool: analyze_product
2025-08-08 03:18:17 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Added tool: optimize_portfolio
2025-08-08 03:18:17 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Added tool: score_recommendations
2025-08-08 03:18:17 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Added 3 recommendation tools
2025-08-08 03:18:17 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Configured recommendation models: risk_adjusted, diversification, income_focused, growth_oriented
2025-08-08 03:18:17 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Recommendation agent enhanced features initialized
2025-08-08 03:18:17 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:18:17 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Created CrewAI agent: ComplianceAgent
2025-08-08 03:18:17 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Agent 'ComplianceAgent' initialized successfully
2025-08-08 03:18:17 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Added tool: check_suitability
2025-08-08 03:18:17 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Added tool: check_regulatory_compliance
2025-08-08 03:18:17 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Added tool: audit_compliance
2025-08-08 03:18:17 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Added 3 compliance tools
2025-08-08 03:18:17 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Configured compliance rules: suitability, know_your_customer, anti_money_laundering
2025-08-08 03:18:17 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Compliance agent enhanced features initialized
2025-08-08 03:18:17 - src.chatbot.discord_bot - [31mERROR[0m - ❌ Discord Bot initialization failed: Can't instantiate abstract class ReportWriterAgent without an implementation for abstract method '_create_agent'
2025-08-08 03:18:17 - root - [31mERROR[0m - Failed to setup Discord bot: Failed to initialize Discord bot: Can't instantiate abstract class ReportWriterAgent without an implementation for abstract method '_create_agent'
2025-08-08 03:18:17 - __main__ - [31mERROR[0m - ❌ Error starting Discord bot: Failed to setup Discord bot: Failed to initialize Discord bot: Can't instantiate abstract class ReportWriterAgent without an implementation for abstract method '_create_agent'
2025-08-08 03:18:17 - __main__ - [32mINFO[0m - 🧹 Cleaning up...
2025-08-08 03:18:17 - src.core.event_bus - [32mINFO[0m - Event bus stopped
2025-08-08 03:18:17 - __main__ - [32mINFO[0m - ✅ Event bus stopped
2025-08-08 03:18:17 - __main__ - [32mINFO[0m - 👋 Discord bot shutdown complete
2025-08-08 03:18:17 - __main__ - [31mERROR[0m - ❌ Fatal error: Failed to setup Discord bot: Failed to initialize Discord bot: Can't instantiate abstract class ReportWriterAgent without an implementation for abstract method '_create_agent'
2025-08-08 03:19:30 - __main__ - [32mINFO[0m - 📡 Initializing core components...
2025-08-08 03:19:30 - src.core.event_bus - [32mINFO[0m - Event bus started
2025-08-08 03:19:30 - __main__ - [32mINFO[0m - ✅ Event bus started
2025-08-08 03:19:30 - __main__ - [32mINFO[0m - ✅ Session manager initialized
2025-08-08 03:19:30 - __main__ - [32mINFO[0m - 🤖 Starting Discord bot...
2025-08-08 03:19:30 - discord.client - [33mWARNING[0m - PyNaCl is not installed, voice will NOT be supported
2025-08-08 03:19:30 - src.core.event_bus - [32mINFO[0m - Subscribed to event type: EventType.CHAT_RESPONSE
2025-08-08 03:19:30 - src.chatbot.discord_bot - [32mINFO[0m - 🚀 Initializing Discord Bot...
2025-08-08 03:19:30 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:19:30 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Created CrewAI agent: MarketDataAgent
2025-08-08 03:19:30 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent 'MarketDataAgent' initialized successfully
2025-08-08 03:19:30 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Added tool: get_market_data
2025-08-08 03:19:30 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Added tool: get_economic_indicators
2025-08-08 03:19:30 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Added tool: analyze_market_trends
2025-08-08 03:19:30 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Added 3 market data tools
2025-08-08 03:19:30 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 03:19:30 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Market data agent enhanced features initialized
2025-08-08 03:19:30 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:19:30 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Created CrewAI agent: RiskAnalysisAgent
2025-08-08 03:19:30 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Agent 'RiskAnalysisAgent' initialized successfully
2025-08-08 03:19:30 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Added tool: calculate_risk_metrics
2025-08-08 03:19:30 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Added tool: analyze_volatility
2025-08-08 03:19:30 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Added tool: analyze_portfolio_risk
2025-08-08 03:19:30 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Added 3 risk analysis tools
2025-08-08 03:19:30 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Configured risk models: var, cvar, sharpe_ratio, sortino_ratio
2025-08-08 03:19:30 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Risk analysis agent enhanced features initialized
2025-08-08 03:19:30 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:19:30 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Created CrewAI agent: RecommendationAgent
2025-08-08 03:19:30 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Agent 'RecommendationAgent' initialized successfully
2025-08-08 03:19:30 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Added tool: analyze_product
2025-08-08 03:19:30 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Added tool: optimize_portfolio
2025-08-08 03:19:30 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Added tool: score_recommendations
2025-08-08 03:19:30 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Added 3 recommendation tools
2025-08-08 03:19:30 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Configured recommendation models: risk_adjusted, diversification, income_focused, growth_oriented
2025-08-08 03:19:30 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Recommendation agent enhanced features initialized
2025-08-08 03:19:30 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:19:30 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Created CrewAI agent: ComplianceAgent
2025-08-08 03:19:30 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Agent 'ComplianceAgent' initialized successfully
2025-08-08 03:19:30 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Added tool: check_suitability
2025-08-08 03:19:30 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Added tool: check_regulatory_compliance
2025-08-08 03:19:30 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Added tool: audit_compliance
2025-08-08 03:19:30 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Added 3 compliance tools
2025-08-08 03:19:30 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Configured compliance rules: suitability, know_your_customer, anti_money_laundering
2025-08-08 03:19:30 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Compliance agent enhanced features initialized
2025-08-08 03:19:30 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:19:30 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] Created CrewAI agent: ReportWriterAgent
2025-08-08 03:19:30 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] Agent 'ReportWriterAgent' initialized successfully
2025-08-08 03:19:30 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] Added tool: generate_report
2025-08-08 03:19:30 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] Added tool: convert_format
2025-08-08 03:19:30 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] Added tool: validate_report
2025-08-08 03:19:30 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] Added 3 report writer tools
2025-08-08 03:19:30 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] Configured report templates: executive_summary, detailed_analysis, investment_recommendation
2025-08-08 03:19:30 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] Report writer agent enhanced features initialized
2025-08-08 03:19:30 - src.chatbot.discord_bot - [31mERROR[0m - ❌ Discord Bot initialization failed: Can't instantiate abstract class MemoryAgent without an implementation for abstract method '_create_agent'
2025-08-08 03:19:30 - root - [31mERROR[0m - Failed to setup Discord bot: Failed to initialize Discord bot: Can't instantiate abstract class MemoryAgent without an implementation for abstract method '_create_agent'
2025-08-08 03:19:30 - __main__ - [31mERROR[0m - ❌ Error starting Discord bot: Failed to setup Discord bot: Failed to initialize Discord bot: Can't instantiate abstract class MemoryAgent without an implementation for abstract method '_create_agent'
2025-08-08 03:19:30 - __main__ - [32mINFO[0m - 🧹 Cleaning up...
2025-08-08 03:19:30 - src.core.event_bus - [32mINFO[0m - Event bus stopped
2025-08-08 03:19:30 - __main__ - [32mINFO[0m - ✅ Event bus stopped
2025-08-08 03:19:30 - __main__ - [32mINFO[0m - 👋 Discord bot shutdown complete
2025-08-08 03:19:30 - __main__ - [31mERROR[0m - ❌ Fatal error: Failed to setup Discord bot: Failed to initialize Discord bot: Can't instantiate abstract class MemoryAgent without an implementation for abstract method '_create_agent'
2025-08-08 03:20:44 - __main__ - [32mINFO[0m - 📡 Initializing core components...
2025-08-08 03:20:44 - src.core.event_bus - [32mINFO[0m - Event bus started
2025-08-08 03:20:44 - __main__ - [32mINFO[0m - ✅ Event bus started
2025-08-08 03:20:44 - __main__ - [32mINFO[0m - ✅ Session manager initialized
2025-08-08 03:20:44 - __main__ - [32mINFO[0m - 🤖 Starting Discord bot...
2025-08-08 03:20:44 - discord.client - [33mWARNING[0m - PyNaCl is not installed, voice will NOT be supported
2025-08-08 03:20:44 - src.core.event_bus - [32mINFO[0m - Subscribed to event type: EventType.CHAT_RESPONSE
2025-08-08 03:20:44 - src.chatbot.discord_bot - [32mINFO[0m - 🚀 Initializing Discord Bot...
2025-08-08 03:20:44 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:20:44 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Created CrewAI agent: MarketDataAgent
2025-08-08 03:20:44 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent 'MarketDataAgent' initialized successfully
2025-08-08 03:20:44 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Added tool: get_market_data
2025-08-08 03:20:44 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Added tool: get_economic_indicators
2025-08-08 03:20:44 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Added tool: analyze_market_trends
2025-08-08 03:20:44 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Added 3 market data tools
2025-08-08 03:20:44 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 03:20:44 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Market data agent enhanced features initialized
2025-08-08 03:20:44 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:20:44 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Created CrewAI agent: RiskAnalysisAgent
2025-08-08 03:20:44 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Agent 'RiskAnalysisAgent' initialized successfully
2025-08-08 03:20:44 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Added tool: calculate_risk_metrics
2025-08-08 03:20:44 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Added tool: analyze_volatility
2025-08-08 03:20:44 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Added tool: analyze_portfolio_risk
2025-08-08 03:20:44 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Added 3 risk analysis tools
2025-08-08 03:20:44 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Configured risk models: var, cvar, sharpe_ratio, sortino_ratio
2025-08-08 03:20:44 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Risk analysis agent enhanced features initialized
2025-08-08 03:20:44 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:20:44 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Created CrewAI agent: RecommendationAgent
2025-08-08 03:20:44 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Agent 'RecommendationAgent' initialized successfully
2025-08-08 03:20:44 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Added tool: analyze_product
2025-08-08 03:20:44 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Added tool: optimize_portfolio
2025-08-08 03:20:44 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Added tool: score_recommendations
2025-08-08 03:20:44 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Added 3 recommendation tools
2025-08-08 03:20:44 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Configured recommendation models: risk_adjusted, diversification, income_focused, growth_oriented
2025-08-08 03:20:44 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Recommendation agent enhanced features initialized
2025-08-08 03:20:44 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:20:44 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Created CrewAI agent: ComplianceAgent
2025-08-08 03:20:44 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Agent 'ComplianceAgent' initialized successfully
2025-08-08 03:20:44 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Added tool: check_suitability
2025-08-08 03:20:44 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Added tool: check_regulatory_compliance
2025-08-08 03:20:44 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Added tool: audit_compliance
2025-08-08 03:20:44 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Added 3 compliance tools
2025-08-08 03:20:44 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Configured compliance rules: suitability, know_your_customer, anti_money_laundering
2025-08-08 03:20:44 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Compliance agent enhanced features initialized
2025-08-08 03:20:44 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:20:44 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] Created CrewAI agent: ReportWriterAgent
2025-08-08 03:20:44 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] Agent 'ReportWriterAgent' initialized successfully
2025-08-08 03:20:44 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] Added tool: generate_report
2025-08-08 03:20:44 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] Added tool: convert_format
2025-08-08 03:20:44 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] Added tool: validate_report
2025-08-08 03:20:44 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] Added 3 report writer tools
2025-08-08 03:20:44 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] Configured report templates: executive_summary, detailed_analysis, investment_recommendation
2025-08-08 03:20:44 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] Report writer agent enhanced features initialized
2025-08-08 03:20:44 - MemoryAgent - [32mINFO[0m - [MemoryAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:20:44 - MemoryAgent - [32mINFO[0m - [MemoryAgent] Created CrewAI agent: MemoryAgent
2025-08-08 03:20:44 - MemoryAgent - [32mINFO[0m - [MemoryAgent] Agent 'MemoryAgent' initialized successfully
2025-08-08 03:20:44 - MemoryAgent - [32mINFO[0m - [MemoryAgent] Added tool: store_memory
2025-08-08 03:20:44 - MemoryAgent - [32mINFO[0m - [MemoryAgent] Added tool: retrieve_memory
2025-08-08 03:20:44 - MemoryAgent - [32mINFO[0m - [MemoryAgent] Added tool: cleanup_memory
2025-08-08 03:20:44 - MemoryAgent - [32mINFO[0m - [MemoryAgent] Added 3 memory tools
2025-08-08 03:20:44 - MemoryAgent - [32mINFO[0m - [MemoryAgent] Configured memory types: conversation, user_preferences, investment_history, market_context
2025-08-08 03:20:44 - MemoryAgent - [32mINFO[0m - [MemoryAgent] Memory agent enhanced features initialized
2025-08-08 03:20:44 - src.chatbot.discord_bot - [31mERROR[0m - ❌ Discord Bot initialization failed: Can't instantiate abstract class SupervisorAgent without an implementation for abstract method '_create_agent'
2025-08-08 03:20:44 - root - [31mERROR[0m - Failed to setup Discord bot: Failed to initialize Discord bot: Can't instantiate abstract class SupervisorAgent without an implementation for abstract method '_create_agent'
2025-08-08 03:20:44 - __main__ - [31mERROR[0m - ❌ Error starting Discord bot: Failed to setup Discord bot: Failed to initialize Discord bot: Can't instantiate abstract class SupervisorAgent without an implementation for abstract method '_create_agent'
2025-08-08 03:20:44 - __main__ - [32mINFO[0m - 🧹 Cleaning up...
2025-08-08 03:20:44 - src.core.event_bus - [32mINFO[0m - Event bus stopped
2025-08-08 03:20:44 - __main__ - [32mINFO[0m - ✅ Event bus stopped
2025-08-08 03:20:44 - __main__ - [32mINFO[0m - 👋 Discord bot shutdown complete
2025-08-08 03:20:44 - __main__ - [31mERROR[0m - ❌ Fatal error: Failed to setup Discord bot: Failed to initialize Discord bot: Can't instantiate abstract class SupervisorAgent without an implementation for abstract method '_create_agent'
2025-08-08 03:22:09 - __main__ - [32mINFO[0m - 📡 Initializing core components...
2025-08-08 03:22:09 - src.core.event_bus - [32mINFO[0m - Event bus started
2025-08-08 03:22:09 - __main__ - [32mINFO[0m - ✅ Event bus started
2025-08-08 03:22:09 - __main__ - [32mINFO[0m - ✅ Session manager initialized
2025-08-08 03:22:09 - __main__ - [32mINFO[0m - 🤖 Starting Discord bot...
2025-08-08 03:22:09 - discord.client - [33mWARNING[0m - PyNaCl is not installed, voice will NOT be supported
2025-08-08 03:22:09 - src.core.event_bus - [32mINFO[0m - Subscribed to event type: EventType.CHAT_RESPONSE
2025-08-08 03:22:09 - src.chatbot.discord_bot - [32mINFO[0m - 🚀 Initializing Discord Bot...
2025-08-08 03:22:09 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:22:09 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Created CrewAI agent: MarketDataAgent
2025-08-08 03:22:09 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent 'MarketDataAgent' initialized successfully
2025-08-08 03:22:09 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Added tool: get_market_data
2025-08-08 03:22:09 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Added tool: get_economic_indicators
2025-08-08 03:22:09 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Added tool: analyze_market_trends
2025-08-08 03:22:09 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Added 3 market data tools
2025-08-08 03:22:09 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 03:22:09 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Market data agent enhanced features initialized
2025-08-08 03:22:09 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:22:09 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Created CrewAI agent: RiskAnalysisAgent
2025-08-08 03:22:09 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Agent 'RiskAnalysisAgent' initialized successfully
2025-08-08 03:22:09 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Added tool: calculate_risk_metrics
2025-08-08 03:22:09 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Added tool: analyze_volatility
2025-08-08 03:22:09 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Added tool: analyze_portfolio_risk
2025-08-08 03:22:09 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Added 3 risk analysis tools
2025-08-08 03:22:09 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Configured risk models: var, cvar, sharpe_ratio, sortino_ratio
2025-08-08 03:22:09 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Risk analysis agent enhanced features initialized
2025-08-08 03:22:09 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:22:09 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Created CrewAI agent: RecommendationAgent
2025-08-08 03:22:09 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Agent 'RecommendationAgent' initialized successfully
2025-08-08 03:22:09 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Added tool: analyze_product
2025-08-08 03:22:09 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Added tool: optimize_portfolio
2025-08-08 03:22:09 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Added tool: score_recommendations
2025-08-08 03:22:09 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Added 3 recommendation tools
2025-08-08 03:22:09 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Configured recommendation models: risk_adjusted, diversification, income_focused, growth_oriented
2025-08-08 03:22:09 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Recommendation agent enhanced features initialized
2025-08-08 03:22:09 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:22:09 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Created CrewAI agent: ComplianceAgent
2025-08-08 03:22:09 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Agent 'ComplianceAgent' initialized successfully
2025-08-08 03:22:09 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Added tool: check_suitability
2025-08-08 03:22:09 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Added tool: check_regulatory_compliance
2025-08-08 03:22:09 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Added tool: audit_compliance
2025-08-08 03:22:09 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Added 3 compliance tools
2025-08-08 03:22:09 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Configured compliance rules: suitability, know_your_customer, anti_money_laundering
2025-08-08 03:22:09 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Compliance agent enhanced features initialized
2025-08-08 03:22:09 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:22:09 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] Created CrewAI agent: ReportWriterAgent
2025-08-08 03:22:09 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] Agent 'ReportWriterAgent' initialized successfully
2025-08-08 03:22:09 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] Added tool: generate_report
2025-08-08 03:22:09 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] Added tool: convert_format
2025-08-08 03:22:09 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] Added tool: validate_report
2025-08-08 03:22:09 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] Added 3 report writer tools
2025-08-08 03:22:09 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] Configured report templates: executive_summary, detailed_analysis, investment_recommendation
2025-08-08 03:22:09 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] Report writer agent enhanced features initialized
2025-08-08 03:22:09 - MemoryAgent - [32mINFO[0m - [MemoryAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:22:09 - MemoryAgent - [32mINFO[0m - [MemoryAgent] Created CrewAI agent: MemoryAgent
2025-08-08 03:22:09 - MemoryAgent - [32mINFO[0m - [MemoryAgent] Agent 'MemoryAgent' initialized successfully
2025-08-08 03:22:09 - MemoryAgent - [32mINFO[0m - [MemoryAgent] Added tool: store_memory
2025-08-08 03:22:09 - MemoryAgent - [32mINFO[0m - [MemoryAgent] Added tool: retrieve_memory
2025-08-08 03:22:09 - MemoryAgent - [32mINFO[0m - [MemoryAgent] Added tool: cleanup_memory
2025-08-08 03:22:09 - MemoryAgent - [32mINFO[0m - [MemoryAgent] Added 3 memory tools
2025-08-08 03:22:09 - MemoryAgent - [32mINFO[0m - [MemoryAgent] Configured memory types: conversation, user_preferences, investment_history, market_context
2025-08-08 03:22:09 - MemoryAgent - [32mINFO[0m - [MemoryAgent] Memory agent enhanced features initialized
2025-08-08 03:22:09 - SupervisorAgent - [32mINFO[0m - [SupervisorAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:22:09 - SupervisorAgent - [32mINFO[0m - [SupervisorAgent] Created CrewAI agent: SupervisorAgent
2025-08-08 03:22:09 - SupervisorAgent - [32mINFO[0m - [SupervisorAgent] Agent 'SupervisorAgent' initialized successfully
2025-08-08 03:22:09 - SupervisorAgent - [32mINFO[0m - [SupervisorAgent] Added tool: review_quality
2025-08-08 03:22:09 - SupervisorAgent - [32mINFO[0m - [SupervisorAgent] Added tool: check_compliance
2025-08-08 03:22:09 - SupervisorAgent - [32mINFO[0m - [SupervisorAgent] Added tool: final_approval
2025-08-08 03:22:09 - SupervisorAgent - [32mINFO[0m - [SupervisorAgent] Added 3 supervisor tools
2025-08-08 03:22:09 - SupervisorAgent - [32mINFO[0m - [SupervisorAgent] Configured review criteria: completeness, accuracy, compliance, clarity, relevance
2025-08-08 03:22:09 - SupervisorAgent - [32mINFO[0m - [SupervisorAgent] Supervisor agent enhanced features initialized
2025-08-08 03:22:09 - FinancialCrewOrchestrator - [32mINFO[0m - Created all enhanced specialized agents for financial analysis
2025-08-08 03:22:09 - FinancialCrewOrchestrator - [32mINFO[0m - Created CrewAI crew with all agents
2025-08-08 03:22:09 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Discord Bot initialization completed
2025-08-08 03:22:09 - discord.client - [32mINFO[0m - logging in using static token
2025-08-08 03:22:11 - discord.gateway - [32mINFO[0m - Shard ID None has connected to Gateway (Session ID: 408e76a909a2a0df4405805c8270e18e).
2025-08-08 03:22:13 - src.chatbot.discord_bot - [32mINFO[0m - 🤖 Discord Bot Ready!
2025-08-08 03:22:13 - src.chatbot.discord_bot - [32mINFO[0m -    Bot Name: yuanta_crewai
2025-08-08 03:22:13 - src.chatbot.discord_bot - [32mINFO[0m -    Bot ID: 1401884441864962078
2025-08-08 03:22:13 - src.chatbot.discord_bot - [32mINFO[0m -    Servers: 1
2025-08-08 03:22:13 - src.chatbot.discord_bot - [32mINFO[0m -    Users: 1
2025-08-08 03:22:13 - src.chatbot.discord_bot - [32mINFO[0m - 📋 Available Commands:
2025-08-08 03:22:13 - src.chatbot.discord_bot - [32mINFO[0m -    • !financial_help - Show detailed help
2025-08-08 03:22:13 - src.chatbot.discord_bot - [32mINFO[0m -    • !status - Show bot status
2025-08-08 03:22:13 - src.chatbot.discord_bot - [32mINFO[0m -    • !ping - Test bot responsiveness
2025-08-08 03:22:13 - src.chatbot.discord_bot - [32mINFO[0m -    • Send any message for financial advice
2025-08-08 03:22:17 - src.chatbot.discord_bot - [32mINFO[0m - 🤔 Processing message from fortsetzen: i want to invest in high risk fund for my retireme...
2025-08-08 03:22:17 - src.utils.session_manager - [32mINFO[0m - Created session discord_682790548561723396_b0bfe531 for user 682790548561723396 on discord
2025-08-08 03:22:17 - src.chatbot.discord_bot - [32mINFO[0m - Created new session: discord_682790548561723396_b0bfe531
2025-08-08 03:22:17 - src.chatbot.discord_bot - [32mINFO[0m - Processing query with CrewAI: i want to invest in high risk fund for my retireme...
2025-08-08 03:22:17 - src.llm.crewai_manager - [32mINFO[0m - Starting full CrewAI multi-agent orchestration for evaluation...
2025-08-08 03:22:17 - src.llm.crewai_manager - [32mINFO[0m - 🤖 Processing with CrewAI multi-agent system...
2025-08-08 03:22:17 - FinancialCrewOrchestrator - [32mINFO[0m - Processing financial query: i want to invest in high risk fund for my retirement with around $200000 in the next 10 years. any yuanta's product recommendation?
2025-08-08 03:22:17 - FinancialCrewOrchestrator - [32mINFO[0m - Using conversation history with 1 messages
2025-08-08 03:22:17 - FinancialCrewOrchestrator - [32mINFO[0m - Created 4 tasks for CrewAI execution
2025-08-08 03:22:17 - FinancialCrewOrchestrator - [32mINFO[0m - Updated crew with tasks
2025-08-08 03:22:17 - FinancialCrewOrchestrator - [32mINFO[0m - Starting CrewAI crew execution (attempt 1/1)...
2025-08-08 03:22:17 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 03:22:30 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-08 03:22:30 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-08 03:22:30 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:22:30 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:22:30 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:22:30 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 03:22:51 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-08 03:22:51 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-08 03:22:51 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:22:51 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:22:51 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:22:51 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 03:23:02 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 10 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 120, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 159, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 227, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 236, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-08 03:23:07 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-08 03:23:07 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-08 03:23:07 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:23:07 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:23:07 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:23:07 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 03:23:12 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 20 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 120, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 159, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 227, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 236, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-08 03:23:22 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 30 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 120, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 159, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 227, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 236, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-08 03:23:25 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-08 03:23:25 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-08 03:23:25 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:23:25 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:23:25 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:23:25 - FinancialCrewOrchestrator - [32mINFO[0m - CrewAI execution completed successfully
2025-08-08 03:23:25 - FinancialCrewOrchestrator - [32mINFO[0m - Successfully processed financial query with CrewAI
2025-08-08 03:23:25 - src.llm.crewai_manager - [32mINFO[0m - ✅ CrewAI multi-agent processing completed successfully
2025-08-08 03:23:25 - src.llm.crewai_manager - [32mINFO[0m - ✅ Successfully created CrewAI multi-agent response
2025-08-08 03:23:25 - src.chatbot.discord_bot - [32mINFO[0m - Response is 4047 characters, splitting into multiple messages
2025-08-08 03:23:25 - src.chatbot.discord_bot - [32mINFO[0m - Split response into 3 chunks
2025-08-08 03:23:25 - src.chatbot.discord_bot - [33mWARNING[0m - 🔌 Discord Bot Disconnected
2025-08-08 03:23:26 - discord.gateway - [32mINFO[0m - Shard ID None has successfully RESUMED session 408e76a909a2a0df4405805c8270e18e.
2025-08-08 03:23:26 - src.chatbot.discord_bot - [32mINFO[0m - 🔄 Discord Bot Connection Resumed
2025-08-08 03:23:27 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Successfully sent 3 message chunks to Discord
2025-08-08 03:25:29 - src.chatbot.discord_bot - [32mINFO[0m - 🤔 Processing message from fortsetzen: is my budget enough for low risk products?...
2025-08-08 03:25:29 - src.chatbot.discord_bot - [32mINFO[0m - Using existing session: discord_682790548561723396_b0bfe531
2025-08-08 03:25:29 - src.chatbot.discord_bot - [32mINFO[0m - Processing query with CrewAI: is my budget enough for low risk products?...
2025-08-08 03:25:29 - src.llm.crewai_manager - [32mINFO[0m - Starting full CrewAI multi-agent orchestration for evaluation...
2025-08-08 03:25:29 - src.llm.crewai_manager - [32mINFO[0m - 🤖 Processing with CrewAI multi-agent system...
2025-08-08 03:25:29 - FinancialCrewOrchestrator - [32mINFO[0m - Processing financial query: is my budget enough for low risk products?
2025-08-08 03:25:29 - FinancialCrewOrchestrator - [32mINFO[0m - Using conversation history with 3 messages
2025-08-08 03:25:29 - FinancialCrewOrchestrator - [32mINFO[0m - Created 4 tasks for CrewAI execution
2025-08-08 03:25:30 - FinancialCrewOrchestrator - [32mINFO[0m - Updated crew with tasks
2025-08-08 03:25:30 - FinancialCrewOrchestrator - [32mINFO[0m - Starting CrewAI crew execution (attempt 1/1)...
2025-08-08 03:25:31 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 03:25:40 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 10 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 120, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 159, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 227, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 236, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 78, in handle_request
    stream = self._connect(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 124, in _connect
    stream = self._network_backend.connect_tcp(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 208, in connect_tcp
    sock = socket.create_connection(
  File "C:\Python312\Lib\socket.py", line 850, in create_connection
    sock.connect(sa)

2025-08-08 03:25:50 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 20 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 120, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 159, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 227, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 236, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-08 03:25:59 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-08 03:25:59 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-08 03:25:59 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:25:59 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:25:59 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:25:59 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 03:26:00 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 30 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 120, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 159, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 227, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 236, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-08 03:26:10 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 40 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 120, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 159, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 227, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 236, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-08 03:26:17 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-08 03:26:17 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-08 03:26:17 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:26:17 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:26:17 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:26:17 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 03:26:20 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 50 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 120, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 159, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 227, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 236, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-08 03:26:30 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 60 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 120, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 159, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 227, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 236, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-08 03:26:33 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-08 03:26:33 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-08 03:26:33 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:26:33 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:26:33 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:26:33 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 03:26:40 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 70 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 120, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 159, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 227, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 236, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 435, in completion
    client = HTTPHandler(timeout=timeout)  # type: ignore
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 607, in __init__
    self.client = httpx.Client(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 688, in __init__
    self._transport = self._init_transport(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 731, in _init_transport
    return HTTPTransport(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 153, in __init__
    ssl_context = create_ssl_context(verify=verify, cert=cert, trust_env=trust_env)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_config.py", line 40, in create_ssl_context
    ctx = ssl.create_default_context(cafile=certifi.where())
  File "C:\Python312\Lib\ssl.py", line 708, in create_default_context
    context.load_verify_locations(cafile, capath, cadata)

2025-08-08 03:26:51 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 80 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 120, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 159, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 227, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 236, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-08 03:27:00 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-08 03:27:00 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-08 03:27:00 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:27:00 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:27:00 - FinancialCrewOrchestrator - [32mINFO[0m - CrewAI execution completed successfully
2025-08-08 03:27:00 - FinancialCrewOrchestrator - [32mINFO[0m - Successfully processed financial query with CrewAI
2025-08-08 03:27:00 - src.llm.crewai_manager - [32mINFO[0m - ✅ CrewAI multi-agent processing completed successfully
2025-08-08 03:27:00 - src.llm.crewai_manager - [32mINFO[0m - ✅ Successfully created CrewAI multi-agent response
2025-08-08 03:27:00 - src.chatbot.discord_bot - [32mINFO[0m - Response is 3871 characters, splitting into multiple messages
2025-08-08 03:27:00 - src.chatbot.discord_bot - [32mINFO[0m - Split response into 3 chunks
2025-08-08 03:27:00 - src.chatbot.discord_bot - [33mWARNING[0m - 🔌 Discord Bot Disconnected
2025-08-08 03:27:00 - discord.gateway - [32mINFO[0m - Shard ID None session has been invalidated.
2025-08-08 03:27:01 - src.chatbot.discord_bot - [33mWARNING[0m - 🔌 Discord Bot Disconnected
2025-08-08 03:27:01 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Successfully sent 3 message chunks to Discord
2025-08-08 03:27:07 - discord.gateway - [32mINFO[0m - Shard ID None has connected to Gateway (Session ID: 3796f7187cf213bb6730c0b9bb61689c).
2025-08-08 03:27:09 - src.chatbot.discord_bot - [32mINFO[0m - 🤖 Discord Bot Ready!
2025-08-08 03:27:09 - src.chatbot.discord_bot - [32mINFO[0m -    Bot Name: yuanta_crewai
2025-08-08 03:27:09 - src.chatbot.discord_bot - [32mINFO[0m -    Bot ID: 1401884441864962078
2025-08-08 03:27:09 - src.chatbot.discord_bot - [32mINFO[0m -    Servers: 1
2025-08-08 03:27:09 - src.chatbot.discord_bot - [32mINFO[0m -    Users: 1
2025-08-08 03:27:09 - src.chatbot.discord_bot - [32mINFO[0m - 📋 Available Commands:
2025-08-08 03:27:09 - src.chatbot.discord_bot - [32mINFO[0m -    • !financial_help - Show detailed help
2025-08-08 03:27:09 - src.chatbot.discord_bot - [32mINFO[0m -    • !status - Show bot status
2025-08-08 03:27:09 - src.chatbot.discord_bot - [32mINFO[0m -    • !ping - Test bot responsiveness
2025-08-08 03:27:09 - src.chatbot.discord_bot - [32mINFO[0m -    • Send any message for financial advice
2025-08-08 03:27:52 - __main__ - [32mINFO[0m - 🧹 Cleaning up...
2025-08-08 03:27:52 - src.core.event_bus - [32mINFO[0m - Event bus stopped
2025-08-08 03:27:52 - __main__ - [32mINFO[0m - ✅ Event bus stopped
2025-08-08 03:27:52 - __main__ - [32mINFO[0m - 👋 Discord bot shutdown complete
2025-08-08 03:27:52 - __main__ - [32mINFO[0m - 👋 Discord bot stopped by user
2025-08-08 03:35:51 - __main__ - [32mINFO[0m - 📡 Initializing core components...
2025-08-08 03:35:51 - src.core.event_bus - [32mINFO[0m - Event bus started
2025-08-08 03:35:51 - __main__ - [32mINFO[0m - ✅ Event bus started
2025-08-08 03:35:51 - __main__ - [32mINFO[0m - ✅ Session manager initialized
2025-08-08 03:35:51 - __main__ - [32mINFO[0m - 🤖 Starting Discord bot...
2025-08-08 03:35:51 - discord.client - [33mWARNING[0m - PyNaCl is not installed, voice will NOT be supported
2025-08-08 03:35:51 - src.core.event_bus - [32mINFO[0m - Subscribed to event type: EventType.CHAT_RESPONSE
2025-08-08 03:35:51 - src.chatbot.discord_bot - [32mINFO[0m - 🚀 Initializing Discord Bot...
2025-08-08 03:35:51 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:35:51 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Created CrewAI agent: MarketDataAgent
2025-08-08 03:35:51 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent 'MarketDataAgent' initialized successfully
2025-08-08 03:35:51 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Added tool: get_market_data
2025-08-08 03:35:51 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Added tool: get_economic_indicators
2025-08-08 03:35:51 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Added tool: analyze_market_trends
2025-08-08 03:35:51 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Added 3 market data tools
2025-08-08 03:35:51 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 03:35:51 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Market data agent enhanced features initialized
2025-08-08 03:35:51 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:35:51 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Created CrewAI agent: RiskAnalysisAgent
2025-08-08 03:35:51 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Agent 'RiskAnalysisAgent' initialized successfully
2025-08-08 03:35:51 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Added tool: calculate_risk_metrics
2025-08-08 03:35:51 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Added tool: analyze_volatility
2025-08-08 03:35:51 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Added tool: analyze_portfolio_risk
2025-08-08 03:35:51 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Added 3 risk analysis tools
2025-08-08 03:35:51 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Configured risk models: var, cvar, sharpe_ratio, sortino_ratio
2025-08-08 03:35:51 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Risk analysis agent enhanced features initialized
2025-08-08 03:35:51 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:35:51 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Created CrewAI agent: RecommendationAgent
2025-08-08 03:35:51 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Agent 'RecommendationAgent' initialized successfully
2025-08-08 03:35:51 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Added tool: analyze_product
2025-08-08 03:35:51 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Added tool: optimize_portfolio
2025-08-08 03:35:51 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Added tool: score_recommendations
2025-08-08 03:35:51 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Added 3 recommendation tools
2025-08-08 03:35:51 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Configured recommendation models: risk_adjusted, diversification, income_focused, growth_oriented
2025-08-08 03:35:51 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Recommendation agent enhanced features initialized
2025-08-08 03:35:51 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:35:51 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Created CrewAI agent: ComplianceAgent
2025-08-08 03:35:51 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Agent 'ComplianceAgent' initialized successfully
2025-08-08 03:35:51 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Added tool: check_suitability
2025-08-08 03:35:51 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Added tool: check_regulatory_compliance
2025-08-08 03:35:51 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Added tool: audit_compliance
2025-08-08 03:35:51 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Added 3 compliance tools
2025-08-08 03:35:51 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Configured compliance rules: suitability, know_your_customer, anti_money_laundering
2025-08-08 03:35:51 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Compliance agent enhanced features initialized
2025-08-08 03:35:51 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:35:51 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] Created CrewAI agent: ReportWriterAgent
2025-08-08 03:35:51 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] Agent 'ReportWriterAgent' initialized successfully
2025-08-08 03:35:51 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] Added tool: generate_report
2025-08-08 03:35:51 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] Added tool: convert_format
2025-08-08 03:35:51 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] Added tool: validate_report
2025-08-08 03:35:51 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] Added 3 report writer tools
2025-08-08 03:35:51 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] Configured report templates: executive_summary, detailed_analysis, investment_recommendation
2025-08-08 03:35:51 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] Report writer agent enhanced features initialized
2025-08-08 03:35:51 - MemoryAgent - [32mINFO[0m - [MemoryAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:35:51 - MemoryAgent - [32mINFO[0m - [MemoryAgent] Created CrewAI agent: MemoryAgent
2025-08-08 03:35:51 - MemoryAgent - [32mINFO[0m - [MemoryAgent] Agent 'MemoryAgent' initialized successfully
2025-08-08 03:35:51 - MemoryAgent - [32mINFO[0m - [MemoryAgent] Added tool: store_memory
2025-08-08 03:35:51 - MemoryAgent - [32mINFO[0m - [MemoryAgent] Added tool: retrieve_memory
2025-08-08 03:35:51 - MemoryAgent - [32mINFO[0m - [MemoryAgent] Added tool: cleanup_memory
2025-08-08 03:35:51 - MemoryAgent - [32mINFO[0m - [MemoryAgent] Added 3 memory tools
2025-08-08 03:35:51 - MemoryAgent - [32mINFO[0m - [MemoryAgent] Configured memory types: conversation, user_preferences, investment_history, market_context
2025-08-08 03:35:51 - MemoryAgent - [32mINFO[0m - [MemoryAgent] Memory agent enhanced features initialized
2025-08-08 03:35:51 - SupervisorAgent - [32mINFO[0m - [SupervisorAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:35:51 - SupervisorAgent - [32mINFO[0m - [SupervisorAgent] Created CrewAI agent: SupervisorAgent
2025-08-08 03:35:51 - SupervisorAgent - [32mINFO[0m - [SupervisorAgent] Agent 'SupervisorAgent' initialized successfully
2025-08-08 03:35:51 - SupervisorAgent - [32mINFO[0m - [SupervisorAgent] Added tool: review_quality
2025-08-08 03:35:51 - SupervisorAgent - [32mINFO[0m - [SupervisorAgent] Added tool: check_compliance
2025-08-08 03:35:51 - SupervisorAgent - [32mINFO[0m - [SupervisorAgent] Added tool: final_approval
2025-08-08 03:35:51 - SupervisorAgent - [32mINFO[0m - [SupervisorAgent] Added 3 supervisor tools
2025-08-08 03:35:51 - SupervisorAgent - [32mINFO[0m - [SupervisorAgent] Configured review criteria: completeness, accuracy, compliance, clarity, relevance
2025-08-08 03:35:51 - SupervisorAgent - [32mINFO[0m - [SupervisorAgent] Supervisor agent enhanced features initialized
2025-08-08 03:35:51 - FinancialCrewOrchestrator - [32mINFO[0m - Created all enhanced specialized agents for financial analysis
2025-08-08 03:35:51 - FinancialCrewOrchestrator - [32mINFO[0m - Created CrewAI crew with all agents
2025-08-08 03:35:51 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Discord Bot initialization completed
2025-08-08 03:35:51 - discord.client - [32mINFO[0m - logging in using static token
2025-08-08 03:35:53 - discord.gateway - [32mINFO[0m - Shard ID None has connected to Gateway (Session ID: 8e2206546cb0364eaf6d9cf4f5ea2704).
2025-08-08 03:35:55 - src.chatbot.discord_bot - [32mINFO[0m - 🤖 Discord Bot Ready!
2025-08-08 03:35:55 - src.chatbot.discord_bot - [32mINFO[0m -    Bot Name: yuanta_crewai
2025-08-08 03:35:55 - src.chatbot.discord_bot - [32mINFO[0m -    Bot ID: 1401884441864962078
2025-08-08 03:35:55 - src.chatbot.discord_bot - [32mINFO[0m -    Servers: 1
2025-08-08 03:35:55 - src.chatbot.discord_bot - [32mINFO[0m -    Users: 1
2025-08-08 03:35:55 - src.chatbot.discord_bot - [32mINFO[0m - 📋 Available Commands:
2025-08-08 03:35:55 - src.chatbot.discord_bot - [32mINFO[0m -    • !financial_help - Show detailed help
2025-08-08 03:35:55 - src.chatbot.discord_bot - [32mINFO[0m -    • !status - Show bot status
2025-08-08 03:35:55 - src.chatbot.discord_bot - [32mINFO[0m -    • !ping - Test bot responsiveness
2025-08-08 03:35:55 - src.chatbot.discord_bot - [32mINFO[0m -    • Send any message for financial advice
2025-08-08 03:38:35 - __main__ - [32mINFO[0m - 📡 Initializing core components...
2025-08-08 03:38:35 - src.core.event_bus - [32mINFO[0m - Event bus started
2025-08-08 03:38:35 - __main__ - [32mINFO[0m - ✅ Event bus started
2025-08-08 03:38:35 - __main__ - [32mINFO[0m - ✅ Session manager initialized
2025-08-08 03:38:35 - __main__ - [32mINFO[0m - 🤖 Starting Discord bot...
2025-08-08 03:38:35 - discord.client - [33mWARNING[0m - PyNaCl is not installed, voice will NOT be supported
2025-08-08 03:38:35 - src.core.event_bus - [32mINFO[0m - Subscribed to event type: EventType.CHAT_RESPONSE
2025-08-08 03:38:35 - src.chatbot.discord_bot - [32mINFO[0m - 🚀 Initializing Discord Bot...
2025-08-08 03:38:35 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:38:36 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Created CrewAI agent: MarketDataAgent
2025-08-08 03:38:36 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent 'MarketDataAgent' initialized successfully
2025-08-08 03:38:36 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Added tool: get_market_data
2025-08-08 03:38:36 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Added tool: get_economic_indicators
2025-08-08 03:38:36 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Added tool: analyze_market_trends
2025-08-08 03:38:36 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Added 3 market data tools
2025-08-08 03:38:36 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 03:38:36 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Market data agent enhanced features initialized
2025-08-08 03:38:36 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:38:36 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Created CrewAI agent: RiskAnalysisAgent
2025-08-08 03:38:36 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Agent 'RiskAnalysisAgent' initialized successfully
2025-08-08 03:38:36 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Added tool: calculate_risk_metrics
2025-08-08 03:38:36 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Added tool: analyze_volatility
2025-08-08 03:38:36 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Added tool: analyze_portfolio_risk
2025-08-08 03:38:36 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Added 3 risk analysis tools
2025-08-08 03:38:36 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Configured risk models: var, cvar, sharpe_ratio, sortino_ratio
2025-08-08 03:38:36 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Risk analysis agent enhanced features initialized
2025-08-08 03:38:36 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:38:36 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Created CrewAI agent: RecommendationAgent
2025-08-08 03:38:36 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Agent 'RecommendationAgent' initialized successfully
2025-08-08 03:38:36 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Added tool: analyze_product
2025-08-08 03:38:36 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Added tool: optimize_portfolio
2025-08-08 03:38:36 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Added tool: score_recommendations
2025-08-08 03:38:36 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Added 3 recommendation tools
2025-08-08 03:38:36 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Configured recommendation models: risk_adjusted, diversification, income_focused, growth_oriented
2025-08-08 03:38:36 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Recommendation agent enhanced features initialized
2025-08-08 03:38:36 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:38:36 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Created CrewAI agent: ComplianceAgent
2025-08-08 03:38:36 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Agent 'ComplianceAgent' initialized successfully
2025-08-08 03:38:36 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Added tool: check_suitability
2025-08-08 03:38:36 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Added tool: check_regulatory_compliance
2025-08-08 03:38:36 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Added tool: audit_compliance
2025-08-08 03:38:36 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Added 3 compliance tools
2025-08-08 03:38:36 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Configured compliance rules: suitability, know_your_customer, anti_money_laundering
2025-08-08 03:38:36 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Compliance agent enhanced features initialized
2025-08-08 03:38:36 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:38:36 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] Created CrewAI agent: ReportWriterAgent
2025-08-08 03:38:36 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] Agent 'ReportWriterAgent' initialized successfully
2025-08-08 03:38:36 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] Added tool: generate_report
2025-08-08 03:38:36 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] Added tool: convert_format
2025-08-08 03:38:36 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] Added tool: validate_report
2025-08-08 03:38:36 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] Added 3 report writer tools
2025-08-08 03:38:36 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] Configured report templates: executive_summary, detailed_analysis, investment_recommendation
2025-08-08 03:38:36 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] Report writer agent enhanced features initialized
2025-08-08 03:38:36 - MemoryAgent - [32mINFO[0m - [MemoryAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:38:36 - MemoryAgent - [32mINFO[0m - [MemoryAgent] Created CrewAI agent: MemoryAgent
2025-08-08 03:38:36 - MemoryAgent - [32mINFO[0m - [MemoryAgent] Agent 'MemoryAgent' initialized successfully
2025-08-08 03:38:36 - MemoryAgent - [32mINFO[0m - [MemoryAgent] Added tool: store_memory
2025-08-08 03:38:36 - MemoryAgent - [32mINFO[0m - [MemoryAgent] Added tool: retrieve_memory
2025-08-08 03:38:36 - MemoryAgent - [32mINFO[0m - [MemoryAgent] Added tool: cleanup_memory
2025-08-08 03:38:36 - MemoryAgent - [32mINFO[0m - [MemoryAgent] Added 3 memory tools
2025-08-08 03:38:36 - MemoryAgent - [32mINFO[0m - [MemoryAgent] Configured memory types: conversation, user_preferences, investment_history, market_context
2025-08-08 03:38:36 - MemoryAgent - [32mINFO[0m - [MemoryAgent] Memory agent enhanced features initialized
2025-08-08 03:38:36 - SupervisorAgent - [32mINFO[0m - [SupervisorAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:38:36 - SupervisorAgent - [32mINFO[0m - [SupervisorAgent] Created CrewAI agent: SupervisorAgent
2025-08-08 03:38:36 - SupervisorAgent - [32mINFO[0m - [SupervisorAgent] Agent 'SupervisorAgent' initialized successfully
2025-08-08 03:38:36 - SupervisorAgent - [32mINFO[0m - [SupervisorAgent] Added tool: review_quality
2025-08-08 03:38:36 - SupervisorAgent - [32mINFO[0m - [SupervisorAgent] Added tool: check_compliance
2025-08-08 03:38:36 - SupervisorAgent - [32mINFO[0m - [SupervisorAgent] Added tool: final_approval
2025-08-08 03:38:36 - SupervisorAgent - [32mINFO[0m - [SupervisorAgent] Added 3 supervisor tools
2025-08-08 03:38:36 - SupervisorAgent - [32mINFO[0m - [SupervisorAgent] Configured review criteria: completeness, accuracy, compliance, clarity, relevance
2025-08-08 03:38:36 - SupervisorAgent - [32mINFO[0m - [SupervisorAgent] Supervisor agent enhanced features initialized
2025-08-08 03:38:36 - FinancialCrewOrchestrator - [32mINFO[0m - Created all enhanced specialized agents for financial analysis
2025-08-08 03:38:36 - FinancialCrewOrchestrator - [32mINFO[0m - Created CrewAI crew with all agents
2025-08-08 03:38:36 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Discord Bot initialization completed
2025-08-08 03:38:36 - discord.client - [32mINFO[0m - logging in using static token
2025-08-08 03:38:37 - discord.gateway - [32mINFO[0m - Shard ID None has connected to Gateway (Session ID: c18f3413d360c8ef48698ab87ccb1626).
2025-08-08 03:38:39 - src.chatbot.discord_bot - [32mINFO[0m - 🤖 Discord Bot Ready!
2025-08-08 03:38:39 - src.chatbot.discord_bot - [32mINFO[0m -    Bot Name: yuanta_crewai
2025-08-08 03:38:39 - src.chatbot.discord_bot - [32mINFO[0m -    Bot ID: 1401884441864962078
2025-08-08 03:38:39 - src.chatbot.discord_bot - [32mINFO[0m -    Servers: 1
2025-08-08 03:38:39 - src.chatbot.discord_bot - [32mINFO[0m -    Users: 1
2025-08-08 03:38:39 - src.chatbot.discord_bot - [32mINFO[0m - 📋 Available Commands:
2025-08-08 03:38:39 - src.chatbot.discord_bot - [32mINFO[0m -    • !financial_help - Show detailed help
2025-08-08 03:38:39 - src.chatbot.discord_bot - [32mINFO[0m -    • !status - Show bot status
2025-08-08 03:38:39 - src.chatbot.discord_bot - [32mINFO[0m -    • !ping - Test bot responsiveness
2025-08-08 03:38:39 - src.chatbot.discord_bot - [32mINFO[0m -    • Send any message for financial advice
2025-08-08 03:39:12 - MarketDataAgent - [31mERROR[0m - [MarketDataAgent] Failed to create LLM: ANTHROPIC_API_KEY not found in environment variables
2025-08-08 03:39:12 - MarketDataAgent - [31mERROR[0m - [MarketDataAgent] Failed to initialize agent 'MarketDataAgent': LLM creation failed: ANTHROPIC_API_KEY not found in environment variables
2025-08-08 03:41:01 - __main__ - [32mINFO[0m - 📡 Initializing core components...
2025-08-08 03:41:02 - src.core.event_bus - [32mINFO[0m - Event bus started
2025-08-08 03:41:02 - __main__ - [32mINFO[0m - ✅ Event bus started
2025-08-08 03:41:02 - __main__ - [32mINFO[0m - ✅ Session manager initialized
2025-08-08 03:41:02 - __main__ - [32mINFO[0m - 🤖 Starting Discord bot...
2025-08-08 03:41:02 - discord.client - [33mWARNING[0m - PyNaCl is not installed, voice will NOT be supported
2025-08-08 03:41:02 - src.core.event_bus - [32mINFO[0m - Subscribed to event type: EventType.CHAT_RESPONSE
2025-08-08 03:41:02 - src.chatbot.discord_bot - [32mINFO[0m - 🚀 Initializing Discord Bot...
2025-08-08 03:41:02 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:41:02 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Created CrewAI agent: MarketDataAgent
2025-08-08 03:41:02 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent 'MarketDataAgent' initialized successfully
2025-08-08 03:41:02 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Added tool: get_market_data
2025-08-08 03:41:02 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Added tool: get_economic_indicators
2025-08-08 03:41:02 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Added tool: analyze_market_trends
2025-08-08 03:41:02 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Added 3 market data tools
2025-08-08 03:41:02 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Configured data sources: yahoo_finance, alpha_vantage, market_watch
2025-08-08 03:41:02 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Market data agent enhanced features initialized
2025-08-08 03:41:02 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:41:02 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Created CrewAI agent: RiskAnalysisAgent
2025-08-08 03:41:02 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Agent 'RiskAnalysisAgent' initialized successfully
2025-08-08 03:41:02 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Added tool: calculate_risk_metrics
2025-08-08 03:41:02 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Added tool: analyze_volatility
2025-08-08 03:41:02 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Added tool: analyze_portfolio_risk
2025-08-08 03:41:02 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Added 3 risk analysis tools
2025-08-08 03:41:02 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Configured risk models: var, cvar, sharpe_ratio, sortino_ratio
2025-08-08 03:41:02 - RiskAnalysisAgent - [32mINFO[0m - [RiskAnalysisAgent] Risk analysis agent enhanced features initialized
2025-08-08 03:41:02 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:41:02 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Created CrewAI agent: RecommendationAgent
2025-08-08 03:41:02 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Agent 'RecommendationAgent' initialized successfully
2025-08-08 03:41:02 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Added tool: analyze_product
2025-08-08 03:41:02 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Added tool: optimize_portfolio
2025-08-08 03:41:02 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Added tool: score_recommendations
2025-08-08 03:41:02 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Added 3 recommendation tools
2025-08-08 03:41:02 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Configured recommendation models: risk_adjusted, diversification, income_focused, growth_oriented
2025-08-08 03:41:02 - RecommendationAgent - [32mINFO[0m - [RecommendationAgent] Recommendation agent enhanced features initialized
2025-08-08 03:41:02 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:41:02 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Created CrewAI agent: ComplianceAgent
2025-08-08 03:41:02 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Agent 'ComplianceAgent' initialized successfully
2025-08-08 03:41:02 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Added tool: check_suitability
2025-08-08 03:41:02 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Added tool: check_regulatory_compliance
2025-08-08 03:41:02 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Added tool: audit_compliance
2025-08-08 03:41:02 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Added 3 compliance tools
2025-08-08 03:41:02 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Configured compliance rules: suitability, know_your_customer, anti_money_laundering
2025-08-08 03:41:02 - ComplianceAgent - [32mINFO[0m - [ComplianceAgent] Compliance agent enhanced features initialized
2025-08-08 03:41:02 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:41:02 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] Created CrewAI agent: ReportWriterAgent
2025-08-08 03:41:02 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] Agent 'ReportWriterAgent' initialized successfully
2025-08-08 03:41:02 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] Added tool: generate_report
2025-08-08 03:41:02 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] Added tool: convert_format
2025-08-08 03:41:02 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] Added tool: validate_report
2025-08-08 03:41:02 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] Added 3 report writer tools
2025-08-08 03:41:02 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] Configured report templates: executive_summary, detailed_analysis, investment_recommendation
2025-08-08 03:41:02 - ReportWriterAgent - [32mINFO[0m - [ReportWriterAgent] Report writer agent enhanced features initialized
2025-08-08 03:41:02 - MemoryAgent - [32mINFO[0m - [MemoryAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:41:02 - MemoryAgent - [32mINFO[0m - [MemoryAgent] Created CrewAI agent: MemoryAgent
2025-08-08 03:41:02 - MemoryAgent - [32mINFO[0m - [MemoryAgent] Agent 'MemoryAgent' initialized successfully
2025-08-08 03:41:02 - MemoryAgent - [32mINFO[0m - [MemoryAgent] Added tool: store_memory
2025-08-08 03:41:02 - MemoryAgent - [32mINFO[0m - [MemoryAgent] Added tool: retrieve_memory
2025-08-08 03:41:02 - MemoryAgent - [32mINFO[0m - [MemoryAgent] Added tool: cleanup_memory
2025-08-08 03:41:02 - MemoryAgent - [32mINFO[0m - [MemoryAgent] Added 3 memory tools
2025-08-08 03:41:02 - MemoryAgent - [32mINFO[0m - [MemoryAgent] Configured memory types: conversation, user_preferences, investment_history, market_context
2025-08-08 03:41:02 - MemoryAgent - [32mINFO[0m - [MemoryAgent] Memory agent enhanced features initialized
2025-08-08 03:41:02 - SupervisorAgent - [32mINFO[0m - [SupervisorAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:41:02 - SupervisorAgent - [32mINFO[0m - [SupervisorAgent] Created CrewAI agent: SupervisorAgent
2025-08-08 03:41:02 - SupervisorAgent - [32mINFO[0m - [SupervisorAgent] Agent 'SupervisorAgent' initialized successfully
2025-08-08 03:41:02 - SupervisorAgent - [32mINFO[0m - [SupervisorAgent] Added tool: review_quality
2025-08-08 03:41:02 - SupervisorAgent - [32mINFO[0m - [SupervisorAgent] Added tool: check_compliance
2025-08-08 03:41:02 - SupervisorAgent - [32mINFO[0m - [SupervisorAgent] Added tool: final_approval
2025-08-08 03:41:02 - SupervisorAgent - [32mINFO[0m - [SupervisorAgent] Added 3 supervisor tools
2025-08-08 03:41:02 - SupervisorAgent - [32mINFO[0m - [SupervisorAgent] Configured review criteria: completeness, accuracy, compliance, clarity, relevance
2025-08-08 03:41:02 - SupervisorAgent - [32mINFO[0m - [SupervisorAgent] Supervisor agent enhanced features initialized
2025-08-08 03:41:02 - FinancialCrewOrchestrator - [32mINFO[0m - Created all enhanced specialized agents for financial analysis
2025-08-08 03:41:02 - FinancialCrewOrchestrator - [32mINFO[0m - Created CrewAI crew with all agents
2025-08-08 03:41:02 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Discord Bot initialization completed
2025-08-08 03:41:02 - discord.client - [32mINFO[0m - logging in using static token
2025-08-08 03:41:03 - discord.gateway - [32mINFO[0m - Shard ID None has connected to Gateway (Session ID: 47b0e31761e4322088bc906e65f4bb75).
2025-08-08 03:41:05 - src.chatbot.discord_bot - [32mINFO[0m - 🤖 Discord Bot Ready!
2025-08-08 03:41:05 - src.chatbot.discord_bot - [32mINFO[0m -    Bot Name: yuanta_crewai
2025-08-08 03:41:05 - src.chatbot.discord_bot - [32mINFO[0m -    Bot ID: 1401884441864962078
2025-08-08 03:41:05 - src.chatbot.discord_bot - [32mINFO[0m -    Servers: 1
2025-08-08 03:41:05 - src.chatbot.discord_bot - [32mINFO[0m -    Users: 1
2025-08-08 03:41:05 - src.chatbot.discord_bot - [32mINFO[0m - 📋 Available Commands:
2025-08-08 03:41:05 - src.chatbot.discord_bot - [32mINFO[0m -    • !financial_help - Show detailed help
2025-08-08 03:41:05 - src.chatbot.discord_bot - [32mINFO[0m -    • !status - Show bot status
2025-08-08 03:41:05 - src.chatbot.discord_bot - [32mINFO[0m -    • !ping - Test bot responsiveness
2025-08-08 03:41:05 - src.chatbot.discord_bot - [32mINFO[0m -    • Send any message for financial advice
2025-08-08 03:42:23 - src.chatbot.discord_bot - [32mINFO[0m - 🤔 Processing message from fortsetzen: i want to invest in high risk fund for my retireme...
2025-08-08 03:42:23 - src.utils.session_manager - [32mINFO[0m - Created session discord_682790548561723396_b43deb65 for user 682790548561723396 on discord
2025-08-08 03:42:23 - src.chatbot.discord_bot - [32mINFO[0m - Created new session: discord_682790548561723396_b43deb65
2025-08-08 03:42:23 - src.chatbot.discord_bot - [32mINFO[0m - Processing query with CrewAI: i want to invest in high risk fund for my retireme...
2025-08-08 03:42:23 - src.llm.crewai_manager - [32mINFO[0m - Starting full CrewAI multi-agent orchestration for evaluation...
2025-08-08 03:42:23 - src.llm.crewai_manager - [32mINFO[0m - 🤖 Processing with CrewAI multi-agent system...
2025-08-08 03:42:23 - FinancialCrewOrchestrator - [32mINFO[0m - Processing financial query: i want to invest in high risk fund for my retirement with around $200000 in the next 10 years. any yuanta's product recommendation?
2025-08-08 03:42:23 - FinancialCrewOrchestrator - [32mINFO[0m - Using conversation history with 1 messages
2025-08-08 03:42:23 - FinancialCrewOrchestrator - [32mINFO[0m - Created 6 tasks for CrewAI execution
2025-08-08 03:42:23 - FinancialCrewOrchestrator - [32mINFO[0m - Updated crew with tasks
2025-08-08 03:42:23 - FinancialCrewOrchestrator - [32mINFO[0m - Starting CrewAI crew execution (attempt 1/1)...
2025-08-08 03:42:23 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 03:42:33 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-08 03:42:33 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-08 03:42:33 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:42:33 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:42:33 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:42:33 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 03:42:35 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 10 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 120, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 159, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 227, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 330, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-08 03:42:46 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 20 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 120, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 159, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 227, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 330, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-08 03:42:52 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-08 03:42:52 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-08 03:42:52 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:42:52 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:42:52 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:42:52 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 03:42:56 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 30 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 120, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 159, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 227, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 330, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-08 03:43:06 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 40 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 120, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 159, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 227, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 330, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-08 03:43:11 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-08 03:43:11 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-08 03:43:11 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:43:11 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:43:11 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:43:11 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 03:43:16 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 50 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 120, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 159, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 227, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 330, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-08 03:43:26 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 60 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 120, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 159, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 227, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 330, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-08 03:43:27 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-08 03:43:27 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-08 03:43:27 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:43:27 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:43:27 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:43:27 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 03:43:36 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 70 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 120, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 159, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 227, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 330, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-08 03:43:44 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-08 03:43:44 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-08 03:43:44 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:43:44 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:43:44 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:43:44 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 03:43:46 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 80 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 120, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 159, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 227, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 330, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-08 03:43:56 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 90 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 120, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 159, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 227, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 330, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-08 03:44:00 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-08 03:44:00 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-08 03:44:00 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:44:00 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:44:00 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:44:00 - FinancialCrewOrchestrator - [32mINFO[0m - CrewAI execution completed successfully
2025-08-08 03:44:00 - FinancialCrewOrchestrator - [32mINFO[0m - Successfully processed financial query with CrewAI
2025-08-08 03:44:00 - src.llm.crewai_manager - [32mINFO[0m - ✅ CrewAI multi-agent processing completed successfully
2025-08-08 03:44:00 - src.llm.crewai_manager - [32mINFO[0m - ✅ Successfully created CrewAI multi-agent response
2025-08-08 03:44:00 - src.chatbot.discord_bot - [32mINFO[0m - Response is 2586 characters, splitting into multiple messages
2025-08-08 03:44:00 - src.chatbot.discord_bot - [32mINFO[0m - Split response into 2 chunks
2025-08-08 03:44:00 - src.chatbot.discord_bot - [33mWARNING[0m - 🔌 Discord Bot Disconnected
2025-08-08 03:44:00 - discord.gateway - [32mINFO[0m - Shard ID None session has been invalidated.
2025-08-08 03:44:01 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Successfully sent 2 message chunks to Discord
2025-08-08 03:44:01 - src.chatbot.discord_bot - [33mWARNING[0m - 🔌 Discord Bot Disconnected
2025-08-08 03:44:06 - discord.gateway - [32mINFO[0m - Shard ID None has connected to Gateway (Session ID: 11bd665ac4a9c8bc330dbb57b0e5ee4c).
2025-08-08 03:44:08 - src.chatbot.discord_bot - [32mINFO[0m - 🤖 Discord Bot Ready!
2025-08-08 03:44:08 - src.chatbot.discord_bot - [32mINFO[0m -    Bot Name: yuanta_crewai
2025-08-08 03:44:08 - src.chatbot.discord_bot - [32mINFO[0m -    Bot ID: 1401884441864962078
2025-08-08 03:44:08 - src.chatbot.discord_bot - [32mINFO[0m -    Servers: 1
2025-08-08 03:44:08 - src.chatbot.discord_bot - [32mINFO[0m -    Users: 1
2025-08-08 03:44:08 - src.chatbot.discord_bot - [32mINFO[0m - 📋 Available Commands:
2025-08-08 03:44:08 - src.chatbot.discord_bot - [32mINFO[0m -    • !financial_help - Show detailed help
2025-08-08 03:44:08 - src.chatbot.discord_bot - [32mINFO[0m -    • !status - Show bot status
2025-08-08 03:44:08 - src.chatbot.discord_bot - [32mINFO[0m -    • !ping - Test bot responsiveness
2025-08-08 03:44:08 - src.chatbot.discord_bot - [32mINFO[0m -    • Send any message for financial advice
2025-08-08 03:52:36 - __main__ - [32mINFO[0m - 📡 Initializing core components...
2025-08-08 03:52:36 - src.core.event_bus - [32mINFO[0m - Event bus started
2025-08-08 03:52:36 - __main__ - [32mINFO[0m - ✅ Event bus started
2025-08-08 03:52:36 - __main__ - [32mINFO[0m - ✅ Session manager initialized
2025-08-08 03:52:36 - __main__ - [32mINFO[0m - 🤖 Starting Discord bot...
2025-08-08 03:52:36 - discord.client - [33mWARNING[0m - PyNaCl is not installed, voice will NOT be supported
2025-08-08 03:52:36 - src.core.event_bus - [32mINFO[0m - Subscribed to event type: EventType.CHAT_RESPONSE
2025-08-08 03:52:36 - src.chatbot.discord_bot - [32mINFO[0m - 🚀 Initializing Discord Bot...
2025-08-08 03:52:36 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-08 03:52:36 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Market data agent created successfully
2025-08-08 03:52:36 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent 'MarketDataAgent' initialized successfully
2025-08-08 03:52:36 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent configuration validation passed
2025-08-08 03:52:36 - src.compliance.compliance_rules_engine - [32mINFO[0m - Initialized compliance engine with 16 rules
2025-08-08 03:52:36 - src.compliance.suitability_validation_engine - [32mINFO[0m - Initialized suitability validation engine
2025-08-08 03:52:36 - src.compliance.disclosure_management_system - [32mINFO[0m - Initialized disclosure management system with 10 requirements
2025-08-08 03:52:36 - FinancialCrewOrchestrator - [32mINFO[0m - Created all enhanced specialized agents for financial analysis
2025-08-08 03:52:36 - FinancialCrewOrchestrator - [32mINFO[0m - Created CrewAI crew with all agents
2025-08-08 03:52:36 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Discord Bot initialization completed
2025-08-08 03:52:36 - discord.client - [32mINFO[0m - logging in using static token
2025-08-08 03:52:37 - discord.gateway - [32mINFO[0m - Shard ID None has connected to Gateway (Session ID: 7923173b2bccdf7bbbd38af1c6e5f15e).
2025-08-08 03:52:39 - src.chatbot.discord_bot - [32mINFO[0m - 🤖 Discord Bot Ready!
2025-08-08 03:52:39 - src.chatbot.discord_bot - [32mINFO[0m -    Bot Name: yuanta_crewai
2025-08-08 03:52:39 - src.chatbot.discord_bot - [32mINFO[0m -    Bot ID: 1401884441864962078
2025-08-08 03:52:39 - src.chatbot.discord_bot - [32mINFO[0m -    Servers: 1
2025-08-08 03:52:39 - src.chatbot.discord_bot - [32mINFO[0m -    Users: 1
2025-08-08 03:52:39 - src.chatbot.discord_bot - [32mINFO[0m - 📋 Available Commands:
2025-08-08 03:52:39 - src.chatbot.discord_bot - [32mINFO[0m -    • !financial_help - Show detailed help
2025-08-08 03:52:39 - src.chatbot.discord_bot - [32mINFO[0m -    • !status - Show bot status
2025-08-08 03:52:39 - src.chatbot.discord_bot - [32mINFO[0m -    • !ping - Test bot responsiveness
2025-08-08 03:52:39 - src.chatbot.discord_bot - [32mINFO[0m -    • Send any message for financial advice
2025-08-08 03:52:48 - src.chatbot.discord_bot - [32mINFO[0m - 🤔 Processing message from fortsetzen: i want to invest in high risk fund for my retireme...
2025-08-08 03:52:48 - src.utils.session_manager - [32mINFO[0m - Created session discord_682790548561723396_ba16401a for user 682790548561723396 on discord
2025-08-08 03:52:48 - src.chatbot.discord_bot - [32mINFO[0m - Created new session: discord_682790548561723396_ba16401a
2025-08-08 03:52:48 - src.chatbot.discord_bot - [32mINFO[0m - Processing query with CrewAI: i want to invest in high risk fund for my retireme...
2025-08-08 03:52:48 - src.llm.crewai_manager - [32mINFO[0m - Starting full CrewAI multi-agent orchestration for evaluation...
2025-08-08 03:52:48 - src.llm.crewai_manager - [32mINFO[0m - 🤖 Processing with CrewAI multi-agent system...
2025-08-08 03:52:48 - FinancialCrewOrchestrator - [32mINFO[0m - Processing financial query: i want to invest in high risk fund for my retirement with around $200000 in the next 10 years. any yuanta's product recommendation?
2025-08-08 03:52:48 - FinancialCrewOrchestrator - [32mINFO[0m - Using conversation history with 1 messages
2025-08-08 03:52:48 - FinancialCrewOrchestrator - [32mINFO[0m - Created 4 tasks for CrewAI execution
2025-08-08 03:52:48 - FinancialCrewOrchestrator - [32mINFO[0m - Updated crew with tasks
2025-08-08 03:52:48 - FinancialCrewOrchestrator - [32mINFO[0m - Starting CrewAI crew execution (attempt 1/1)...
2025-08-08 03:52:48 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 03:52:51 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-08 03:52:51 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-08 03:52:51 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:52:51 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:52:51 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:52:51 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Market data fetched successfully for query: Yuanta high risk funds performance and market tren...
2025-08-08 03:52:51 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 03:52:55 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-08 03:52:55 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-08 03:52:55 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:52:55 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:52:55 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:52:55 - MarketDataAgent - [31mERROR[0m - [MarketDataAgent] Error analyzing economic indicators: 'float' object is not subscriptable
2025-08-08 03:52:55 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 03:53:09 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-08 03:53:09 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-08 03:53:09 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:53:09 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:53:09 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:53:09 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 03:53:19 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-08 03:53:19 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-08 03:53:19 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:53:19 - src.agents.risk_analysis_agent - [32mINFO[0m - Completed portfolio risk assessment for high risk level
2025-08-08 03:53:19 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:53:19 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:53:19 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 03:53:22 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-08 03:53:22 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-08 03:53:22 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:53:22 - src.agents.risk_analysis_agent - [32mINFO[0m - Completed market risk analysis
2025-08-08 03:53:22 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:53:22 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:53:22 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 03:53:28 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 10 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 120, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 159, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 227, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 232, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-08 03:53:35 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-08 03:53:35 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-08 03:53:35 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:53:35 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:53:35 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:53:35 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 03:53:38 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 20 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 120, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 159, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 227, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 232, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-08 03:53:40 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-08 03:53:40 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-08 03:53:40 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:53:40 - src.agents.recommendation_agent - [32mINFO[0m - Created portfolio allocation for medium risk level
2025-08-08 03:53:40 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:53:40 - src.agents.recommendation_agent - [32mINFO[0m - Generated 5 product recommendations for medium risk level
2025-08-08 03:53:40 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:53:40 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 03:53:43 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-08 03:53:43 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-08 03:53:43 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:53:43 - src.agents.recommendation_agent - [32mINFO[0m - Suggested investment strategy for medium risk level
2025-08-08 03:53:43 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:53:43 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:53:43 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 03:53:48 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 30 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 120, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 159, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 227, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 232, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-08 03:53:54 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-08 03:53:54 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-08 03:53:54 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:53:54 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:53:54 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:53:54 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 03:53:58 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 40 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 120, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 159, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 227, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 232, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-08 03:53:59 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-08 03:53:59 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-08 03:53:59 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:53:59 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:53:59 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:53:59 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 03:54:06 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-08 03:54:06 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-08 03:54:06 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:54:06 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:54:06 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:54:06 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 03:54:08 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 50 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 120, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 159, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 227, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 232, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-08 03:54:18 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 60 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 120, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 159, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 227, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 232, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-08 03:54:22 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-08 03:54:22 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-08 03:54:22 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:54:22 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:54:22 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:54:22 - FinancialCrewOrchestrator - [32mINFO[0m - CrewAI execution completed successfully
2025-08-08 03:54:22 - FinancialCrewOrchestrator - [32mINFO[0m - Successfully processed financial query with CrewAI
2025-08-08 03:54:22 - src.llm.crewai_manager - [32mINFO[0m - ✅ CrewAI multi-agent processing completed successfully
2025-08-08 03:54:22 - src.llm.crewai_manager - [32mINFO[0m - ✅ Successfully created CrewAI multi-agent response
2025-08-08 03:54:22 - src.chatbot.discord_bot - [32mINFO[0m - Response is 3652 characters, splitting into multiple messages
2025-08-08 03:54:22 - src.chatbot.discord_bot - [32mINFO[0m - Split response into 2 chunks
2025-08-08 03:54:22 - src.chatbot.discord_bot - [33mWARNING[0m - 🔌 Discord Bot Disconnected
2025-08-08 03:54:23 - discord.gateway - [32mINFO[0m - Shard ID None has successfully RESUMED session 7923173b2bccdf7bbbd38af1c6e5f15e.
2025-08-08 03:54:23 - src.chatbot.discord_bot - [32mINFO[0m - 🔄 Discord Bot Connection Resumed
2025-08-08 03:54:23 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Successfully sent 2 message chunks to Discord
2025-08-08 03:56:00 - src.chatbot.discord_bot - [32mINFO[0m - 🤔 Processing message from fortsetzen: based on our conversation. do you think that my bu...
2025-08-08 03:56:00 - src.chatbot.discord_bot - [32mINFO[0m - Using existing session: discord_682790548561723396_ba16401a
2025-08-08 03:56:00 - src.chatbot.discord_bot - [32mINFO[0m - Processing query with CrewAI: based on our conversation. do you think that my bu...
2025-08-08 03:56:00 - src.llm.crewai_manager - [32mINFO[0m - Starting full CrewAI multi-agent orchestration for evaluation...
2025-08-08 03:56:00 - src.llm.crewai_manager - [32mINFO[0m - 🤖 Processing with CrewAI multi-agent system...
2025-08-08 03:56:00 - FinancialCrewOrchestrator - [32mINFO[0m - Processing financial query: based on our conversation. do you think that my budget is good enough for low risk products?
2025-08-08 03:56:00 - FinancialCrewOrchestrator - [32mINFO[0m - Using conversation history with 3 messages
2025-08-08 03:56:00 - FinancialCrewOrchestrator - [32mINFO[0m - Created 4 tasks for CrewAI execution
2025-08-08 03:56:00 - FinancialCrewOrchestrator - [32mINFO[0m - Updated crew with tasks
2025-08-08 03:56:00 - FinancialCrewOrchestrator - [32mINFO[0m - Starting CrewAI crew execution (attempt 1/1)...
2025-08-08 03:56:00 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 03:56:03 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-08 03:56:03 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-08 03:56:03 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:56:03 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Market data fetched successfully for query: low risk investment products current market condit...
2025-08-08 03:56:03 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:56:03 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:56:03 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 03:56:10 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-08 03:56:10 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-08 03:56:10 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:56:10 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:56:10 - MarketDataAgent - [31mERROR[0m - [MarketDataAgent] Error analyzing economic indicators: 'float' object is not subscriptable
2025-08-08 03:56:10 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:56:10 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 03:56:28 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-08 03:56:28 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-08 03:56:28 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:56:28 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:56:28 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:56:28 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 03:56:31 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-08 03:56:31 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-08 03:56:31 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:56:31 - src.agents.risk_analysis_agent - [32mINFO[0m - Completed portfolio risk assessment for low risk level
2025-08-08 03:56:31 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:56:31 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:56:31 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 03:56:33 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-08 03:56:33 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-08 03:56:33 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:56:33 - src.agents.risk_analysis_agent - [32mINFO[0m - Completed market risk analysis
2025-08-08 03:56:33 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:56:33 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:56:33 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 03:56:36 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 10 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 120, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 159, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 227, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 232, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-08 03:56:46 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 20 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 120, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 159, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 227, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 232, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-08 03:56:47 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-08 03:56:47 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-08 03:56:47 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:56:47 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:56:47 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:56:47 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 03:56:53 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-08 03:56:53 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-08 03:56:53 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:56:53 - src.agents.recommendation_agent - [32mINFO[0m - Created portfolio allocation for medium risk level
2025-08-08 03:56:53 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:56:53 - src.agents.recommendation_agent - [32mINFO[0m - Generated 5 product recommendations for medium risk level
2025-08-08 03:56:53 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:56:53 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 03:56:56 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-08 03:56:56 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-08 03:56:56 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:56:56 - src.agents.recommendation_agent - [32mINFO[0m - Suggested investment strategy for medium risk level
2025-08-08 03:56:56 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:56:56 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:56:56 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 03:56:56 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 30 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 120, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 159, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 227, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 232, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 435, in completion
    client = HTTPHandler(timeout=timeout)  # type: ignore
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 607, in __init__
    self.client = httpx.Client(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 688, in __init__
    self._transport = self._init_transport(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 731, in _init_transport
    return HTTPTransport(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 153, in __init__
    ssl_context = create_ssl_context(verify=verify, cert=cert, trust_env=trust_env)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_config.py", line 40, in create_ssl_context
    ctx = ssl.create_default_context(cafile=certifi.where())
  File "C:\Python312\Lib\ssl.py", line 708, in create_default_context
    context.load_verify_locations(cafile, capath, cadata)

2025-08-08 03:57:06 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 40 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 120, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 159, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 227, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 232, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-08 03:57:10 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-08 03:57:10 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-08 03:57:10 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:57:10 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:57:10 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:57:10 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 03:57:14 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-08 03:57:14 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-08 03:57:14 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:57:14 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:57:14 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:57:14 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 03:57:16 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 50 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 120, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 159, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 227, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 232, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-08 03:57:18 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-08 03:57:18 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-08 03:57:18 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:57:18 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:57:18 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:57:18 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-08 03:57:26 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 60 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 120, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 159, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 227, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 232, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-08 03:57:35 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-08 03:57:35 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-08 03:57:35 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:57:35 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:57:35 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-08 03:57:35 - FinancialCrewOrchestrator - [32mINFO[0m - CrewAI execution completed successfully
2025-08-08 03:57:35 - FinancialCrewOrchestrator - [32mINFO[0m - Successfully processed financial query with CrewAI
2025-08-08 03:57:35 - src.llm.crewai_manager - [32mINFO[0m - ✅ CrewAI multi-agent processing completed successfully
2025-08-08 03:57:35 - src.llm.crewai_manager - [32mINFO[0m - ✅ Successfully created CrewAI multi-agent response
2025-08-08 03:57:35 - src.chatbot.discord_bot - [32mINFO[0m - Response is 3674 characters, splitting into multiple messages
2025-08-08 03:57:35 - src.chatbot.discord_bot - [32mINFO[0m - Split response into 2 chunks
2025-08-08 03:57:35 - src.chatbot.discord_bot - [33mWARNING[0m - 🔌 Discord Bot Disconnected
2025-08-08 03:57:35 - discord.gateway - [32mINFO[0m - Shard ID None has successfully RESUMED session 7923173b2bccdf7bbbd38af1c6e5f15e.
2025-08-08 03:57:35 - src.chatbot.discord_bot - [32mINFO[0m - 🔄 Discord Bot Connection Resumed
2025-08-08 03:57:36 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Successfully sent 2 message chunks to Discord
2025-08-08 04:01:33 - __main__ - [32mINFO[0m - 🧹 Cleaning up...
2025-08-08 04:01:33 - src.core.event_bus - [32mINFO[0m - Event bus stopped
2025-08-08 04:01:33 - __main__ - [32mINFO[0m - ✅ Event bus stopped
2025-08-08 04:01:33 - __main__ - [32mINFO[0m - 👋 Discord bot shutdown complete
2025-08-08 04:01:33 - __main__ - [32mINFO[0m - 👋 Discord bot stopped by user
2025-08-12 10:33:20 - __main__ - [32mINFO[0m - 📡 Initializing core components...
2025-08-12 10:33:20 - src.core.event_bus - [32mINFO[0m - Event bus started
2025-08-12 10:33:20 - __main__ - [32mINFO[0m - ✅ Event bus started
2025-08-12 10:33:20 - __main__ - [32mINFO[0m - ✅ Session manager initialized
2025-08-12 10:33:20 - __main__ - [32mINFO[0m - 🤖 Starting Discord bot...
2025-08-12 10:33:20 - root - [31mERROR[0m - Failed to setup Discord bot: BotBase.__init__() missing 1 required positional argument: 'command_prefix'
2025-08-12 10:33:20 - __main__ - [31mERROR[0m - ❌ Error starting Discord bot: Failed to setup Discord bot: BotBase.__init__() missing 1 required positional argument: 'command_prefix'
2025-08-12 10:33:20 - __main__ - [32mINFO[0m - 🧹 Cleaning up...
2025-08-12 10:33:20 - src.core.event_bus - [32mINFO[0m - Event bus stopped
2025-08-12 10:33:20 - __main__ - [32mINFO[0m - ✅ Event bus stopped
2025-08-12 10:33:20 - __main__ - [32mINFO[0m - 👋 Discord bot shutdown complete
2025-08-12 10:33:20 - __main__ - [31mERROR[0m - ❌ Fatal error: Failed to setup Discord bot: BotBase.__init__() missing 1 required positional argument: 'command_prefix'
2025-08-12 10:34:54 - __main__ - [32mINFO[0m - 📡 Initializing core components...
2025-08-12 10:34:54 - src.core.event_bus - [32mINFO[0m - Event bus started
2025-08-12 10:34:54 - __main__ - [32mINFO[0m - ✅ Event bus started
2025-08-12 10:34:54 - __main__ - [32mINFO[0m - ✅ Session manager initialized
2025-08-12 10:34:54 - __main__ - [32mINFO[0m - 🤖 Starting Discord bot...
2025-08-12 10:34:54 - discord.client - [33mWARNING[0m - PyNaCl is not installed, voice will NOT be supported
2025-08-12 10:34:54 - src.core.event_bus - [32mINFO[0m - Subscribed to event type: EventType.CHAT_RESPONSE
2025-08-12 10:34:54 - src.chatbot.discord_bot - [32mINFO[0m - 🚀 Initializing Discord Bot...
2025-08-12 10:34:54 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-12 10:34:54 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Market data agent created successfully
2025-08-12 10:34:54 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent 'MarketDataAgent' initialized successfully
2025-08-12 10:34:54 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent configuration validation passed
2025-08-12 10:34:54 - src.compliance.compliance_rules_engine - [32mINFO[0m - Initialized compliance engine with 16 rules
2025-08-12 10:34:54 - src.compliance.suitability_validation_engine - [32mINFO[0m - Initialized suitability validation engine
2025-08-12 10:34:54 - src.compliance.disclosure_management_system - [32mINFO[0m - Initialized disclosure management system with 10 requirements
2025-08-12 10:34:54 - FinancialCrewOrchestrator - [32mINFO[0m - Created all enhanced specialized agents for financial analysis
2025-08-12 10:34:54 - FinancialCrewOrchestrator - [32mINFO[0m - Created CrewAI crew with all agents
2025-08-12 10:34:54 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Discord Bot initialization completed
2025-08-12 10:34:54 - root - [33mWARNING[0m - Could not sync commands: Client does not have an application_id set. Either the function was called before on_ready was called or application_id was not passed to the Client constructor.
2025-08-12 10:34:54 - discord.client - [32mINFO[0m - logging in using static token
2025-08-12 10:34:56 - discord.gateway - [32mINFO[0m - Shard ID None has connected to Gateway (Session ID: 44cac255d91bc6939b96f99f73a8dfc7).
2025-08-12 10:34:58 - src.chatbot.discord_bot - [32mINFO[0m - 🤖 Discord Bot Ready!
2025-08-12 10:34:58 - src.chatbot.discord_bot - [32mINFO[0m -    Bot Name: beam_crewai_test
2025-08-12 10:34:58 - src.chatbot.discord_bot - [32mINFO[0m -    Bot ID: 1404665992692502669
2025-08-12 10:34:58 - src.chatbot.discord_bot - [32mINFO[0m -    Servers: 1
2025-08-12 10:34:58 - src.chatbot.discord_bot - [32mINFO[0m -    Users: 1
2025-08-12 10:34:58 - src.chatbot.discord_bot - [32mINFO[0m - 📋 Available Slash Commands:
2025-08-12 10:34:58 - src.chatbot.discord_bot - [32mINFO[0m -    • /help - Show detailed help
2025-08-12 10:34:58 - src.chatbot.discord_bot - [32mINFO[0m -    • /status - Show bot status
2025-08-12 10:34:58 - src.chatbot.discord_bot - [32mINFO[0m -    • /ping - Test bot responsiveness
2025-08-12 10:34:58 - src.chatbot.discord_bot - [32mINFO[0m -    • Send any message for financial advice
2025-08-12 10:35:29 - src.chatbot.discord_bot - [32mINFO[0m - 🤔 Processing message from fortsetzen: /help...
2025-08-12 10:35:29 - src.utils.session_manager - [32mINFO[0m - Created session discord_682790548561723396_bfcd609c for user 682790548561723396 on discord
2025-08-12 10:35:29 - src.chatbot.discord_bot - [32mINFO[0m - Created new session: discord_682790548561723396_bfcd609c
2025-08-12 10:35:29 - src.chatbot.discord_bot - [32mINFO[0m - Processing query with CrewAI: /help...
2025-08-12 10:35:29 - src.llm.crewai_manager - [32mINFO[0m - Starting full CrewAI multi-agent orchestration for evaluation...
2025-08-12 10:35:29 - src.llm.crewai_manager - [32mINFO[0m - 🤖 Processing with CrewAI multi-agent system...
2025-08-12 10:35:29 - FinancialCrewOrchestrator - [32mINFO[0m - Processing financial query: /help
2025-08-12 10:35:29 - FinancialCrewOrchestrator - [32mINFO[0m - Using conversation history with 1 messages
2025-08-12 10:35:29 - FinancialCrewOrchestrator - [32mINFO[0m - Created 4 tasks for CrewAI execution
2025-08-12 10:35:29 - FinancialCrewOrchestrator - [32mINFO[0m - Updated crew with tasks
2025-08-12 10:35:29 - FinancialCrewOrchestrator - [32mINFO[0m - Starting CrewAI crew execution (attempt 1/1)...
2025-08-12 10:35:29 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-12 10:35:32 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-12 10:35:32 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-12 10:35:32 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 10:35:32 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 10:35:32 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 10:35:32 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Market data fetched successfully for query: overview of major indices and market trends...
2025-08-12 10:35:32 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-12 10:35:36 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-12 10:35:36 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-12 10:35:36 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 10:35:36 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 10:35:36 - MarketDataAgent - [31mERROR[0m - [MarketDataAgent] Error analyzing economic indicators: 'float' object is not subscriptable
2025-08-12 10:35:36 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 10:35:36 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-12 10:35:45 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-12 10:35:45 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-12 10:35:45 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 10:35:45 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 10:35:45 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 10:35:45 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-12 10:36:07 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-12 10:36:07 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-12 10:36:08 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 10:36:08 - src.agents.risk_analysis_agent - [32mINFO[0m - Completed portfolio risk assessment for medium risk level
2025-08-12 10:36:08 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 10:36:08 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 10:36:09 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 10 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 121, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 146, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 214, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 232, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 435, in completion
    client = HTTPHandler(timeout=timeout)  # type: ignore
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 607, in __init__
    self.client = httpx.Client(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 688, in __init__
    self._transport = self._init_transport(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 731, in _init_transport
    return HTTPTransport(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 153, in __init__
    ssl_context = create_ssl_context(verify=verify, cert=cert, trust_env=trust_env)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_config.py", line 40, in create_ssl_context
    ctx = ssl.create_default_context(cafile=certifi.where())
  File "C:\Python312\Lib\ssl.py", line 708, in create_default_context
    context.load_verify_locations(cafile, capath, cadata)

2025-08-12 10:36:09 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-12 10:36:13 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-12 10:36:13 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-12 10:36:13 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 10:36:13 - src.agents.risk_analysis_agent - [32mINFO[0m - Completed market risk analysis
2025-08-12 10:36:13 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 10:36:13 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 10:36:13 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-12 10:36:19 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 20 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 121, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 146, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 214, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 232, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-12 10:36:26 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-12 10:36:26 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-12 10:36:26 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 10:36:26 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 10:36:26 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 10:36:26 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-12 10:36:29 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 30 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 121, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 146, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 214, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 232, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-12 10:36:32 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-12 10:36:32 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-12 10:36:32 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 10:36:32 - src.agents.recommendation_agent - [32mINFO[0m - Created portfolio allocation for medium risk level
2025-08-12 10:36:32 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 10:36:32 - src.agents.recommendation_agent - [32mINFO[0m - Generated 5 product recommendations for medium risk level
2025-08-12 10:36:32 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 10:36:32 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-12 10:36:36 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-12 10:36:36 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-12 10:36:36 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 10:36:36 - src.agents.recommendation_agent - [32mINFO[0m - Suggested investment strategy for medium risk level
2025-08-12 10:36:36 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 10:36:36 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 10:36:36 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-12 10:36:39 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 40 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 121, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 146, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 214, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 232, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-12 10:36:49 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 50 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 121, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 146, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 214, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 232, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-12 10:36:49 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-12 10:36:50 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-12 10:36:50 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 10:36:50 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 10:36:50 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 10:36:50 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-12 10:36:56 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-12 10:36:56 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-12 10:36:56 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 10:36:56 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 10:36:57 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 10:36:57 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-12 10:37:00 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 60 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 121, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 146, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 214, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 232, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 435, in completion
    client = HTTPHandler(timeout=timeout)  # type: ignore
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 607, in __init__
    self.client = httpx.Client(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 688, in __init__
    self._transport = self._init_transport(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 731, in _init_transport
    return HTTPTransport(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 153, in __init__
    ssl_context = create_ssl_context(verify=verify, cert=cert, trust_env=trust_env)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_config.py", line 40, in create_ssl_context
    ctx = ssl.create_default_context(cafile=certifi.where())
  File "C:\Python312\Lib\ssl.py", line 708, in create_default_context
    context.load_verify_locations(cafile, capath, cadata)

2025-08-12 10:37:10 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 70 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 121, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 146, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 214, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 232, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-12 10:37:12 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-12 10:37:12 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-12 10:37:12 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 10:37:12 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 10:37:12 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 10:37:12 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-12 10:37:19 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-12 10:37:19 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-12 10:37:19 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 10:37:19 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 10:37:20 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 10:37:20 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-12 10:37:22 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 80 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 121, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 146, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 214, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 232, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 192, in _invoke_loop
    formatted_answer = self._handle_agent_action(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 250, in _handle_agent_action
    return handle_agent_action_core(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 223, in handle_agent_action_core
    show_logs(formatted_answer)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 289, in _show_logs
    crewai_event_bus.emit(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\events\crewai_event_bus.py", line 74, in emit
    handler(source, event)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\events\event_listener.py", line 510, in on_agent_logs_execution
    self.formatter.handle_agent_logs_execution(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\events\utils\console_formatter.py", line 1437, in handle_agent_logs_execution
    self.print(output_panel)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\events\utils\console_formatter.py", line 129, in print
    self.console.print(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\rich\console.py", line 1736, in print
    new_segments, self.width, pad=False
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\rich\console.py", line 1064, in width
    return self.size.width
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\rich\console.py", line 1025, in size
    width, height = os.get_terminal_size(file_descriptor)

2025-08-12 10:37:32 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 90 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 121, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 146, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 214, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 232, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-12 10:37:38 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-12 10:37:38 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-12 10:37:38 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 10:37:38 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 10:37:38 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 10:37:39 - FinancialCrewOrchestrator - [32mINFO[0m - CrewAI execution completed successfully
2025-08-12 10:37:39 - FinancialCrewOrchestrator - [32mINFO[0m - Successfully processed financial query with CrewAI
2025-08-12 10:37:39 - src.llm.crewai_manager - [32mINFO[0m - ✅ CrewAI multi-agent processing completed successfully
2025-08-12 10:37:39 - src.llm.crewai_manager - [32mINFO[0m - ✅ Successfully created CrewAI multi-agent response
2025-08-12 10:37:39 - src.chatbot.discord_bot - [32mINFO[0m - Response is 3217 characters, splitting into multiple messages
2025-08-12 10:37:39 - src.chatbot.discord_bot - [32mINFO[0m - Split response into 2 chunks
2025-08-12 10:37:39 - src.chatbot.discord_bot - [33mWARNING[0m - 🔌 Discord Bot Disconnected
2025-08-12 10:37:39 - discord.gateway - [32mINFO[0m - Shard ID None session has been invalidated.
2025-08-12 10:37:40 - src.chatbot.discord_bot - [33mWARNING[0m - 🔌 Discord Bot Disconnected
2025-08-12 10:37:40 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Successfully sent 2 message chunks to Discord
2025-08-12 10:37:46 - discord.gateway - [32mINFO[0m - Shard ID None has connected to Gateway (Session ID: bf2b89319ae2bb79e497ec1f578b1289).
2025-08-12 10:37:48 - src.chatbot.discord_bot - [32mINFO[0m - 🤖 Discord Bot Ready!
2025-08-12 10:37:48 - src.chatbot.discord_bot - [32mINFO[0m -    Bot Name: beam_crewai_test
2025-08-12 10:37:48 - src.chatbot.discord_bot - [32mINFO[0m -    Bot ID: 1404665992692502669
2025-08-12 10:37:48 - src.chatbot.discord_bot - [32mINFO[0m -    Servers: 1
2025-08-12 10:37:48 - src.chatbot.discord_bot - [32mINFO[0m -    Users: 1
2025-08-12 10:37:48 - src.chatbot.discord_bot - [32mINFO[0m - 📋 Available Slash Commands:
2025-08-12 10:37:48 - src.chatbot.discord_bot - [32mINFO[0m -    • /help - Show detailed help
2025-08-12 10:37:48 - src.chatbot.discord_bot - [32mINFO[0m -    • /status - Show bot status
2025-08-12 10:37:48 - src.chatbot.discord_bot - [32mINFO[0m -    • /ping - Test bot responsiveness
2025-08-12 10:37:48 - src.chatbot.discord_bot - [32mINFO[0m -    • Send any message for financial advice
2025-08-12 10:38:25 - __main__ - [32mINFO[0m - 🧹 Cleaning up...
2025-08-12 10:38:25 - src.core.event_bus - [32mINFO[0m - Event bus stopped
2025-08-12 10:38:25 - __main__ - [32mINFO[0m - ✅ Event bus stopped
2025-08-12 10:38:25 - __main__ - [32mINFO[0m - 👋 Discord bot shutdown complete
2025-08-12 10:38:25 - __main__ - [32mINFO[0m - 👋 Discord bot stopped by user
2025-08-12 10:46:40 - __main__ - [32mINFO[0m - 📡 Initializing core components...
2025-08-12 10:46:40 - src.core.event_bus - [32mINFO[0m - Event bus started
2025-08-12 10:46:40 - __main__ - [32mINFO[0m - ✅ Event bus started
2025-08-12 10:46:40 - __main__ - [32mINFO[0m - ✅ Session manager initialized
2025-08-12 10:46:40 - __main__ - [32mINFO[0m - 🤖 Starting Discord bot...
2025-08-12 10:46:40 - discord.client - [33mWARNING[0m - PyNaCl is not installed, voice will NOT be supported
2025-08-12 10:46:40 - src.core.event_bus - [32mINFO[0m - Subscribed to event type: EventType.CHAT_RESPONSE
2025-08-12 10:46:40 - root - [32mINFO[0m - Registered 5 slash commands
2025-08-12 10:46:40 - root - [32mINFO[0m -   - /help: Show detailed help for financial commands
2025-08-12 10:46:40 - root - [32mINFO[0m -   - /status: Show bot status and health information
2025-08-12 10:46:40 - root - [32mINFO[0m -   - /ping: Test bot responsiveness
2025-08-12 10:46:40 - root - [32mINFO[0m -   - /history: Show your conversation history
2025-08-12 10:46:40 - root - [32mINFO[0m -   - /clear_history: Clear your conversation history
2025-08-12 10:46:40 - root - [31mERROR[0m - Failed to setup Discord bot: Command 'help' already registered.
2025-08-12 10:46:40 - __main__ - [31mERROR[0m - ❌ Error starting Discord bot: Failed to setup Discord bot: Command 'help' already registered.
2025-08-12 10:46:40 - __main__ - [32mINFO[0m - 🧹 Cleaning up...
2025-08-12 10:46:40 - src.core.event_bus - [32mINFO[0m - Event bus stopped
2025-08-12 10:46:40 - __main__ - [32mINFO[0m - ✅ Event bus stopped
2025-08-12 10:46:40 - __main__ - [32mINFO[0m - 👋 Discord bot shutdown complete
2025-08-12 10:46:40 - __main__ - [31mERROR[0m - ❌ Fatal error: Failed to setup Discord bot: Command 'help' already registered.
2025-08-12 10:51:35 - __main__ - [32mINFO[0m - 📡 Initializing core components...
2025-08-12 10:51:35 - src.core.event_bus - [32mINFO[0m - Event bus started
2025-08-12 10:51:35 - __main__ - [32mINFO[0m - ✅ Event bus started
2025-08-12 10:51:35 - __main__ - [32mINFO[0m - ✅ Session manager initialized
2025-08-12 10:51:35 - __main__ - [32mINFO[0m - 🤖 Starting Discord bot...
2025-08-12 10:51:35 - discord.client - [33mWARNING[0m - PyNaCl is not installed, voice will NOT be supported
2025-08-12 10:51:35 - src.core.event_bus - [32mINFO[0m - Subscribed to event type: EventType.CHAT_RESPONSE
2025-08-12 10:51:35 - root - [32mINFO[0m - Registered 4 slash commands
2025-08-12 10:51:35 - root - [32mINFO[0m -   - /status: Show bot status and health information
2025-08-12 10:51:35 - root - [32mINFO[0m -   - /ping: Test bot responsiveness
2025-08-12 10:51:35 - root - [32mINFO[0m -   - /history: Show your conversation history
2025-08-12 10:51:35 - root - [32mINFO[0m -   - /clear_history: Clear your conversation history
2025-08-12 10:51:35 - root - [31mERROR[0m - Failed to setup Discord bot: Command 'status' already registered.
2025-08-12 10:51:35 - __main__ - [31mERROR[0m - ❌ Error starting Discord bot: Failed to setup Discord bot: Command 'status' already registered.
2025-08-12 10:51:35 - __main__ - [32mINFO[0m - 🧹 Cleaning up...
2025-08-12 10:51:35 - src.core.event_bus - [32mINFO[0m - Event bus stopped
2025-08-12 10:51:35 - __main__ - [32mINFO[0m - ✅ Event bus stopped
2025-08-12 10:51:35 - __main__ - [32mINFO[0m - 👋 Discord bot shutdown complete
2025-08-12 10:51:35 - __main__ - [31mERROR[0m - ❌ Fatal error: Failed to setup Discord bot: Command 'status' already registered.
2025-08-12 10:58:26 - __main__ - [32mINFO[0m - 📡 Initializing core components...
2025-08-12 10:58:26 - src.core.event_bus - [32mINFO[0m - Event bus started
2025-08-12 10:58:26 - __main__ - [32mINFO[0m - ✅ Event bus started
2025-08-12 10:58:26 - __main__ - [32mINFO[0m - ✅ Session manager initialized
2025-08-12 10:58:26 - __main__ - [32mINFO[0m - 🤖 Starting Discord bot...
2025-08-12 10:58:26 - discord.client - [33mWARNING[0m - PyNaCl is not installed, voice will NOT be supported
2025-08-12 10:58:26 - src.core.event_bus - [32mINFO[0m - Subscribed to event type: EventType.CHAT_RESPONSE
2025-08-12 10:58:26 - src.chatbot.discord_bot - [32mINFO[0m - 🚀 Initializing Discord Bot...
2025-08-12 10:58:26 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-12 10:58:26 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Market data agent created successfully
2025-08-12 10:58:26 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent 'MarketDataAgent' initialized successfully
2025-08-12 10:58:26 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent configuration validation passed
2025-08-12 10:58:26 - src.compliance.compliance_rules_engine - [32mINFO[0m - Initialized compliance engine with 16 rules
2025-08-12 10:58:26 - src.compliance.suitability_validation_engine - [32mINFO[0m - Initialized suitability validation engine
2025-08-12 10:58:26 - src.compliance.disclosure_management_system - [32mINFO[0m - Initialized disclosure management system with 10 requirements
2025-08-12 10:58:27 - FinancialCrewOrchestrator - [32mINFO[0m - Created all enhanced specialized agents for financial analysis
2025-08-12 10:58:27 - FinancialCrewOrchestrator - [32mINFO[0m - Created CrewAI crew with all agents
2025-08-12 10:58:27 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Discord Bot initialization completed
2025-08-12 10:58:27 - discord.client - [32mINFO[0m - logging in using static token
2025-08-12 10:58:29 - discord.gateway - [32mINFO[0m - Shard ID None has connected to Gateway (Session ID: cbc8b28bcf9f7797a569a993e2e002b5).
2025-08-12 10:58:31 - src.chatbot.discord_bot - [32mINFO[0m - 🤖 Discord Bot Ready!
2025-08-12 10:58:31 - src.chatbot.discord_bot - [32mINFO[0m -    Bot Name: beam_crewai_test
2025-08-12 10:58:31 - src.chatbot.discord_bot - [32mINFO[0m -    Bot ID: 1404665992692502669
2025-08-12 10:58:31 - src.chatbot.discord_bot - [32mINFO[0m -    Servers: 1
2025-08-12 10:58:31 - src.chatbot.discord_bot - [32mINFO[0m -    Users: 1
2025-08-12 10:58:31 - src.chatbot.discord_bot - [32mINFO[0m - 📋 Available Slash Commands:
2025-08-12 10:58:31 - src.chatbot.discord_bot - [32mINFO[0m -    • /financial_help - Show detailed help
2025-08-12 10:58:31 - src.chatbot.discord_bot - [32mINFO[0m -    • /status - Show bot status
2025-08-12 10:58:31 - src.chatbot.discord_bot - [32mINFO[0m -    • /ping - Test bot responsiveness
2025-08-12 10:58:31 - src.chatbot.discord_bot - [32mINFO[0m -    • Send any message for financial advice
2025-08-12 10:58:31 - src.chatbot.discord_bot - [32mINFO[0m - 🔧 Slash Commands Registered: 5
2025-08-12 10:58:31 - src.chatbot.discord_bot - [32mINFO[0m -    • /financial_help: Show detailed help for financial commands
2025-08-12 10:58:31 - src.chatbot.discord_bot - [32mINFO[0m -    • /status: Show bot status and health information
2025-08-12 10:58:31 - src.chatbot.discord_bot - [32mINFO[0m -    • /ping: Test bot responsiveness
2025-08-12 10:58:31 - src.chatbot.discord_bot - [32mINFO[0m -    • /history: Show your conversation history
2025-08-12 10:58:31 - src.chatbot.discord_bot - [32mINFO[0m -    • /clear_history: Clear your conversation history
2025-08-12 11:02:13 - __main__ - [32mINFO[0m - 🧹 Cleaning up...
2025-08-12 11:02:13 - src.core.event_bus - [32mINFO[0m - Event bus stopped
2025-08-12 11:02:13 - __main__ - [32mINFO[0m - ✅ Event bus stopped
2025-08-12 11:02:13 - __main__ - [32mINFO[0m - 👋 Discord bot shutdown complete
2025-08-12 11:02:15 - __main__ - [32mINFO[0m - 👋 Discord bot stopped by user
2025-08-12 11:08:38 - __main__ - [32mINFO[0m - 📡 Initializing core components...
2025-08-12 11:08:38 - src.core.event_bus - [32mINFO[0m - Event bus started
2025-08-12 11:08:38 - __main__ - [32mINFO[0m - ✅ Event bus started
2025-08-12 11:08:38 - __main__ - [32mINFO[0m - ✅ Session manager initialized
2025-08-12 11:08:38 - __main__ - [32mINFO[0m - 🤖 Starting Discord bot...
2025-08-12 11:08:38 - discord.client - [33mWARNING[0m - PyNaCl is not installed, voice will NOT be supported
2025-08-12 11:08:38 - src.core.event_bus - [32mINFO[0m - Subscribed to event type: EventType.CHAT_RESPONSE
2025-08-12 11:08:38 - src.chatbot.discord_bot - [32mINFO[0m - 🚀 Initializing Discord Bot...
2025-08-12 11:08:38 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-12 11:08:39 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Market data agent created successfully
2025-08-12 11:08:39 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent 'MarketDataAgent' initialized successfully
2025-08-12 11:08:39 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent configuration validation passed
2025-08-12 11:08:39 - src.compliance.compliance_rules_engine - [32mINFO[0m - Initialized compliance engine with 16 rules
2025-08-12 11:08:39 - src.compliance.suitability_validation_engine - [32mINFO[0m - Initialized suitability validation engine
2025-08-12 11:08:39 - src.compliance.disclosure_management_system - [32mINFO[0m - Initialized disclosure management system with 10 requirements
2025-08-12 11:08:39 - FinancialCrewOrchestrator - [32mINFO[0m - Created all enhanced specialized agents for financial analysis
2025-08-12 11:08:39 - FinancialCrewOrchestrator - [32mINFO[0m - Created CrewAI crew with all agents
2025-08-12 11:08:39 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Registered 5 slash commands
2025-08-12 11:08:39 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Discord Bot initialization completed
2025-08-12 11:08:39 - discord.client - [32mINFO[0m - logging in using static token
2025-08-12 11:08:40 - discord.gateway - [32mINFO[0m - Shard ID None has connected to Gateway (Session ID: ec7eb4ad0772644424f316da3520ae29).
2025-08-12 11:08:42 - src.chatbot.discord_bot - [32mINFO[0m - 🤖 Discord Bot Ready!
2025-08-12 11:08:42 - src.chatbot.discord_bot - [32mINFO[0m -    Bot Name: beam_crewai_test
2025-08-12 11:08:42 - src.chatbot.discord_bot - [32mINFO[0m -    Bot ID: 1404665992692502669
2025-08-12 11:08:42 - src.chatbot.discord_bot - [32mINFO[0m -    Servers: 1
2025-08-12 11:08:42 - src.chatbot.discord_bot - [32mINFO[0m -    Users: 1
2025-08-12 11:08:42 - src.chatbot.discord_bot - [32mINFO[0m - 📋 Available Slash Commands:
2025-08-12 11:08:42 - src.chatbot.discord_bot - [32mINFO[0m -    • /financial_help - Show detailed help
2025-08-12 11:08:42 - src.chatbot.discord_bot - [32mINFO[0m -    • /status - Show bot status
2025-08-12 11:08:42 - src.chatbot.discord_bot - [32mINFO[0m -    • /ping - Test bot responsiveness
2025-08-12 11:08:42 - src.chatbot.discord_bot - [32mINFO[0m -    • Send any message for financial advice
2025-08-12 11:08:42 - src.chatbot.discord_bot - [32mINFO[0m - 🔧 Slash Commands Registered: 5
2025-08-12 11:08:42 - src.chatbot.discord_bot - [32mINFO[0m -    • /financial_help: Show detailed help for financial commands
2025-08-12 11:08:42 - src.chatbot.discord_bot - [32mINFO[0m -    • /status: Show bot status and health information
2025-08-12 11:08:42 - src.chatbot.discord_bot - [32mINFO[0m -    • /ping: Test bot responsiveness
2025-08-12 11:08:42 - src.chatbot.discord_bot - [32mINFO[0m -    • /history: Show your conversation history
2025-08-12 11:08:42 - src.chatbot.discord_bot - [32mINFO[0m -    • /clear_history: Clear your conversation history
2025-08-12 11:10:11 - __main__ - [32mINFO[0m - 🧹 Cleaning up...
2025-08-12 11:10:11 - src.core.event_bus - [32mINFO[0m - Event bus stopped
2025-08-12 11:10:11 - __main__ - [32mINFO[0m - ✅ Event bus stopped
2025-08-12 11:10:11 - __main__ - [32mINFO[0m - 👋 Discord bot shutdown complete
2025-08-12 11:10:11 - __main__ - [32mINFO[0m - 👋 Discord bot stopped by user
2025-08-12 11:15:26 - __main__ - [32mINFO[0m - 📡 Initializing core components...
2025-08-12 11:15:27 - src.core.event_bus - [32mINFO[0m - Event bus started
2025-08-12 11:15:28 - __main__ - [32mINFO[0m - ✅ Event bus started
2025-08-12 11:15:28 - __main__ - [32mINFO[0m - ✅ Session manager initialized
2025-08-12 11:15:28 - __main__ - [32mINFO[0m - 🤖 Starting Discord bot...
2025-08-12 11:15:28 - discord.client - [33mWARNING[0m - PyNaCl is not installed, voice will NOT be supported
2025-08-12 11:15:28 - src.core.event_bus - [32mINFO[0m - Subscribed to event type: EventType.CHAT_RESPONSE
2025-08-12 11:15:28 - src.chatbot.discord_bot - [32mINFO[0m - 🚀 Initializing Discord Bot...
2025-08-12 11:15:28 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-12 11:15:29 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Market data agent created successfully
2025-08-12 11:15:29 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent 'MarketDataAgent' initialized successfully
2025-08-12 11:15:29 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent configuration validation passed
2025-08-12 11:15:29 - src.compliance.compliance_rules_engine - [32mINFO[0m - Initialized compliance engine with 16 rules
2025-08-12 11:15:29 - src.compliance.suitability_validation_engine - [32mINFO[0m - Initialized suitability validation engine
2025-08-12 11:15:29 - src.compliance.disclosure_management_system - [32mINFO[0m - Initialized disclosure management system with 10 requirements
2025-08-12 11:15:30 - FinancialCrewOrchestrator - [32mINFO[0m - Created all enhanced specialized agents for financial analysis
2025-08-12 11:15:31 - FinancialCrewOrchestrator - [32mINFO[0m - Created CrewAI crew with all agents
2025-08-12 11:15:31 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Discord Bot initialization completed
2025-08-12 11:15:31 - discord.client - [32mINFO[0m - logging in using static token
2025-08-12 11:15:34 - discord.gateway - [32mINFO[0m - Shard ID None has connected to Gateway (Session ID: 448f0c9434413a3f701081affd8fe120).
2025-08-12 11:15:36 - src.chatbot.discord_bot - [32mINFO[0m - 🤖 Discord Bot Ready!
2025-08-12 11:15:36 - src.chatbot.discord_bot - [32mINFO[0m -    Bot Name: beam_crewai_test
2025-08-12 11:15:36 - src.chatbot.discord_bot - [32mINFO[0m -    Bot ID: 1404665992692502669
2025-08-12 11:15:36 - src.chatbot.discord_bot - [32mINFO[0m -    Servers: 1
2025-08-12 11:15:36 - src.chatbot.discord_bot - [32mINFO[0m -    Users: 1
2025-08-12 11:15:36 - src.chatbot.discord_bot - [32mINFO[0m - 📋 Available Slash Commands:
2025-08-12 11:15:36 - src.chatbot.discord_bot - [32mINFO[0m -    • /financial_help - Show detailed help
2025-08-12 11:15:36 - src.chatbot.discord_bot - [32mINFO[0m -    • /status - Show bot status
2025-08-12 11:15:36 - src.chatbot.discord_bot - [32mINFO[0m -    • /ping - Test bot responsiveness
2025-08-12 11:15:36 - src.chatbot.discord_bot - [32mINFO[0m -    • Send any message for financial advice
2025-08-12 11:15:36 - src.chatbot.discord_bot - [32mINFO[0m - 🔧 Slash Commands Registered: 0
2025-08-12 11:19:16 - __main__ - [32mINFO[0m - 🧹 Cleaning up...
2025-08-12 11:19:16 - src.core.event_bus - [32mINFO[0m - Event bus stopped
2025-08-12 11:19:16 - __main__ - [32mINFO[0m - ✅ Event bus stopped
2025-08-12 11:19:16 - __main__ - [32mINFO[0m - 👋 Discord bot shutdown complete
2025-08-12 11:19:16 - __main__ - [32mINFO[0m - 👋 Discord bot stopped by user
2025-08-12 11:24:07 - __main__ - [32mINFO[0m - 📡 Initializing core components...
2025-08-12 11:24:07 - src.core.event_bus - [32mINFO[0m - Event bus started
2025-08-12 11:24:07 - __main__ - [32mINFO[0m - ✅ Event bus started
2025-08-12 11:24:07 - __main__ - [32mINFO[0m - ✅ Session manager initialized
2025-08-12 11:24:07 - __main__ - [32mINFO[0m - 🤖 Starting Discord bot...
2025-08-12 11:24:07 - discord.client - [33mWARNING[0m - PyNaCl is not installed, voice will NOT be supported
2025-08-12 11:24:07 - src.core.event_bus - [32mINFO[0m - Subscribed to event type: EventType.CHAT_RESPONSE
2025-08-12 11:24:07 - src.chatbot.discord_bot - [32mINFO[0m - 🚀 Initializing Discord Bot...
2025-08-12 11:24:07 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-12 11:24:07 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Market data agent created successfully
2025-08-12 11:24:07 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent 'MarketDataAgent' initialized successfully
2025-08-12 11:24:07 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent configuration validation passed
2025-08-12 11:24:07 - src.compliance.compliance_rules_engine - [32mINFO[0m - Initialized compliance engine with 16 rules
2025-08-12 11:24:07 - src.compliance.suitability_validation_engine - [32mINFO[0m - Initialized suitability validation engine
2025-08-12 11:24:07 - src.compliance.disclosure_management_system - [32mINFO[0m - Initialized disclosure management system with 10 requirements
2025-08-12 11:24:07 - FinancialCrewOrchestrator - [32mINFO[0m - Created all enhanced specialized agents for financial analysis
2025-08-12 11:24:07 - FinancialCrewOrchestrator - [32mINFO[0m - Created CrewAI crew with all agents
2025-08-12 11:24:07 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Discord Bot initialization completed
2025-08-12 11:24:07 - discord.client - [32mINFO[0m - logging in using static token
2025-08-12 11:24:09 - discord.gateway - [32mINFO[0m - Shard ID None has connected to Gateway (Session ID: add63758ee7ed237721fb7fa9abd76af).
2025-08-12 11:24:11 - src.chatbot.discord_bot - [32mINFO[0m - 🤖 Discord Bot Ready!
2025-08-12 11:24:11 - src.chatbot.discord_bot - [32mINFO[0m -    Bot Name: beam_crewai_test
2025-08-12 11:24:11 - src.chatbot.discord_bot - [32mINFO[0m -    Bot ID: 1404665992692502669
2025-08-12 11:24:11 - src.chatbot.discord_bot - [32mINFO[0m -    Servers: 1
2025-08-12 11:24:11 - src.chatbot.discord_bot - [32mINFO[0m -    Users: 1
2025-08-12 11:24:11 - src.chatbot.discord_bot - [32mINFO[0m - 📋 Available Slash Commands:
2025-08-12 11:24:11 - src.chatbot.discord_bot - [32mINFO[0m -    • /financial_help - Show detailed help
2025-08-12 11:24:11 - src.chatbot.discord_bot - [32mINFO[0m -    • /status - Show bot status
2025-08-12 11:24:11 - src.chatbot.discord_bot - [32mINFO[0m -    • /ping - Test bot responsiveness
2025-08-12 11:24:11 - src.chatbot.discord_bot - [32mINFO[0m -    • Send any message for financial advice
2025-08-12 11:24:11 - src.chatbot.discord_bot - [32mINFO[0m - 🔧 Slash Commands Registered: 0
2025-08-12 11:30:08 - __main__ - [32mINFO[0m - 🧹 Cleaning up...
2025-08-12 11:30:08 - src.core.event_bus - [32mINFO[0m - Event bus stopped
2025-08-12 11:30:08 - __main__ - [32mINFO[0m - ✅ Event bus stopped
2025-08-12 11:30:08 - __main__ - [32mINFO[0m - 👋 Discord bot shutdown complete
2025-08-12 11:30:09 - __main__ - [32mINFO[0m - 👋 Discord bot stopped by user
2025-08-12 11:34:13 - __main__ - [32mINFO[0m - 📡 Initializing core components...
2025-08-12 11:34:13 - src.core.event_bus - [32mINFO[0m - Event bus started
2025-08-12 11:34:13 - __main__ - [32mINFO[0m - ✅ Event bus started
2025-08-12 11:34:13 - __main__ - [32mINFO[0m - ✅ Session manager initialized
2025-08-12 11:34:13 - __main__ - [32mINFO[0m - 🤖 Starting Discord bot...
2025-08-12 11:34:13 - discord.client - [33mWARNING[0m - PyNaCl is not installed, voice will NOT be supported
2025-08-12 11:34:13 - src.core.event_bus - [32mINFO[0m - Subscribed to event type: EventType.CHAT_RESPONSE
2025-08-12 11:34:13 - src.chatbot.discord_bot - [32mINFO[0m - 🚀 Initializing Discord Bot...
2025-08-12 11:34:13 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-12 11:34:13 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Market data agent created successfully
2025-08-12 11:34:13 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent 'MarketDataAgent' initialized successfully
2025-08-12 11:34:13 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent configuration validation passed
2025-08-12 11:34:13 - src.compliance.compliance_rules_engine - [32mINFO[0m - Initialized compliance engine with 16 rules
2025-08-12 11:34:13 - src.compliance.suitability_validation_engine - [32mINFO[0m - Initialized suitability validation engine
2025-08-12 11:34:13 - src.compliance.disclosure_management_system - [32mINFO[0m - Initialized disclosure management system with 10 requirements
2025-08-12 11:34:13 - FinancialCrewOrchestrator - [32mINFO[0m - Created all enhanced specialized agents for financial analysis
2025-08-12 11:34:13 - FinancialCrewOrchestrator - [32mINFO[0m - Created CrewAI crew with all agents
2025-08-12 11:34:13 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Discord Bot initialization completed
2025-08-12 11:34:13 - discord.client - [32mINFO[0m - logging in using static token
2025-08-12 11:34:15 - discord.gateway - [32mINFO[0m - Shard ID None has connected to Gateway (Session ID: 438243f05b69e8a3e72b016b916df9e6).
2025-08-12 11:34:17 - src.chatbot.discord_bot - [32mINFO[0m - 🤖 Discord Bot Ready!
2025-08-12 11:34:17 - src.chatbot.discord_bot - [32mINFO[0m -    Bot Name: beam_crewai_test
2025-08-12 11:34:17 - src.chatbot.discord_bot - [32mINFO[0m -    Bot ID: 1404665992692502669
2025-08-12 11:34:17 - src.chatbot.discord_bot - [32mINFO[0m -    Servers: 1
2025-08-12 11:34:17 - src.chatbot.discord_bot - [32mINFO[0m -    Users: 1
2025-08-12 11:34:17 - src.chatbot.discord_bot - [32mINFO[0m - 📋 Available Slash Commands:
2025-08-12 11:34:17 - src.chatbot.discord_bot - [32mINFO[0m -    • /financial_help - Show detailed help
2025-08-12 11:34:17 - src.chatbot.discord_bot - [32mINFO[0m -    • /status - Show bot status
2025-08-12 11:34:17 - src.chatbot.discord_bot - [32mINFO[0m -    • /ping - Test bot responsiveness
2025-08-12 11:34:17 - src.chatbot.discord_bot - [32mINFO[0m -    • Send any message for financial advice
2025-08-12 11:34:17 - src.chatbot.discord_bot - [32mINFO[0m - 🔧 Slash Commands Registered: 0
2025-08-12 11:34:54 - __main__ - [32mINFO[0m - 🧹 Cleaning up...
2025-08-12 11:34:55 - __main__ - [32mINFO[0m - 👋 Discord bot stopped by user
2025-08-12 11:42:10 - __main__ - [32mINFO[0m - 📡 Initializing core components...
2025-08-12 11:42:10 - src.core.event_bus - [32mINFO[0m - Event bus started
2025-08-12 11:42:10 - __main__ - [32mINFO[0m - ✅ Event bus started
2025-08-12 11:42:10 - __main__ - [32mINFO[0m - ✅ Session manager initialized
2025-08-12 11:42:10 - __main__ - [32mINFO[0m - 🤖 Starting Discord bot...
2025-08-12 11:42:10 - discord.client - [33mWARNING[0m - PyNaCl is not installed, voice will NOT be supported
2025-08-12 11:42:10 - src.core.event_bus - [32mINFO[0m - Subscribed to event type: EventType.CHAT_RESPONSE
2025-08-12 11:42:10 - src.chatbot.discord_bot - [32mINFO[0m - 🚀 Initializing Discord Bot...
2025-08-12 11:42:10 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-12 11:42:10 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Market data agent created successfully
2025-08-12 11:42:10 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent 'MarketDataAgent' initialized successfully
2025-08-12 11:42:10 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent configuration validation passed
2025-08-12 11:42:10 - src.compliance.compliance_rules_engine - [32mINFO[0m - Initialized compliance engine with 16 rules
2025-08-12 11:42:10 - src.compliance.suitability_validation_engine - [32mINFO[0m - Initialized suitability validation engine
2025-08-12 11:42:10 - src.compliance.disclosure_management_system - [32mINFO[0m - Initialized disclosure management system with 10 requirements
2025-08-12 11:42:10 - FinancialCrewOrchestrator - [32mINFO[0m - Created all enhanced specialized agents for financial analysis
2025-08-12 11:42:10 - FinancialCrewOrchestrator - [32mINFO[0m - Created CrewAI crew with all agents
2025-08-12 11:42:10 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Discord Bot initialization completed
2025-08-12 11:42:10 - discord.client - [32mINFO[0m - logging in using static token
2025-08-12 11:42:12 - discord.gateway - [32mINFO[0m - Shard ID None has connected to Gateway (Session ID: 284c2073779880c433adf0707d1f2d9b).
2025-08-12 11:42:14 - src.chatbot.discord_bot - [32mINFO[0m - 🤖 Discord Bot Ready!
2025-08-12 11:42:14 - src.chatbot.discord_bot - [32mINFO[0m -    Bot Name: beam_crewai_test
2025-08-12 11:42:14 - src.chatbot.discord_bot - [32mINFO[0m -    Bot ID: 1404665992692502669
2025-08-12 11:42:14 - src.chatbot.discord_bot - [32mINFO[0m -    Servers: 1
2025-08-12 11:42:14 - src.chatbot.discord_bot - [32mINFO[0m -    Users: 1
2025-08-12 11:42:14 - src.chatbot.discord_bot - [32mINFO[0m - 📋 Available Slash Commands:
2025-08-12 11:42:14 - src.chatbot.discord_bot - [32mINFO[0m -    • /financial_help - Show detailed help
2025-08-12 11:42:14 - src.chatbot.discord_bot - [32mINFO[0m -    • /status - Show bot status
2025-08-12 11:42:14 - src.chatbot.discord_bot - [32mINFO[0m -    • /ping - Test bot responsiveness
2025-08-12 11:42:14 - src.chatbot.discord_bot - [32mINFO[0m -    • Send any message for financial advice
2025-08-12 11:42:14 - src.chatbot.discord_bot - [32mINFO[0m - 🔧 Slash Commands Registered: 0
2025-08-12 11:42:18 - __main__ - [32mINFO[0m - 🧹 Cleaning up...
2025-08-12 11:42:18 - src.core.event_bus - [32mINFO[0m - Event bus stopped
2025-08-12 11:42:18 - __main__ - [32mINFO[0m - ✅ Event bus stopped
2025-08-12 11:42:18 - __main__ - [32mINFO[0m - 👋 Discord bot shutdown complete
2025-08-12 11:42:18 - __main__ - [32mINFO[0m - 👋 Discord bot stopped by user
2025-08-12 11:43:39 - __main__ - [32mINFO[0m - 📡 Initializing core components...
2025-08-12 11:43:39 - src.core.event_bus - [32mINFO[0m - Event bus started
2025-08-12 11:43:39 - __main__ - [32mINFO[0m - ✅ Event bus started
2025-08-12 11:43:39 - __main__ - [32mINFO[0m - ✅ Session manager initialized
2025-08-12 11:43:39 - __main__ - [32mINFO[0m - 🤖 Starting Discord bot...
2025-08-12 11:43:39 - discord.client - [33mWARNING[0m - PyNaCl is not installed, voice will NOT be supported
2025-08-12 11:43:39 - src.core.event_bus - [32mINFO[0m - Subscribed to event type: EventType.CHAT_RESPONSE
2025-08-12 11:43:39 - src.chatbot.discord_bot - [32mINFO[0m - 🚀 Initializing Discord Bot...
2025-08-12 11:43:39 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-12 11:43:39 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Market data agent created successfully
2025-08-12 11:43:39 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent 'MarketDataAgent' initialized successfully
2025-08-12 11:43:39 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent configuration validation passed
2025-08-12 11:43:39 - src.compliance.compliance_rules_engine - [32mINFO[0m - Initialized compliance engine with 16 rules
2025-08-12 11:43:39 - src.compliance.suitability_validation_engine - [32mINFO[0m - Initialized suitability validation engine
2025-08-12 11:43:39 - src.compliance.disclosure_management_system - [32mINFO[0m - Initialized disclosure management system with 10 requirements
2025-08-12 11:43:39 - FinancialCrewOrchestrator - [32mINFO[0m - Created all enhanced specialized agents for financial analysis
2025-08-12 11:43:39 - FinancialCrewOrchestrator - [32mINFO[0m - Created CrewAI crew with all agents
2025-08-12 11:43:39 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Discord Bot initialization completed
2025-08-12 11:43:39 - discord.client - [32mINFO[0m - logging in using static token
2025-08-12 11:43:40 - discord.gateway - [32mINFO[0m - Shard ID None has connected to Gateway (Session ID: 519093e2c43202ec7e9641a45984450a).
2025-08-12 11:43:42 - src.chatbot.discord_bot - [32mINFO[0m - 🤖 Discord Bot Ready!
2025-08-12 11:43:42 - src.chatbot.discord_bot - [32mINFO[0m -    Bot Name: beam_crewai_test
2025-08-12 11:43:42 - src.chatbot.discord_bot - [32mINFO[0m -    Bot ID: 1404665992692502669
2025-08-12 11:43:42 - src.chatbot.discord_bot - [32mINFO[0m -    Servers: 1
2025-08-12 11:43:42 - src.chatbot.discord_bot - [32mINFO[0m -    Users: 1
2025-08-12 11:43:42 - src.chatbot.discord_bot - [32mINFO[0m - 📋 Available Slash Commands:
2025-08-12 11:43:42 - src.chatbot.discord_bot - [32mINFO[0m -    • /financial_help - Show detailed help
2025-08-12 11:43:42 - src.chatbot.discord_bot - [32mINFO[0m -    • /status - Show bot status
2025-08-12 11:43:42 - src.chatbot.discord_bot - [32mINFO[0m -    • /ping - Test bot responsiveness
2025-08-12 11:43:42 - src.chatbot.discord_bot - [32mINFO[0m -    • Send any message for financial advice
2025-08-12 11:43:42 - src.chatbot.discord_bot - [32mINFO[0m - 🔧 Slash Commands Registered: 0
2025-08-12 11:48:27 - __main__ - [32mINFO[0m - 🧹 Cleaning up...
2025-08-12 11:48:27 - src.core.event_bus - [32mINFO[0m - Event bus stopped
2025-08-12 11:48:27 - __main__ - [32mINFO[0m - ✅ Event bus stopped
2025-08-12 11:48:27 - __main__ - [32mINFO[0m - 👋 Discord bot shutdown complete
2025-08-12 11:48:27 - __main__ - [32mINFO[0m - 👋 Discord bot stopped by user
2025-08-12 11:51:48 - __main__ - [31mERROR[0m - ❌ Error starting Discord bot: name 'FinancialDiscordBot' is not defined
2025-08-12 11:51:48 - __main__ - [32mINFO[0m - 🧹 Cleaning up...
2025-08-12 11:51:48 - src.core.event_bus - [32mINFO[0m - Event bus stopped
2025-08-12 11:51:48 - __main__ - [32mINFO[0m - ✅ Event bus stopped
2025-08-12 11:51:48 - __main__ - [32mINFO[0m - 👋 Discord bot shutdown complete
2025-08-12 11:51:48 - __main__ - [31mERROR[0m - ❌ Fatal error: name 'FinancialDiscordBot' is not defined
2025-08-12 11:53:54 - __main__ - [32mINFO[0m - 📡 Initializing core components...
2025-08-12 11:53:54 - src.core.event_bus - [32mINFO[0m - Event bus started
2025-08-12 11:53:54 - __main__ - [32mINFO[0m - ✅ Event bus started
2025-08-12 11:53:54 - __main__ - [32mINFO[0m - ✅ Session manager initialized
2025-08-12 11:53:54 - __main__ - [32mINFO[0m - 🤖 Starting Discord bot...
2025-08-12 11:53:54 - discord.client - [33mWARNING[0m - PyNaCl is not installed, voice will NOT be supported
2025-08-12 11:53:55 - src.core.event_bus - [32mINFO[0m - Subscribed to event type: EventType.CHAT_RESPONSE
2025-08-12 11:53:55 - src.chatbot.discord_bot - [32mINFO[0m - 🚀 Initializing Discord Bot...
2025-08-12 11:53:55 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-12 11:53:55 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Market data agent created successfully
2025-08-12 11:53:55 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent 'MarketDataAgent' initialized successfully
2025-08-12 11:53:55 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent configuration validation passed
2025-08-12 11:53:55 - src.compliance.compliance_rules_engine - [32mINFO[0m - Initialized compliance engine with 16 rules
2025-08-12 11:53:55 - src.compliance.suitability_validation_engine - [32mINFO[0m - Initialized suitability validation engine
2025-08-12 11:53:55 - src.compliance.disclosure_management_system - [32mINFO[0m - Initialized disclosure management system with 10 requirements
2025-08-12 11:53:55 - FinancialCrewOrchestrator - [32mINFO[0m - Created all enhanced specialized agents for financial analysis
2025-08-12 11:53:55 - FinancialCrewOrchestrator - [32mINFO[0m - Created CrewAI crew with all agents
2025-08-12 11:53:55 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Discord Bot initialization completed
2025-08-12 11:53:55 - discord.client - [32mINFO[0m - logging in using static token
2025-08-12 11:53:56 - discord.gateway - [32mINFO[0m - Shard ID None has connected to Gateway (Session ID: 9131b2864689ae31374e88f16d81f099).
2025-08-12 11:53:58 - src.chatbot.discord_bot - [32mINFO[0m - 🤖 Discord Bot Ready!
2025-08-12 11:53:58 - src.chatbot.discord_bot - [32mINFO[0m -    Bot Name: beam_crewai_test
2025-08-12 11:53:58 - src.chatbot.discord_bot - [32mINFO[0m -    Bot ID: 1404665992692502669
2025-08-12 11:53:58 - src.chatbot.discord_bot - [32mINFO[0m -    Servers: 1
2025-08-12 11:53:58 - src.chatbot.discord_bot - [32mINFO[0m -    Users: 1
2025-08-12 11:53:58 - src.chatbot.discord_bot - [32mINFO[0m - 📋 Available Slash Commands:
2025-08-12 11:53:58 - src.chatbot.discord_bot - [32mINFO[0m -    • /financial_help - Show detailed help
2025-08-12 11:53:58 - src.chatbot.discord_bot - [32mINFO[0m -    • /status - Show bot status
2025-08-12 11:53:58 - src.chatbot.discord_bot - [32mINFO[0m -    • /ping - Test bot responsiveness
2025-08-12 11:53:58 - src.chatbot.discord_bot - [32mINFO[0m -    • Send any message for financial advice
2025-08-12 11:53:58 - src.chatbot.discord_bot - [32mINFO[0m - 🔧 Slash Commands Registered: 0
2025-08-12 11:54:07 - __main__ - [32mINFO[0m - 🧹 Cleaning up...
2025-08-12 11:54:07 - src.core.event_bus - [32mINFO[0m - Event bus stopped
2025-08-12 11:54:07 - __main__ - [32mINFO[0m - ✅ Event bus stopped
2025-08-12 11:54:07 - __main__ - [32mINFO[0m - 👋 Discord bot shutdown complete
2025-08-12 11:54:07 - __main__ - [32mINFO[0m - 👋 Discord bot stopped by user
2025-08-12 11:57:05 - __main__ - [32mINFO[0m - 📡 Initializing core components...
2025-08-12 11:57:05 - src.core.event_bus - [32mINFO[0m - Event bus started
2025-08-12 11:57:05 - __main__ - [32mINFO[0m - ✅ Event bus started
2025-08-12 11:57:05 - __main__ - [32mINFO[0m - ✅ Session manager initialized
2025-08-12 11:57:05 - __main__ - [32mINFO[0m - 🤖 Starting Discord bot...
2025-08-12 11:57:05 - discord.client - [33mWARNING[0m - PyNaCl is not installed, voice will NOT be supported
2025-08-12 11:57:05 - src.core.event_bus - [32mINFO[0m - Subscribed to event type: EventType.CHAT_RESPONSE
2025-08-12 11:57:05 - src.chatbot.discord_bot - [32mINFO[0m - 🚀 Initializing Discord Bot...
2025-08-12 11:57:05 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-12 11:57:05 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Market data agent created successfully
2025-08-12 11:57:05 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent 'MarketDataAgent' initialized successfully
2025-08-12 11:57:05 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent configuration validation passed
2025-08-12 11:57:06 - src.compliance.compliance_rules_engine - [32mINFO[0m - Initialized compliance engine with 16 rules
2025-08-12 11:57:06 - src.compliance.suitability_validation_engine - [32mINFO[0m - Initialized suitability validation engine
2025-08-12 11:57:06 - src.compliance.disclosure_management_system - [32mINFO[0m - Initialized disclosure management system with 10 requirements
2025-08-12 11:57:06 - FinancialCrewOrchestrator - [32mINFO[0m - Created all enhanced specialized agents for financial analysis
2025-08-12 11:57:06 - FinancialCrewOrchestrator - [32mINFO[0m - Created CrewAI crew with all agents
2025-08-12 11:57:06 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Discord Bot initialization completed
2025-08-12 11:57:06 - discord.client - [32mINFO[0m - logging in using static token
2025-08-12 11:57:07 - discord.gateway - [32mINFO[0m - Shard ID None has connected to Gateway (Session ID: 775fea54f14a853c2279e48eff400c70).
2025-08-12 11:57:09 - src.chatbot.discord_bot - [32mINFO[0m - 🤖 Discord Bot Ready!
2025-08-12 11:57:09 - src.chatbot.discord_bot - [32mINFO[0m -    Bot Name: beam_crewai_test
2025-08-12 11:57:09 - src.chatbot.discord_bot - [32mINFO[0m -    Bot ID: 1404665992692502669
2025-08-12 11:57:09 - src.chatbot.discord_bot - [32mINFO[0m -    Servers: 1
2025-08-12 11:57:09 - src.chatbot.discord_bot - [32mINFO[0m -    Users: 1
2025-08-12 11:57:09 - src.chatbot.discord_bot - [32mINFO[0m - 📋 Available Slash Commands:
2025-08-12 11:57:09 - src.chatbot.discord_bot - [32mINFO[0m -    • /financial_help - Show detailed help
2025-08-12 11:57:09 - src.chatbot.discord_bot - [32mINFO[0m -    • /status - Show bot status
2025-08-12 11:57:09 - src.chatbot.discord_bot - [32mINFO[0m -    • /ping - Test bot responsiveness
2025-08-12 11:57:09 - src.chatbot.discord_bot - [32mINFO[0m -    • Send any message for financial advice
2025-08-12 11:57:09 - src.chatbot.discord_bot - [32mINFO[0m - 🔧 Slash Commands Registered: 0
2025-08-12 11:57:15 - __main__ - [32mINFO[0m - 🧹 Cleaning up...
2025-08-12 11:57:15 - src.core.event_bus - [32mINFO[0m - Event bus stopped
2025-08-12 11:57:15 - __main__ - [32mINFO[0m - ✅ Event bus stopped
2025-08-12 11:57:15 - __main__ - [32mINFO[0m - 👋 Discord bot shutdown complete
2025-08-12 11:57:15 - __main__ - [32mINFO[0m - 👋 Discord bot stopped by user
2025-08-12 12:00:46 - __main__ - [32mINFO[0m - 📡 Initializing core components...
2025-08-12 12:00:46 - src.core.event_bus - [32mINFO[0m - Event bus started
2025-08-12 12:00:46 - __main__ - [32mINFO[0m - ✅ Event bus started
2025-08-12 12:00:46 - __main__ - [32mINFO[0m - ✅ Session manager initialized
2025-08-12 12:00:46 - __main__ - [32mINFO[0m - 🤖 Starting Discord bot...
2025-08-12 12:00:46 - discord.client - [33mWARNING[0m - PyNaCl is not installed, voice will NOT be supported
2025-08-12 12:00:46 - src.core.event_bus - [32mINFO[0m - Subscribed to event type: EventType.CHAT_RESPONSE
2025-08-12 12:00:46 - src.chatbot.discord_bot - [32mINFO[0m - 🚀 Initializing Discord Bot...
2025-08-12 12:00:46 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-12 12:00:46 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Market data agent created successfully
2025-08-12 12:00:46 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent 'MarketDataAgent' initialized successfully
2025-08-12 12:00:46 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent configuration validation passed
2025-08-12 12:00:46 - src.compliance.compliance_rules_engine - [32mINFO[0m - Initialized compliance engine with 16 rules
2025-08-12 12:00:46 - src.compliance.suitability_validation_engine - [32mINFO[0m - Initialized suitability validation engine
2025-08-12 12:00:46 - src.compliance.disclosure_management_system - [32mINFO[0m - Initialized disclosure management system with 10 requirements
2025-08-12 12:00:46 - FinancialCrewOrchestrator - [32mINFO[0m - Created all enhanced specialized agents for financial analysis
2025-08-12 12:00:46 - FinancialCrewOrchestrator - [32mINFO[0m - Created CrewAI crew with all agents
2025-08-12 12:00:46 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Discord Bot initialization completed
2025-08-12 12:00:46 - discord.client - [32mINFO[0m - logging in using static token
2025-08-12 12:00:47 - discord.gateway - [32mINFO[0m - Shard ID None has connected to Gateway (Session ID: 2fdda8f4bec9a62888876efe5306d128).
2025-08-12 12:00:49 - src.chatbot.discord_bot - [32mINFO[0m - 🤖 Discord Bot Ready!
2025-08-12 12:00:49 - src.chatbot.discord_bot - [32mINFO[0m -    Bot Name: beam_crewai_test
2025-08-12 12:00:49 - src.chatbot.discord_bot - [32mINFO[0m -    Bot ID: 1404665992692502669
2025-08-12 12:00:49 - src.chatbot.discord_bot - [32mINFO[0m -    Servers: 1
2025-08-12 12:00:49 - src.chatbot.discord_bot - [32mINFO[0m -    Users: 1
2025-08-12 12:00:49 - src.chatbot.discord_bot - [32mINFO[0m - 📋 Available Slash Commands:
2025-08-12 12:00:49 - src.chatbot.discord_bot - [32mINFO[0m -    • /financial_help - Show detailed help
2025-08-12 12:00:49 - src.chatbot.discord_bot - [32mINFO[0m -    • /status - Show bot status
2025-08-12 12:00:49 - src.chatbot.discord_bot - [32mINFO[0m -    • /ping - Test bot responsiveness
2025-08-12 12:00:49 - src.chatbot.discord_bot - [32mINFO[0m -    • Send any message for financial advice
2025-08-12 12:00:49 - src.chatbot.discord_bot - [32mINFO[0m - 🔧 Slash Commands Registered: 0
2025-08-12 12:00:55 - __main__ - [32mINFO[0m - 🧹 Cleaning up...
2025-08-12 12:00:55 - src.core.event_bus - [32mINFO[0m - Event bus stopped
2025-08-12 12:00:55 - __main__ - [32mINFO[0m - ✅ Event bus stopped
2025-08-12 12:00:55 - __main__ - [32mINFO[0m - 👋 Discord bot shutdown complete
2025-08-12 12:00:56 - __main__ - [32mINFO[0m - 👋 Discord bot stopped by user
2025-08-12 12:03:18 - __main__ - [32mINFO[0m - 📡 Initializing core components...
2025-08-12 12:03:18 - src.core.event_bus - [32mINFO[0m - Event bus started
2025-08-12 12:03:18 - __main__ - [32mINFO[0m - ✅ Event bus started
2025-08-12 12:03:18 - __main__ - [32mINFO[0m - ✅ Session manager initialized
2025-08-12 12:03:18 - __main__ - [32mINFO[0m - 🤖 Starting Discord bot...
2025-08-12 12:03:18 - discord.client - [33mWARNING[0m - PyNaCl is not installed, voice will NOT be supported
2025-08-12 12:03:18 - src.core.event_bus - [32mINFO[0m - Subscribed to event type: EventType.CHAT_RESPONSE
2025-08-12 12:03:18 - src.chatbot.discord_bot - [32mINFO[0m - 🚀 Initializing Discord Bot...
2025-08-12 12:03:18 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-12 12:03:18 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Market data agent created successfully
2025-08-12 12:03:18 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent 'MarketDataAgent' initialized successfully
2025-08-12 12:03:18 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent configuration validation passed
2025-08-12 12:03:18 - src.compliance.compliance_rules_engine - [32mINFO[0m - Initialized compliance engine with 16 rules
2025-08-12 12:03:18 - src.compliance.suitability_validation_engine - [32mINFO[0m - Initialized suitability validation engine
2025-08-12 12:03:18 - src.compliance.disclosure_management_system - [32mINFO[0m - Initialized disclosure management system with 10 requirements
2025-08-12 12:03:18 - FinancialCrewOrchestrator - [32mINFO[0m - Created all enhanced specialized agents for financial analysis
2025-08-12 12:03:18 - FinancialCrewOrchestrator - [32mINFO[0m - Created CrewAI crew with all agents
2025-08-12 12:03:18 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Discord Bot initialization completed
2025-08-12 12:03:18 - discord.client - [32mINFO[0m - logging in using static token
2025-08-12 12:03:20 - discord.gateway - [32mINFO[0m - Shard ID None has connected to Gateway (Session ID: df1312c83b35747c10d01cc0e26c0668).
2025-08-12 12:03:22 - src.chatbot.discord_bot - [32mINFO[0m - 🤖 Discord Bot Ready!
2025-08-12 12:03:22 - src.chatbot.discord_bot - [32mINFO[0m -    Bot Name: beam_crewai_test
2025-08-12 12:03:22 - src.chatbot.discord_bot - [32mINFO[0m -    Bot ID: 1404665992692502669
2025-08-12 12:03:22 - src.chatbot.discord_bot - [32mINFO[0m -    Servers: 1
2025-08-12 12:03:22 - src.chatbot.discord_bot - [32mINFO[0m -    Users: 1
2025-08-12 12:03:22 - src.chatbot.discord_bot - [32mINFO[0m - 📋 Available Slash Commands:
2025-08-12 12:03:22 - src.chatbot.discord_bot - [32mINFO[0m -    • /financial_help - Show detailed help
2025-08-12 12:03:22 - src.chatbot.discord_bot - [32mINFO[0m -    • /status - Show bot status
2025-08-12 12:03:22 - src.chatbot.discord_bot - [32mINFO[0m -    • /ping - Test bot responsiveness
2025-08-12 12:03:22 - src.chatbot.discord_bot - [32mINFO[0m -    • Send any message for financial advice
2025-08-12 12:03:22 - src.chatbot.discord_bot - [32mINFO[0m - 🔧 Slash Commands Registered: 0
2025-08-12 12:03:28 - __main__ - [32mINFO[0m - 🧹 Cleaning up...
2025-08-12 12:03:28 - src.core.event_bus - [32mINFO[0m - Event bus stopped
2025-08-12 12:03:28 - __main__ - [32mINFO[0m - ✅ Event bus stopped
2025-08-12 12:03:28 - __main__ - [32mINFO[0m - 👋 Discord bot shutdown complete
2025-08-12 12:03:28 - __main__ - [32mINFO[0m - 👋 Discord bot stopped by user
2025-08-12 12:06:03 - __main__ - [32mINFO[0m - 📡 Initializing core components...
2025-08-12 12:06:03 - src.core.event_bus - [32mINFO[0m - Event bus started
2025-08-12 12:06:03 - __main__ - [32mINFO[0m - ✅ Event bus started
2025-08-12 12:06:03 - __main__ - [32mINFO[0m - ✅ Session manager initialized
2025-08-12 12:06:03 - __main__ - [32mINFO[0m - 🤖 Starting Discord bot...
2025-08-12 12:06:03 - discord.client - [33mWARNING[0m - PyNaCl is not installed, voice will NOT be supported
2025-08-12 12:06:03 - src.core.event_bus - [32mINFO[0m - Subscribed to event type: EventType.CHAT_RESPONSE
2025-08-12 12:06:03 - src.chatbot.discord_bot - [32mINFO[0m - 🚀 Initializing Discord Bot...
2025-08-12 12:06:03 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-12 12:06:03 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Market data agent created successfully
2025-08-12 12:06:03 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent 'MarketDataAgent' initialized successfully
2025-08-12 12:06:03 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent configuration validation passed
2025-08-12 12:06:04 - src.compliance.compliance_rules_engine - [32mINFO[0m - Initialized compliance engine with 16 rules
2025-08-12 12:06:04 - src.compliance.suitability_validation_engine - [32mINFO[0m - Initialized suitability validation engine
2025-08-12 12:06:04 - src.compliance.disclosure_management_system - [32mINFO[0m - Initialized disclosure management system with 10 requirements
2025-08-12 12:06:04 - FinancialCrewOrchestrator - [32mINFO[0m - Created all enhanced specialized agents for financial analysis
2025-08-12 12:06:04 - FinancialCrewOrchestrator - [32mINFO[0m - Created CrewAI crew with all agents
2025-08-12 12:06:04 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Discord Bot initialization completed
2025-08-12 12:06:04 - discord.client - [32mINFO[0m - logging in using static token
2025-08-12 12:06:05 - discord.gateway - [32mINFO[0m - Shard ID None has connected to Gateway (Session ID: 044ff83f92fd9413e5db0c633718e1c6).
2025-08-12 12:06:07 - src.chatbot.discord_bot - [32mINFO[0m - 🤖 Discord Bot Ready!
2025-08-12 12:06:07 - src.chatbot.discord_bot - [32mINFO[0m -    Bot Name: beam_crewai_test
2025-08-12 12:06:07 - src.chatbot.discord_bot - [32mINFO[0m -    Bot ID: 1404665992692502669
2025-08-12 12:06:07 - src.chatbot.discord_bot - [32mINFO[0m -    Servers: 1
2025-08-12 12:06:07 - src.chatbot.discord_bot - [32mINFO[0m -    Users: 1
2025-08-12 12:06:07 - src.chatbot.discord_bot - [32mINFO[0m - 📋 Available Slash Commands:
2025-08-12 12:06:07 - src.chatbot.discord_bot - [32mINFO[0m -    • /financial_help - Show detailed help
2025-08-12 12:06:07 - src.chatbot.discord_bot - [32mINFO[0m -    • /status - Show bot status
2025-08-12 12:06:07 - src.chatbot.discord_bot - [32mINFO[0m -    • /ping - Test bot responsiveness
2025-08-12 12:06:07 - src.chatbot.discord_bot - [32mINFO[0m -    • Send any message for financial advice
2025-08-12 12:06:07 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Starting command registration process...
2025-08-12 12:06:07 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Initial tree commands count: 0
2025-08-12 12:06:07 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Created callback functions, now creating command objects...
2025-08-12 12:06:07 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Created command objects, now adding to tree...
2025-08-12 12:06:07 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Commands to add: ['financial_help', 'status', 'ping', 'history', 'clear_history']
2025-08-12 12:06:07 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Added financial_help_cmd
2025-08-12 12:06:07 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Tree commands count after financial_help: 1
2025-08-12 12:06:07 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Added status_cmd
2025-08-12 12:06:07 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Tree commands count after status: 2
2025-08-12 12:06:07 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Added ping_cmd
2025-08-12 12:06:07 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Tree commands count after ping: 3
2025-08-12 12:06:07 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Added history_cmd
2025-08-12 12:06:07 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Tree commands count after history: 4
2025-08-12 12:06:07 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Added clear_history_cmd
2025-08-12 12:06:07 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Tree commands count after clear_history: 5
2025-08-12 12:06:07 - src.chatbot.discord_bot - [32mINFO[0m - 🔧 Final Slash Commands Registered: 5
2025-08-12 12:06:07 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Command in tree: /financial_help - Show detailed help for financial commands
2025-08-12 12:06:07 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Command in tree: /status - Show bot status and health information
2025-08-12 12:06:07 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Command in tree: /ping - Test bot responsiveness
2025-08-12 12:06:07 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Command in tree: /history - Show your conversation history
2025-08-12 12:06:07 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Command in tree: /clear_history - Clear your conversation history
2025-08-12 12:06:07 - src.chatbot.discord_bot - [32mINFO[0m - 🔄 Syncing slash commands with Discord...
2025-08-12 12:06:08 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Synced 5 command(s) with Discord
2025-08-12 12:06:08 - src.chatbot.discord_bot - [32mINFO[0m -   - /financial_help: Show detailed help for financial commands
2025-08-12 12:06:08 - src.chatbot.discord_bot - [32mINFO[0m -   - /status: Show bot status and health information
2025-08-12 12:06:08 - src.chatbot.discord_bot - [32mINFO[0m -   - /ping: Test bot responsiveness
2025-08-12 12:06:08 - src.chatbot.discord_bot - [32mINFO[0m -   - /history: Show your conversation history
2025-08-12 12:06:08 - src.chatbot.discord_bot - [32mINFO[0m -   - /clear_history: Clear your conversation history
2025-08-12 12:07:37 - __main__ - [32mINFO[0m - 🧹 Cleaning up...
2025-08-12 12:07:37 - src.core.event_bus - [32mINFO[0m - Event bus stopped
2025-08-12 12:07:37 - __main__ - [32mINFO[0m - ✅ Event bus stopped
2025-08-12 12:07:37 - __main__ - [32mINFO[0m - 👋 Discord bot shutdown complete
2025-08-12 12:07:37 - __main__ - [32mINFO[0m - 👋 Discord bot stopped by user
2025-08-12 12:10:32 - __main__ - [32mINFO[0m - 📡 Initializing core components...
2025-08-12 12:10:32 - src.core.event_bus - [32mINFO[0m - Event bus started
2025-08-12 12:10:32 - __main__ - [32mINFO[0m - ✅ Event bus started
2025-08-12 12:10:32 - __main__ - [32mINFO[0m - ✅ Session manager initialized
2025-08-12 12:10:32 - __main__ - [32mINFO[0m - 🤖 Starting Discord bot...
2025-08-12 12:10:32 - discord.client - [33mWARNING[0m - PyNaCl is not installed, voice will NOT be supported
2025-08-12 12:10:32 - src.core.event_bus - [32mINFO[0m - Subscribed to event type: EventType.CHAT_RESPONSE
2025-08-12 12:10:32 - src.chatbot.discord_bot - [32mINFO[0m - 🚀 Initializing Discord Bot...
2025-08-12 12:10:32 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-12 12:10:32 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Market data agent created successfully
2025-08-12 12:10:32 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent 'MarketDataAgent' initialized successfully
2025-08-12 12:10:32 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent configuration validation passed
2025-08-12 12:10:32 - src.compliance.compliance_rules_engine - [32mINFO[0m - Initialized compliance engine with 16 rules
2025-08-12 12:10:32 - src.compliance.suitability_validation_engine - [32mINFO[0m - Initialized suitability validation engine
2025-08-12 12:10:32 - src.compliance.disclosure_management_system - [32mINFO[0m - Initialized disclosure management system with 10 requirements
2025-08-12 12:10:32 - FinancialCrewOrchestrator - [32mINFO[0m - Created all enhanced specialized agents for financial analysis
2025-08-12 12:10:32 - FinancialCrewOrchestrator - [32mINFO[0m - Created CrewAI crew with all agents
2025-08-12 12:10:32 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Discord Bot initialization completed
2025-08-12 12:10:32 - discord.client - [32mINFO[0m - logging in using static token
2025-08-12 12:10:33 - discord.gateway - [32mINFO[0m - Shard ID None has connected to Gateway (Session ID: edac52c87104dbfa6af0c24cbf15581b).
2025-08-12 12:10:35 - src.chatbot.discord_bot - [32mINFO[0m - 🤖 Discord Bot Ready!
2025-08-12 12:10:35 - src.chatbot.discord_bot - [32mINFO[0m -    Bot Name: beam_crewai_test
2025-08-12 12:10:35 - src.chatbot.discord_bot - [32mINFO[0m -    Bot ID: 1404665992692502669
2025-08-12 12:10:35 - src.chatbot.discord_bot - [32mINFO[0m -    Servers: 1
2025-08-12 12:10:35 - src.chatbot.discord_bot - [32mINFO[0m -    Users: 1
2025-08-12 12:10:36 - src.chatbot.discord_bot - [32mINFO[0m - 📋 Available Slash Commands:
2025-08-12 12:10:36 - src.chatbot.discord_bot - [32mINFO[0m -    • /financial_help - Show detailed help
2025-08-12 12:10:36 - src.chatbot.discord_bot - [32mINFO[0m -    • /status - Show bot status
2025-08-12 12:10:36 - src.chatbot.discord_bot - [32mINFO[0m -    • /ping - Test bot responsiveness
2025-08-12 12:10:36 - src.chatbot.discord_bot - [32mINFO[0m -    • Send any message for financial advice
2025-08-12 12:10:36 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Starting command registration process...
2025-08-12 12:10:36 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Initial tree commands count: 0
2025-08-12 12:10:36 - src.chatbot.discord_bot - [32mINFO[0m - 🔧 Final Slash Commands Registered: 0
2025-08-12 12:10:36 - src.chatbot.discord_bot - [33mWARNING[0m - ⚠️ No commands were added to the tree!
2025-08-12 12:10:36 - src.chatbot.discord_bot - [32mINFO[0m - 🔄 Syncing slash commands with Discord...
2025-08-12 12:10:36 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Synced 0 command(s) with Discord
2025-08-12 12:14:22 - __main__ - [32mINFO[0m - 🧹 Cleaning up...
2025-08-12 12:14:22 - src.core.event_bus - [32mINFO[0m - Event bus stopped
2025-08-12 12:14:22 - __main__ - [32mINFO[0m - ✅ Event bus stopped
2025-08-12 12:14:22 - __main__ - [32mINFO[0m - 👋 Discord bot shutdown complete
2025-08-12 12:14:22 - __main__ - [32mINFO[0m - 👋 Discord bot stopped by user
2025-08-12 12:16:33 - __main__ - [32mINFO[0m - 📡 Initializing core components...
2025-08-12 12:16:33 - src.core.event_bus - [32mINFO[0m - Event bus started
2025-08-12 12:16:33 - __main__ - [32mINFO[0m - ✅ Event bus started
2025-08-12 12:16:33 - __main__ - [32mINFO[0m - ✅ Session manager initialized
2025-08-12 12:16:33 - __main__ - [32mINFO[0m - 🤖 Starting Discord bot...
2025-08-12 12:16:33 - discord.client - [33mWARNING[0m - PyNaCl is not installed, voice will NOT be supported
2025-08-12 12:16:33 - src.core.event_bus - [32mINFO[0m - Subscribed to event type: EventType.CHAT_RESPONSE
2025-08-12 12:16:33 - src.chatbot.discord_bot - [32mINFO[0m - 🚀 Initializing Discord Bot...
2025-08-12 12:16:33 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-12 12:16:33 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Market data agent created successfully
2025-08-12 12:16:33 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent 'MarketDataAgent' initialized successfully
2025-08-12 12:16:33 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent configuration validation passed
2025-08-12 12:16:33 - src.compliance.compliance_rules_engine - [32mINFO[0m - Initialized compliance engine with 16 rules
2025-08-12 12:16:33 - src.compliance.suitability_validation_engine - [32mINFO[0m - Initialized suitability validation engine
2025-08-12 12:16:33 - src.compliance.disclosure_management_system - [32mINFO[0m - Initialized disclosure management system with 10 requirements
2025-08-12 12:16:33 - FinancialCrewOrchestrator - [32mINFO[0m - Created all enhanced specialized agents for financial analysis
2025-08-12 12:16:33 - FinancialCrewOrchestrator - [32mINFO[0m - Created CrewAI crew with all agents
2025-08-12 12:16:33 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Discord Bot initialization completed
2025-08-12 12:16:33 - discord.client - [32mINFO[0m - logging in using static token
2025-08-12 12:16:35 - discord.gateway - [32mINFO[0m - Shard ID None has connected to Gateway (Session ID: 9b6ae4643719826c32b568dfdf30a330).
2025-08-12 12:16:37 - src.chatbot.discord_bot - [32mINFO[0m - 🤖 Discord Bot Ready!
2025-08-12 12:16:37 - src.chatbot.discord_bot - [32mINFO[0m -    Bot Name: beam_crewai_test
2025-08-12 12:16:37 - src.chatbot.discord_bot - [32mINFO[0m -    Bot ID: 1404665992692502669
2025-08-12 12:16:37 - src.chatbot.discord_bot - [32mINFO[0m -    Servers: 1
2025-08-12 12:16:37 - src.chatbot.discord_bot - [32mINFO[0m -    Users: 1
2025-08-12 12:16:37 - src.chatbot.discord_bot - [32mINFO[0m - 📋 Available Slash Commands:
2025-08-12 12:16:37 - src.chatbot.discord_bot - [32mINFO[0m -    • /financial help - Show detailed help
2025-08-12 12:16:37 - src.chatbot.discord_bot - [32mINFO[0m -    • /financial status - Show bot status
2025-08-12 12:16:37 - src.chatbot.discord_bot - [32mINFO[0m -    • /financial ping - Test bot responsiveness
2025-08-12 12:16:37 - src.chatbot.discord_bot - [32mINFO[0m -    • Send any message for financial advice
2025-08-12 12:16:37 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Starting command registration process...
2025-08-12 12:16:37 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Initial tree commands count: 0
2025-08-12 12:16:37 - src.chatbot.discord_bot - [32mINFO[0m - 🔧 Final Slash Commands Registered: 1
2025-08-12 12:16:37 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Command in tree: /financial - Financial bot commands
2025-08-12 12:16:37 - src.chatbot.discord_bot - [32mINFO[0m - 🔄 Syncing slash commands with Discord...
2025-08-12 12:16:37 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Synced 1 command(s) with Discord
2025-08-12 12:16:37 - src.chatbot.discord_bot - [32mINFO[0m -   - /financial: Financial bot commands
2025-08-12 12:17:55 - __main__ - [32mINFO[0m - 🧹 Cleaning up...
2025-08-12 12:17:55 - src.core.event_bus - [32mINFO[0m - Event bus stopped
2025-08-12 12:17:55 - __main__ - [32mINFO[0m - ✅ Event bus stopped
2025-08-12 12:17:55 - __main__ - [32mINFO[0m - 👋 Discord bot shutdown complete
2025-08-12 12:17:55 - __main__ - [32mINFO[0m - 👋 Discord bot stopped by user
2025-08-12 12:21:00 - __main__ - [32mINFO[0m - 📡 Initializing core components...
2025-08-12 12:21:00 - src.core.event_bus - [32mINFO[0m - Event bus started
2025-08-12 12:21:00 - __main__ - [32mINFO[0m - ✅ Event bus started
2025-08-12 12:21:00 - __main__ - [32mINFO[0m - ✅ Session manager initialized
2025-08-12 12:21:00 - __main__ - [32mINFO[0m - 🤖 Starting Discord bot...
2025-08-12 12:21:00 - discord.client - [33mWARNING[0m - PyNaCl is not installed, voice will NOT be supported
2025-08-12 12:21:00 - src.core.event_bus - [32mINFO[0m - Subscribed to event type: EventType.CHAT_RESPONSE
2025-08-12 12:21:00 - src.chatbot.discord_bot - [32mINFO[0m - 🚀 Initializing Discord Bot...
2025-08-12 12:21:00 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-12 12:21:00 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Market data agent created successfully
2025-08-12 12:21:00 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent 'MarketDataAgent' initialized successfully
2025-08-12 12:21:00 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent configuration validation passed
2025-08-12 12:21:00 - src.compliance.compliance_rules_engine - [32mINFO[0m - Initialized compliance engine with 16 rules
2025-08-12 12:21:00 - src.compliance.suitability_validation_engine - [32mINFO[0m - Initialized suitability validation engine
2025-08-12 12:21:00 - src.compliance.disclosure_management_system - [32mINFO[0m - Initialized disclosure management system with 10 requirements
2025-08-12 12:21:00 - FinancialCrewOrchestrator - [32mINFO[0m - Created all enhanced specialized agents for financial analysis
2025-08-12 12:21:00 - FinancialCrewOrchestrator - [32mINFO[0m - Created CrewAI crew with all agents
2025-08-12 12:21:00 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Discord Bot initialization completed
2025-08-12 12:21:00 - discord.client - [32mINFO[0m - logging in using static token
2025-08-12 12:21:02 - discord.gateway - [32mINFO[0m - Shard ID None has connected to Gateway (Session ID: e075def35351f98eebd9dbac616b530f).
2025-08-12 12:21:04 - src.chatbot.discord_bot - [32mINFO[0m - 🤖 Discord Bot Ready!
2025-08-12 12:21:04 - src.chatbot.discord_bot - [32mINFO[0m -    Bot Name: beam_crewai_test
2025-08-12 12:21:04 - src.chatbot.discord_bot - [32mINFO[0m -    Bot ID: 1404665992692502669
2025-08-12 12:21:04 - src.chatbot.discord_bot - [32mINFO[0m -    Servers: 1
2025-08-12 12:21:04 - src.chatbot.discord_bot - [32mINFO[0m -    Users: 1
2025-08-12 12:21:04 - src.chatbot.discord_bot - [32mINFO[0m - 📋 Available Slash Commands:
2025-08-12 12:21:04 - src.chatbot.discord_bot - [32mINFO[0m -    • /help - Show detailed help
2025-08-12 12:21:04 - src.chatbot.discord_bot - [32mINFO[0m -    • /status - Show bot status
2025-08-12 12:21:04 - src.chatbot.discord_bot - [32mINFO[0m -    • /ping - Test bot responsiveness
2025-08-12 12:21:04 - src.chatbot.discord_bot - [32mINFO[0m -    • Send any message for financial advice
2025-08-12 12:21:04 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Starting command registration process...
2025-08-12 12:21:04 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Initial tree commands count: 0
2025-08-12 12:21:04 - src.chatbot.discord_bot - [32mINFO[0m - 🔧 Final Slash Commands Registered: 5
2025-08-12 12:21:04 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Command in tree: /help - Show detailed help for financial commands
2025-08-12 12:21:04 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Command in tree: /status - Show bot status and health information
2025-08-12 12:21:04 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Command in tree: /ping - Test bot responsiveness
2025-08-12 12:21:04 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Command in tree: /history - Show your conversation history
2025-08-12 12:21:04 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Command in tree: /clear_history - Clear your conversation history
2025-08-12 12:21:04 - src.chatbot.discord_bot - [32mINFO[0m - 🔄 Syncing slash commands with Discord...
2025-08-12 12:21:05 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Synced 5 command(s) with Discord
2025-08-12 12:21:05 - src.chatbot.discord_bot - [32mINFO[0m -   - /help: Show detailed help for financial commands
2025-08-12 12:21:05 - src.chatbot.discord_bot - [32mINFO[0m -   - /status: Show bot status and health information
2025-08-12 12:21:05 - src.chatbot.discord_bot - [32mINFO[0m -   - /ping: Test bot responsiveness
2025-08-12 12:21:05 - src.chatbot.discord_bot - [32mINFO[0m -   - /history: Show your conversation history
2025-08-12 12:21:05 - src.chatbot.discord_bot - [32mINFO[0m -   - /clear_history: Clear your conversation history
2025-08-12 12:24:13 - __main__ - [32mINFO[0m - 🧹 Cleaning up...
2025-08-12 12:24:13 - src.core.event_bus - [32mINFO[0m - Event bus stopped
2025-08-12 12:24:13 - __main__ - [32mINFO[0m - ✅ Event bus stopped
2025-08-12 12:24:13 - __main__ - [32mINFO[0m - 👋 Discord bot shutdown complete
2025-08-12 12:24:13 - __main__ - [32mINFO[0m - 👋 Discord bot stopped by user
2025-08-12 12:28:45 - __main__ - [32mINFO[0m - 📡 Initializing core components...
2025-08-12 12:28:45 - src.core.event_bus - [32mINFO[0m - Event bus started
2025-08-12 12:28:45 - __main__ - [32mINFO[0m - ✅ Event bus started
2025-08-12 12:28:45 - __main__ - [32mINFO[0m - ✅ Session manager initialized
2025-08-12 12:28:45 - __main__ - [32mINFO[0m - 🤖 Starting Discord bot...
2025-08-12 12:28:45 - discord.client - [33mWARNING[0m - PyNaCl is not installed, voice will NOT be supported
2025-08-12 12:28:45 - src.core.event_bus - [32mINFO[0m - Subscribed to event type: EventType.CHAT_RESPONSE
2025-08-12 12:28:45 - src.chatbot.discord_bot - [32mINFO[0m - 🚀 Initializing Discord Bot...
2025-08-12 12:28:45 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-12 12:28:45 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Market data agent created successfully
2025-08-12 12:28:45 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent 'MarketDataAgent' initialized successfully
2025-08-12 12:28:45 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent configuration validation passed
2025-08-12 12:28:45 - src.compliance.compliance_rules_engine - [32mINFO[0m - Initialized compliance engine with 16 rules
2025-08-12 12:28:45 - src.compliance.suitability_validation_engine - [32mINFO[0m - Initialized suitability validation engine
2025-08-12 12:28:45 - src.compliance.disclosure_management_system - [32mINFO[0m - Initialized disclosure management system with 10 requirements
2025-08-12 12:28:45 - FinancialCrewOrchestrator - [32mINFO[0m - Created all enhanced specialized agents for financial analysis
2025-08-12 12:28:45 - FinancialCrewOrchestrator - [32mINFO[0m - Created CrewAI crew with all agents
2025-08-12 12:28:45 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Discord Bot initialization completed
2025-08-12 12:28:45 - discord.client - [32mINFO[0m - logging in using static token
2025-08-12 12:28:47 - discord.gateway - [32mINFO[0m - Shard ID None has connected to Gateway (Session ID: 15582d2650031caeaf944fe48771937c).
2025-08-12 12:28:49 - src.chatbot.discord_bot - [32mINFO[0m - 🤖 Discord Bot Ready!
2025-08-12 12:28:49 - src.chatbot.discord_bot - [32mINFO[0m -    Bot Name: beam_crewai_test
2025-08-12 12:28:49 - src.chatbot.discord_bot - [32mINFO[0m -    Bot ID: 1404665992692502669
2025-08-12 12:28:49 - src.chatbot.discord_bot - [32mINFO[0m -    Servers: 1
2025-08-12 12:28:49 - src.chatbot.discord_bot - [32mINFO[0m -    Users: 1
2025-08-12 12:28:49 - src.chatbot.discord_bot - [32mINFO[0m - 📋 Available Commands:
2025-08-12 12:28:49 - src.chatbot.discord_bot - [32mINFO[0m -    • /help or !help - Show detailed help
2025-08-12 12:28:49 - src.chatbot.discord_bot - [32mINFO[0m -    • /status or !status - Show bot status
2025-08-12 12:28:49 - src.chatbot.discord_bot - [32mINFO[0m -    • /ping or !ping - Test bot responsiveness
2025-08-12 12:28:49 - src.chatbot.discord_bot - [32mINFO[0m -    • Send any message for financial advice
2025-08-12 12:28:49 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Starting command registration process...
2025-08-12 12:28:49 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Initial tree commands count: 0
2025-08-12 12:28:49 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Slash commands registered successfully
2025-08-12 12:28:49 - src.chatbot.discord_bot - [31mERROR[0m - ❌ Failed to register commands: The command help is already an existing command or alias.
2025-08-12 12:28:49 - src.chatbot.discord_bot - [31mERROR[0m - Full error: Traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 706, in _register_commands
    @self.command(name="help")
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\ext\commands\core.py", line 1521, in decorator
    self.add_command(result)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\ext\commands\bot.py", line 253, in add_command
    super().add_command(command)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\ext\commands\core.py", line 1356, in add_command
    raise CommandRegistrationError(command.name)
discord.ext.commands.errors.CommandRegistrationError: The command help is already an existing command or alias.

2025-08-12 12:28:49 - src.chatbot.discord_bot - [32mINFO[0m - 🔄 Syncing slash commands with Discord...
2025-08-12 12:28:49 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Synced 5 command(s) with Discord
2025-08-12 12:28:49 - src.chatbot.discord_bot - [32mINFO[0m -   - /help: Show detailed help
2025-08-12 12:28:49 - src.chatbot.discord_bot - [32mINFO[0m -   - /status: Show bot status
2025-08-12 12:28:49 - src.chatbot.discord_bot - [32mINFO[0m -   - /ping: Test bot responsiveness
2025-08-12 12:28:49 - src.chatbot.discord_bot - [32mINFO[0m -   - /history: Show conversation history
2025-08-12 12:28:49 - src.chatbot.discord_bot - [32mINFO[0m -   - /clear_history: Clear conversation history
2025-08-12 12:39:29 - __main__ - [32mINFO[0m - 🧹 Cleaning up...
2025-08-12 12:39:29 - src.core.event_bus - [32mINFO[0m - Event bus stopped
2025-08-12 12:39:29 - __main__ - [32mINFO[0m - ✅ Event bus stopped
2025-08-12 12:39:29 - __main__ - [32mINFO[0m - 👋 Discord bot shutdown complete
2025-08-12 12:39:30 - __main__ - [32mINFO[0m - 👋 Discord bot stopped by user
2025-08-12 12:44:53 - __main__ - [32mINFO[0m - 📡 Initializing core components...
2025-08-12 12:44:53 - src.core.event_bus - [32mINFO[0m - Event bus started
2025-08-12 12:44:53 - __main__ - [32mINFO[0m - ✅ Event bus started
2025-08-12 12:44:53 - __main__ - [32mINFO[0m - ✅ Session manager initialized
2025-08-12 12:44:53 - __main__ - [32mINFO[0m - 🤖 Starting Discord bot...
2025-08-12 12:44:53 - discord.client - [33mWARNING[0m - PyNaCl is not installed, voice will NOT be supported
2025-08-12 12:44:53 - src.core.event_bus - [32mINFO[0m - Subscribed to event type: EventType.CHAT_RESPONSE
2025-08-12 12:44:53 - src.chatbot.discord_bot - [32mINFO[0m - 🚀 Initializing Discord Bot...
2025-08-12 12:44:53 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-12 12:44:53 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Market data agent created successfully
2025-08-12 12:44:53 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent 'MarketDataAgent' initialized successfully
2025-08-12 12:44:53 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent configuration validation passed
2025-08-12 12:44:53 - src.compliance.compliance_rules_engine - [32mINFO[0m - Initialized compliance engine with 16 rules
2025-08-12 12:44:53 - src.compliance.suitability_validation_engine - [32mINFO[0m - Initialized suitability validation engine
2025-08-12 12:44:53 - src.compliance.disclosure_management_system - [32mINFO[0m - Initialized disclosure management system with 10 requirements
2025-08-12 12:44:53 - FinancialCrewOrchestrator - [32mINFO[0m - Created all enhanced specialized agents for financial analysis
2025-08-12 12:44:54 - FinancialCrewOrchestrator - [32mINFO[0m - Created CrewAI crew with all agents
2025-08-12 12:44:54 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Discord Bot initialization completed
2025-08-12 12:44:54 - discord.client - [32mINFO[0m - logging in using static token
2025-08-12 12:44:55 - discord.gateway - [32mINFO[0m - Shard ID None has connected to Gateway (Session ID: 003ce4099883bff8657c1f8958de26cd).
2025-08-12 12:44:57 - src.chatbot.discord_bot - [32mINFO[0m - 🤖 Discord Bot Ready!
2025-08-12 12:44:57 - src.chatbot.discord_bot - [32mINFO[0m -    Bot Name: beam_crewai_test
2025-08-12 12:44:57 - src.chatbot.discord_bot - [32mINFO[0m -    Bot ID: 1404665992692502669
2025-08-12 12:44:57 - src.chatbot.discord_bot - [32mINFO[0m -    Servers: 1
2025-08-12 12:44:57 - src.chatbot.discord_bot - [32mINFO[0m -    Users: 1
2025-08-12 12:44:57 - src.chatbot.discord_bot - [32mINFO[0m - 📋 Available Commands:
2025-08-12 12:44:57 - src.chatbot.discord_bot - [32mINFO[0m -    • /help or !help - Show detailed help
2025-08-12 12:44:57 - src.chatbot.discord_bot - [32mINFO[0m -    • /status or !status - Show bot status
2025-08-12 12:44:57 - src.chatbot.discord_bot - [32mINFO[0m -    • /ping or !ping - Test bot responsiveness
2025-08-12 12:44:57 - src.chatbot.discord_bot - [32mINFO[0m -    • Send any message for financial advice
2025-08-12 12:44:57 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Starting command registration process...
2025-08-12 12:44:57 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Initial tree commands count: 0
2025-08-12 12:44:57 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Registering commands for guild: AlL miGht's server (ID: 940605321989206036)
2025-08-12 12:44:57 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Bot permissions: <Permissions value=2248473465835073>
2025-08-12 12:44:57 - src.chatbot.discord_bot - [31mERROR[0m - ❌ Failed to register commands: 'Permissions' object has no attribute 'use_slash_commands'
2025-08-12 12:44:57 - src.chatbot.discord_bot - [31mERROR[0m - Full error: Traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 588, in _register_commands
    if not permissions.use_slash_commands:
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Permissions' object has no attribute 'use_slash_commands'

2025-08-12 12:44:57 - src.chatbot.discord_bot - [32mINFO[0m - 🔄 Syncing slash commands with Discord...
2025-08-12 12:44:58 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Synced 0 command(s) with Discord
2025-08-12 12:45:10 - __main__ - [32mINFO[0m - 🧹 Cleaning up...
2025-08-12 12:45:10 - src.core.event_bus - [32mINFO[0m - Event bus stopped
2025-08-12 12:45:10 - __main__ - [32mINFO[0m - ✅ Event bus stopped
2025-08-12 12:45:10 - __main__ - [32mINFO[0m - 👋 Discord bot shutdown complete
2025-08-12 12:45:11 - __main__ - [32mINFO[0m - 👋 Discord bot stopped by user
2025-08-12 12:47:39 - __main__ - [32mINFO[0m - 📡 Initializing core components...
2025-08-12 12:47:39 - src.core.event_bus - [32mINFO[0m - Event bus started
2025-08-12 12:47:39 - __main__ - [32mINFO[0m - ✅ Event bus started
2025-08-12 12:47:39 - __main__ - [32mINFO[0m - ✅ Session manager initialized
2025-08-12 12:47:39 - __main__ - [32mINFO[0m - 🤖 Starting Discord bot...
2025-08-12 12:47:39 - discord.client - [33mWARNING[0m - PyNaCl is not installed, voice will NOT be supported
2025-08-12 12:47:39 - src.core.event_bus - [32mINFO[0m - Subscribed to event type: EventType.CHAT_RESPONSE
2025-08-12 12:47:39 - src.chatbot.discord_bot - [32mINFO[0m - 🚀 Initializing Discord Bot...
2025-08-12 12:47:39 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-12 12:47:39 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Market data agent created successfully
2025-08-12 12:47:39 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent 'MarketDataAgent' initialized successfully
2025-08-12 12:47:39 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent configuration validation passed
2025-08-12 12:47:39 - src.compliance.compliance_rules_engine - [32mINFO[0m - Initialized compliance engine with 16 rules
2025-08-12 12:47:39 - src.compliance.suitability_validation_engine - [32mINFO[0m - Initialized suitability validation engine
2025-08-12 12:47:39 - src.compliance.disclosure_management_system - [32mINFO[0m - Initialized disclosure management system with 10 requirements
2025-08-12 12:47:39 - FinancialCrewOrchestrator - [32mINFO[0m - Created all enhanced specialized agents for financial analysis
2025-08-12 12:47:39 - FinancialCrewOrchestrator - [32mINFO[0m - Created CrewAI crew with all agents
2025-08-12 12:47:39 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Discord Bot initialization completed
2025-08-12 12:47:39 - discord.client - [32mINFO[0m - logging in using static token
2025-08-12 12:47:41 - discord.gateway - [32mINFO[0m - Shard ID None has connected to Gateway (Session ID: 37cb6813db13ea25104a51f7fd028a03).
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m - 🤖 Discord Bot Ready!
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -    Bot Name: beam_crewai_test
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -    Bot ID: 1404665992692502669
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -    Servers: 1
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -    Users: 1
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m - 📋 Available Commands:
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -    • /help or !help - Show detailed help
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -    • /status or !status - Show bot status
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -    • /ping or !ping - Test bot responsiveness
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -    • Send any message for financial advice
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Starting command registration process...
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Initial tree commands count: 0
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Registering commands for guild: AlL miGht's server (ID: 940605321989206036)
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Bot permissions: <Permissions value=2248473465835073>
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Permission value: 2248473465835073
2025-08-12 12:47:43 - src.chatbot.discord_bot - [33mWARNING[0m - ⚠️ Bot lacks 'Manage Guild' permission (needed for slash commands)
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m - ℹ️ Bot is not administrator (this is normal)
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 All bot permissions:
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ create_instant_invite
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ kick_members
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ ban_members
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ administrator
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ manage_channels
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ manage_guild
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ add_reactions
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ view_audit_log
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ priority_speaker
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ stream
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ read_messages
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ send_messages
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ send_tts_messages
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ manage_messages
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ embed_links
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ attach_files
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ read_message_history
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ mention_everyone
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ external_emojis
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ view_guild_insights
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ connect
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ speak
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ mute_members
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ deafen_members
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ move_members
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ use_voice_activation
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ change_nickname
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ manage_nicknames
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ manage_roles
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ manage_webhooks
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ manage_expressions
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ use_application_commands
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ request_to_speak
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ manage_events
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ manage_threads
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ create_public_threads
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ create_private_threads
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ external_stickers
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ send_messages_in_threads
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ use_embedded_activities
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ moderate_members
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ view_creator_monetization_analytics
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ use_soundboard
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ create_expressions
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ create_events
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ use_external_sounds
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ send_voice_messages
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ send_polls
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ use_external_apps
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Slash commands registered successfully
2025-08-12 12:47:43 - src.chatbot.discord_bot - [31mERROR[0m - ❌ Failed to register prefix commands: The command help is already an existing command or alias.
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m - 🔧 Final Slash Commands Registered: 5
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m - 🔧 Prefix Commands Registered: 1
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Slash command: /help - Show detailed help
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Slash command: /status - Show bot status
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Slash command: /ping - Test bot responsiveness
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Slash command: /history - Show conversation history
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Slash command: /clear_history - Clear conversation history
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Prefix command: !help
2025-08-12 12:47:43 - src.chatbot.discord_bot - [32mINFO[0m - 🔄 Syncing slash commands with Discord...
2025-08-12 12:47:44 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Synced 5 command(s) with Discord
2025-08-12 12:47:44 - src.chatbot.discord_bot - [32mINFO[0m -   - /help: Show detailed help
2025-08-12 12:47:44 - src.chatbot.discord_bot - [32mINFO[0m -   - /status: Show bot status
2025-08-12 12:47:44 - src.chatbot.discord_bot - [32mINFO[0m -   - /ping: Test bot responsiveness
2025-08-12 12:47:44 - src.chatbot.discord_bot - [32mINFO[0m -   - /history: Show conversation history
2025-08-12 12:47:44 - src.chatbot.discord_bot - [32mINFO[0m -   - /clear_history: Clear conversation history
2025-08-12 12:48:39 - __main__ - [32mINFO[0m - 🧹 Cleaning up...
2025-08-12 12:48:39 - src.core.event_bus - [32mINFO[0m - Event bus stopped
2025-08-12 12:48:39 - __main__ - [32mINFO[0m - ✅ Event bus stopped
2025-08-12 12:48:39 - __main__ - [32mINFO[0m - 👋 Discord bot shutdown complete
2025-08-12 12:48:39 - __main__ - [32mINFO[0m - 👋 Discord bot stopped by user
2025-08-12 12:50:47 - __main__ - [32mINFO[0m - 📡 Initializing core components...
2025-08-12 12:50:47 - src.core.event_bus - [32mINFO[0m - Event bus started
2025-08-12 12:50:47 - __main__ - [32mINFO[0m - ✅ Event bus started
2025-08-12 12:50:47 - __main__ - [32mINFO[0m - ✅ Session manager initialized
2025-08-12 12:50:47 - __main__ - [32mINFO[0m - 🤖 Starting Discord bot...
2025-08-12 12:50:47 - discord.client - [33mWARNING[0m - PyNaCl is not installed, voice will NOT be supported
2025-08-12 12:50:47 - src.core.event_bus - [32mINFO[0m - Subscribed to event type: EventType.CHAT_RESPONSE
2025-08-12 12:50:47 - src.chatbot.discord_bot - [32mINFO[0m - 🚀 Initializing Discord Bot...
2025-08-12 12:50:47 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-12 12:50:47 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Market data agent created successfully
2025-08-12 12:50:47 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent 'MarketDataAgent' initialized successfully
2025-08-12 12:50:47 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent configuration validation passed
2025-08-12 12:50:47 - src.compliance.compliance_rules_engine - [32mINFO[0m - Initialized compliance engine with 16 rules
2025-08-12 12:50:47 - src.compliance.suitability_validation_engine - [32mINFO[0m - Initialized suitability validation engine
2025-08-12 12:50:47 - src.compliance.disclosure_management_system - [32mINFO[0m - Initialized disclosure management system with 10 requirements
2025-08-12 12:50:47 - FinancialCrewOrchestrator - [32mINFO[0m - Created all enhanced specialized agents for financial analysis
2025-08-12 12:50:47 - FinancialCrewOrchestrator - [32mINFO[0m - Created CrewAI crew with all agents
2025-08-12 12:50:47 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Discord Bot initialization completed
2025-08-12 12:50:47 - discord.client - [32mINFO[0m - logging in using static token
2025-08-12 12:50:49 - discord.gateway - [32mINFO[0m - Shard ID None has connected to Gateway (Session ID: 5692964fc9c287106259b6dd449949b3).
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m - 🤖 Discord Bot Ready!
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -    Bot Name: beam_crewai_test
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -    Bot ID: 1404665992692502669
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -    Servers: 1
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -    Users: 1
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m - 📋 Available Commands:
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -    • /help or !help - Show detailed help
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -    • /status or !status - Show bot status
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -    • /ping or !ping - Test bot responsiveness
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -    • Send any message for financial advice
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Starting command registration process...
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Initial tree commands count: 0
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Registering commands for guild: AlL miGht's server (ID: 940605321989206036)
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Bot permissions: <Permissions value=2248473465835073>
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Permission value: 2248473465835073
2025-08-12 12:50:51 - src.chatbot.discord_bot - [33mWARNING[0m - ⚠️ Bot lacks 'Manage Guild' permission (needed for slash commands)
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m - ℹ️ Bot is not administrator (this is normal)
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 All bot permissions:
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ create_instant_invite
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ kick_members
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ ban_members
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ administrator
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ manage_channels
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ manage_guild
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ add_reactions
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ view_audit_log
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ priority_speaker
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ stream
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ read_messages
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ send_messages
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ send_tts_messages
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ manage_messages
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ embed_links
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ attach_files
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ read_message_history
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ mention_everyone
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ external_emojis
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ view_guild_insights
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ connect
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ speak
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ mute_members
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ deafen_members
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ move_members
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ use_voice_activation
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ change_nickname
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ manage_nicknames
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ manage_roles
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ manage_webhooks
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ manage_expressions
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ use_application_commands
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ request_to_speak
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ manage_events
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ manage_threads
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ create_public_threads
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ create_private_threads
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ external_stickers
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ send_messages_in_threads
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ use_embedded_activities
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ moderate_members
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ view_creator_monetization_analytics
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ use_soundboard
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ create_expressions
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ create_events
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ use_external_sounds
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ send_voice_messages
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ send_polls
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ use_external_apps
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Slash commands registered successfully
2025-08-12 12:50:51 - src.chatbot.discord_bot - [31mERROR[0m - ❌ Failed to register prefix commands: The command help is already an existing command or alias.
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m - 🔧 Final Slash Commands Registered: 5
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m - 🔧 Prefix Commands Registered: 1
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Slash command: /help - Show detailed help
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Slash command: /status - Show bot status
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Slash command: /ping - Test bot responsiveness
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Slash command: /history - Show conversation history
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Slash command: /clear_history - Clear conversation history
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Prefix command: !help
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m - 🔄 Syncing slash commands with Discord...
2025-08-12 12:50:51 - src.chatbot.discord_bot - [32mINFO[0m - 🔄 Syncing commands to guild: AlL miGht's server
2025-08-12 12:50:52 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Synced 0 command(s) to guild 'AlL miGht's server'
2025-08-12 12:51:27 - __main__ - [32mINFO[0m - 🧹 Cleaning up...
2025-08-12 12:51:27 - src.core.event_bus - [32mINFO[0m - Event bus stopped
2025-08-12 12:51:27 - __main__ - [32mINFO[0m - ✅ Event bus stopped
2025-08-12 12:51:27 - __main__ - [32mINFO[0m - 👋 Discord bot shutdown complete
2025-08-12 12:51:28 - __main__ - [32mINFO[0m - 👋 Discord bot stopped by user
2025-08-12 12:53:53 - __main__ - [32mINFO[0m - 📡 Initializing core components...
2025-08-12 12:53:53 - src.core.event_bus - [32mINFO[0m - Event bus started
2025-08-12 12:53:53 - __main__ - [32mINFO[0m - ✅ Event bus started
2025-08-12 12:53:53 - __main__ - [32mINFO[0m - ✅ Session manager initialized
2025-08-12 12:53:53 - __main__ - [32mINFO[0m - 🤖 Starting Discord bot...
2025-08-12 12:53:53 - discord.client - [33mWARNING[0m - PyNaCl is not installed, voice will NOT be supported
2025-08-12 12:53:53 - src.core.event_bus - [32mINFO[0m - Subscribed to event type: EventType.CHAT_RESPONSE
2025-08-12 12:53:53 - src.chatbot.discord_bot - [32mINFO[0m - 🚀 Initializing Discord Bot...
2025-08-12 12:53:53 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-12 12:53:53 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Market data agent created successfully
2025-08-12 12:53:53 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent 'MarketDataAgent' initialized successfully
2025-08-12 12:53:53 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent configuration validation passed
2025-08-12 12:53:53 - src.compliance.compliance_rules_engine - [32mINFO[0m - Initialized compliance engine with 16 rules
2025-08-12 12:53:53 - src.compliance.suitability_validation_engine - [32mINFO[0m - Initialized suitability validation engine
2025-08-12 12:53:53 - src.compliance.disclosure_management_system - [32mINFO[0m - Initialized disclosure management system with 10 requirements
2025-08-12 12:53:53 - FinancialCrewOrchestrator - [32mINFO[0m - Created all enhanced specialized agents for financial analysis
2025-08-12 12:53:53 - FinancialCrewOrchestrator - [32mINFO[0m - Created CrewAI crew with all agents
2025-08-12 12:53:53 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Discord Bot initialization completed
2025-08-12 12:53:53 - discord.client - [32mINFO[0m - logging in using static token
2025-08-12 12:53:55 - discord.gateway - [32mINFO[0m - Shard ID None has connected to Gateway (Session ID: 730266e91d9069929824f99bef0a4eae).
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m - 🤖 Discord Bot Ready!
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -    Bot Name: beam_crewai_test
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -    Bot ID: 1404665992692502669
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -    Servers: 1
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -    Users: 1
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m - 📋 Available Commands:
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -    • /help or !help - Show detailed help
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -    • /status or !status - Show bot status
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -    • /ping or !ping - Test bot responsiveness
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -    • Send any message for financial advice
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Starting command registration process...
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Initial tree commands count: 0
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Registering commands for guild: AlL miGht's server (ID: 940605321989206036)
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Bot permissions: <Permissions value=2248473465835073>
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Permission value: 2248473465835073
2025-08-12 12:53:57 - src.chatbot.discord_bot - [33mWARNING[0m - ⚠️ Bot lacks 'Manage Guild' permission (needed for slash commands)
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m - ℹ️ Bot is not administrator (this is normal)
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 All bot permissions:
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ create_instant_invite
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ kick_members
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ ban_members
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ administrator
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ manage_channels
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ manage_guild
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ add_reactions
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ view_audit_log
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ priority_speaker
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ stream
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ read_messages
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ send_messages
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ send_tts_messages
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ manage_messages
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ embed_links
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ attach_files
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ read_message_history
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ mention_everyone
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ external_emojis
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ view_guild_insights
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ connect
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ speak
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ mute_members
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ deafen_members
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ move_members
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ use_voice_activation
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ change_nickname
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ manage_nicknames
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ manage_roles
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ manage_webhooks
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ manage_expressions
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ use_application_commands
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ request_to_speak
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ manage_events
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ manage_threads
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ create_public_threads
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ create_private_threads
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ external_stickers
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ send_messages_in_threads
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ use_embedded_activities
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ moderate_members
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -   ❌ view_creator_monetization_analytics
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ use_soundboard
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ create_expressions
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ create_events
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ use_external_sounds
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ send_voice_messages
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ send_polls
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m -   ✅ use_external_apps
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Slash commands registered successfully
2025-08-12 12:53:57 - src.chatbot.discord_bot - [31mERROR[0m - ❌ Failed to register prefix commands: The command help is already an existing command or alias.
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m - 🔧 Final Slash Commands Registered: 5
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m - 🔧 Prefix Commands Registered: 1
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Slash command: /help - Show detailed help
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Slash command: /status - Show bot status
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Slash command: /ping - Test bot responsiveness
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Slash command: /history - Show conversation history
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Slash command: /clear_history - Clear conversation history
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Prefix command: !help
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m - 🔄 Syncing slash commands with Discord...
2025-08-12 12:53:57 - src.chatbot.discord_bot - [32mINFO[0m - 🔄 Sync attempt 1/3
2025-08-12 12:54:00 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Successfully synced 5 command(s) globally on attempt 1
2025-08-12 12:54:00 - src.chatbot.discord_bot - [32mINFO[0m -   - /help: Show detailed help
2025-08-12 12:54:00 - src.chatbot.discord_bot - [32mINFO[0m -   - /status: Show bot status
2025-08-12 12:54:00 - src.chatbot.discord_bot - [32mINFO[0m -   - /ping: Test bot responsiveness
2025-08-12 12:54:00 - src.chatbot.discord_bot - [32mINFO[0m -   - /history: Show conversation history
2025-08-12 12:54:00 - src.chatbot.discord_bot - [32mINFO[0m -   - /clear_history: Clear conversation history
2025-08-12 12:54:00 - src.chatbot.discord_bot - [32mINFO[0m - 🔧 Final verification: 5 commands in tree
2025-08-12 12:55:00 - __main__ - [32mINFO[0m - 🧹 Cleaning up...
2025-08-12 12:55:00 - src.core.event_bus - [32mINFO[0m - Event bus stopped
2025-08-12 12:55:00 - __main__ - [32mINFO[0m - ✅ Event bus stopped
2025-08-12 12:55:00 - __main__ - [32mINFO[0m - 👋 Discord bot shutdown complete
2025-08-12 12:55:00 - __main__ - [32mINFO[0m - 👋 Discord bot stopped by user
2025-08-12 13:11:53 - __main__ - [32mINFO[0m - 📡 Initializing core components...
2025-08-12 13:11:53 - src.core.event_bus - [32mINFO[0m - Event bus started
2025-08-12 13:11:53 - __main__ - [32mINFO[0m - ✅ Event bus started
2025-08-12 13:11:53 - __main__ - [32mINFO[0m - ✅ Session manager initialized
2025-08-12 13:11:53 - __main__ - [32mINFO[0m - 🤖 Starting Discord bot...
2025-08-12 13:11:53 - discord.client - [33mWARNING[0m - PyNaCl is not installed, voice will NOT be supported
2025-08-12 13:11:53 - src.core.event_bus - [32mINFO[0m - Subscribed to event type: EventType.CHAT_RESPONSE
2025-08-12 13:11:53 - src.chatbot.discord_bot - [32mINFO[0m - 🚀 Initializing Discord Bot...
2025-08-12 13:11:53 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-12 13:11:53 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Market data agent created successfully
2025-08-12 13:11:53 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent 'MarketDataAgent' initialized successfully
2025-08-12 13:11:53 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent configuration validation passed
2025-08-12 13:11:53 - src.compliance.compliance_rules_engine - [32mINFO[0m - Initialized compliance engine with 16 rules
2025-08-12 13:11:53 - src.compliance.suitability_validation_engine - [32mINFO[0m - Initialized suitability validation engine
2025-08-12 13:11:53 - src.compliance.disclosure_management_system - [32mINFO[0m - Initialized disclosure management system with 10 requirements
2025-08-12 13:11:53 - FinancialCrewOrchestrator - [32mINFO[0m - Created all enhanced specialized agents for financial analysis
2025-08-12 13:11:53 - FinancialCrewOrchestrator - [32mINFO[0m - Created CrewAI crew with all agents
2025-08-12 13:11:53 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Discord Bot initialization completed
2025-08-12 13:11:53 - discord.client - [32mINFO[0m - logging in using static token
2025-08-12 13:11:54 - discord.gateway - [32mINFO[0m - Shard ID None has connected to Gateway (Session ID: 5a74986e1e0f0693663d7d166d13b226).
2025-08-12 13:11:56 - src.chatbot.discord_bot - [32mINFO[0m - 🤖 Discord Bot Ready!
2025-08-12 13:11:56 - src.chatbot.discord_bot - [32mINFO[0m -    Bot Name: beam_crewai_test
2025-08-12 13:11:56 - src.chatbot.discord_bot - [32mINFO[0m -    Bot ID: 1404665992692502669
2025-08-12 13:11:56 - src.chatbot.discord_bot - [32mINFO[0m -    Servers: 1
2025-08-12 13:11:56 - src.chatbot.discord_bot - [32mINFO[0m -    Users: 1
2025-08-12 13:11:56 - src.chatbot.discord_bot - [32mINFO[0m - 📋 Available Commands:
2025-08-12 13:11:56 - src.chatbot.discord_bot - [32mINFO[0m -    • /help or !help - Show detailed help
2025-08-12 13:11:56 - src.chatbot.discord_bot - [32mINFO[0m -    • /status or !status - Show bot status
2025-08-12 13:11:56 - src.chatbot.discord_bot - [32mINFO[0m -    • /ping or !ping - Test bot responsiveness
2025-08-12 13:11:56 - src.chatbot.discord_bot - [32mINFO[0m -    • Send any message for financial advice
2025-08-12 13:11:56 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Starting command registration process...
2025-08-12 13:11:56 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Initial tree commands count: 0
2025-08-12 13:11:56 - src.chatbot.discord_bot - [31mERROR[0m - ❌ Failed to register prefix commands: The command help is already an existing command or alias.
2025-08-12 13:11:56 - src.chatbot.discord_bot - [32mINFO[0m - 🔧 Final Slash Commands Registered: 5
2025-08-12 13:11:56 - src.chatbot.discord_bot - [32mINFO[0m - 🔧 Prefix Commands Registered: 1
2025-08-12 13:11:56 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Slash command: /help - Show detailed help for financial commands
2025-08-12 13:11:56 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Slash command: /status - Show bot status and health information
2025-08-12 13:11:56 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Slash command: /ping - Test bot responsiveness
2025-08-12 13:11:56 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Slash command: /history - Show your conversation history
2025-08-12 13:11:56 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Slash command: /clear_history - Clear your conversation history
2025-08-12 13:11:56 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Prefix command: !help
2025-08-12 13:11:56 - src.chatbot.discord_bot - [32mINFO[0m - 🔄 Syncing slash commands with Discord...
2025-08-12 13:11:56 - src.chatbot.discord_bot - [32mINFO[0m - 🔄 Sync attempt 1/3
2025-08-12 13:11:59 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Successfully synced 5 command(s) globally on attempt 1
2025-08-12 13:11:59 - src.chatbot.discord_bot - [32mINFO[0m -   - /help: Show detailed help for financial commands
2025-08-12 13:11:59 - src.chatbot.discord_bot - [32mINFO[0m -   - /status: Show bot status and health information
2025-08-12 13:11:59 - src.chatbot.discord_bot - [32mINFO[0m -   - /ping: Test bot responsiveness
2025-08-12 13:11:59 - src.chatbot.discord_bot - [32mINFO[0m -   - /history: Show your conversation history
2025-08-12 13:11:59 - src.chatbot.discord_bot - [32mINFO[0m -   - /clear_history: Clear your conversation history
2025-08-12 13:11:59 - src.chatbot.discord_bot - [32mINFO[0m - 🔧 Final verification: 5 commands in tree
2025-08-12 13:18:13 - __main__ - [32mINFO[0m - 📡 Initializing core components...
2025-08-12 13:18:13 - src.core.event_bus - [32mINFO[0m - Event bus started
2025-08-12 13:18:13 - __main__ - [32mINFO[0m - ✅ Event bus started
2025-08-12 13:18:13 - __main__ - [32mINFO[0m - ✅ Session manager initialized
2025-08-12 13:18:13 - __main__ - [32mINFO[0m - 🤖 Starting Discord bot...
2025-08-12 13:18:13 - discord.client - [33mWARNING[0m - PyNaCl is not installed, voice will NOT be supported
2025-08-12 13:18:13 - src.core.event_bus - [32mINFO[0m - Subscribed to event type: EventType.CHAT_RESPONSE
2025-08-12 13:18:13 - src.chatbot.discord_bot - [32mINFO[0m - 🚀 Initializing Discord Bot...
2025-08-12 13:18:13 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-12 13:18:13 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Market data agent created successfully
2025-08-12 13:18:13 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent 'MarketDataAgent' initialized successfully
2025-08-12 13:18:13 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent configuration validation passed
2025-08-12 13:18:13 - src.compliance.compliance_rules_engine - [32mINFO[0m - Initialized compliance engine with 16 rules
2025-08-12 13:18:13 - src.compliance.suitability_validation_engine - [32mINFO[0m - Initialized suitability validation engine
2025-08-12 13:18:13 - src.compliance.disclosure_management_system - [32mINFO[0m - Initialized disclosure management system with 10 requirements
2025-08-12 13:18:13 - FinancialCrewOrchestrator - [32mINFO[0m - Created all enhanced specialized agents for financial analysis
2025-08-12 13:18:13 - FinancialCrewOrchestrator - [32mINFO[0m - Created CrewAI crew with all agents
2025-08-12 13:18:13 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Discord Bot initialization completed
2025-08-12 13:18:13 - discord.client - [32mINFO[0m - logging in using static token
2025-08-12 13:18:15 - discord.gateway - [32mINFO[0m - Shard ID None has connected to Gateway (Session ID: bf611da3f56ad8e2b8ef6ab390c726a6).
2025-08-12 13:18:17 - src.chatbot.discord_bot - [32mINFO[0m - 🤖 Discord Bot Ready!
2025-08-12 13:18:17 - src.chatbot.discord_bot - [32mINFO[0m -    Bot Name: beam_crewai_test
2025-08-12 13:18:17 - src.chatbot.discord_bot - [32mINFO[0m -    Bot ID: 1404665992692502669
2025-08-12 13:18:17 - src.chatbot.discord_bot - [32mINFO[0m -    Servers: 1
2025-08-12 13:18:18 - src.chatbot.discord_bot - [32mINFO[0m -    Users: 1
2025-08-12 13:18:18 - src.chatbot.discord_bot - [32mINFO[0m - 📋 Available Commands:
2025-08-12 13:18:18 - src.chatbot.discord_bot - [32mINFO[0m -    • /help - Show detailed help
2025-08-12 13:18:18 - src.chatbot.discord_bot - [32mINFO[0m -    • /status - Show bot status
2025-08-12 13:18:18 - src.chatbot.discord_bot - [32mINFO[0m -    • /ping - Test bot responsiveness
2025-08-12 13:18:18 - src.chatbot.discord_bot - [32mINFO[0m -    • /history - Show conversation history
2025-08-12 13:18:19 - src.chatbot.discord_bot - [32mINFO[0m -    • /clear_history - Clear conversation history
2025-08-12 13:18:19 - src.chatbot.discord_bot - [32mINFO[0m -    • Send any message for financial advice
2025-08-12 13:18:19 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Starting command registration process...
2025-08-12 13:18:19 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Initial tree commands count: 0
2025-08-12 13:18:19 - src.chatbot.discord_bot - [32mINFO[0m - 🔧 Final Slash Commands Registered: 5
2025-08-12 13:18:19 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Slash command: /help - Show detailed help for financial commands
2025-08-12 13:18:19 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Slash command: /status - Show bot status and health information
2025-08-12 13:18:20 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Slash command: /ping - Test bot responsiveness
2025-08-12 13:18:20 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Slash command: /history - Show your conversation history
2025-08-12 13:18:20 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Slash command: /clear_history - Clear your conversation history
2025-08-12 13:18:20 - src.chatbot.discord_bot - [32mINFO[0m - 🔄 Syncing slash commands with Discord...
2025-08-12 13:18:20 - src.chatbot.discord_bot - [32mINFO[0m - 🔄 Sync attempt 1/3
2025-08-12 13:18:23 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Successfully synced 5 command(s) globally on attempt 1
2025-08-12 13:18:23 - src.chatbot.discord_bot - [32mINFO[0m -   - /help: Show detailed help for financial commands
2025-08-12 13:18:23 - src.chatbot.discord_bot - [32mINFO[0m -   - /status: Show bot status and health information
2025-08-12 13:18:23 - src.chatbot.discord_bot - [32mINFO[0m -   - /ping: Test bot responsiveness
2025-08-12 13:18:23 - src.chatbot.discord_bot - [32mINFO[0m -   - /history: Show your conversation history
2025-08-12 13:18:23 - src.chatbot.discord_bot - [32mINFO[0m -   - /clear_history: Clear your conversation history
2025-08-12 13:18:23 - src.chatbot.discord_bot - [32mINFO[0m - 🔧 Final verification: 5 commands in tree
2025-08-12 13:27:23 - __main__ - [32mINFO[0m - 🧹 Cleaning up...
2025-08-12 13:27:23 - src.core.event_bus - [32mINFO[0m - Event bus stopped
2025-08-12 13:27:23 - __main__ - [32mINFO[0m - ✅ Event bus stopped
2025-08-12 13:27:23 - __main__ - [32mINFO[0m - 👋 Discord bot shutdown complete
2025-08-12 13:27:24 - __main__ - [32mINFO[0m - 👋 Discord bot stopped by user
2025-08-12 13:29:04 - src.chatbot.discord_bot - [32mINFO[0m - 🤔 Processing message from fortsetzen: i want to invest in high risk fund for my retireme...
2025-08-12 13:29:04 - src.utils.session_manager - [32mINFO[0m - Created session discord_682790548561723396_0895462a for user 682790548561723396 on discord
2025-08-12 13:29:04 - src.chatbot.discord_bot - [32mINFO[0m - Created new session: discord_682790548561723396_0895462a
2025-08-12 13:29:04 - src.chatbot.discord_bot - [32mINFO[0m - Processing query with CrewAI: i want to invest in high risk fund for my retireme...
2025-08-12 13:29:04 - src.llm.crewai_manager - [32mINFO[0m - Starting full CrewAI multi-agent orchestration for evaluation...
2025-08-12 13:29:04 - src.llm.crewai_manager - [32mINFO[0m - 🤖 Processing with CrewAI multi-agent system...
2025-08-12 13:29:04 - FinancialCrewOrchestrator - [32mINFO[0m - Processing financial query: i want to invest in high risk fund for my retirement with around $200000 in the next 10 years. any yuanta's product recommendation?
2025-08-12 13:29:04 - FinancialCrewOrchestrator - [32mINFO[0m - Using conversation history with 1 messages
2025-08-12 13:29:04 - FinancialCrewOrchestrator - [32mINFO[0m - Created 4 tasks for CrewAI execution
2025-08-12 13:29:04 - FinancialCrewOrchestrator - [32mINFO[0m - Updated crew with tasks
2025-08-12 13:29:04 - FinancialCrewOrchestrator - [32mINFO[0m - Starting CrewAI crew execution (attempt 1/1)...
2025-08-12 13:29:05 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-12 13:29:10 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-12 13:29:10 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-12 13:29:10 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:29:10 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:29:10 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Market data fetched successfully for query: Yuanta high risk funds performance and market tren...
2025-08-12 13:29:10 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:29:10 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-12 13:29:17 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-12 13:29:17 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-12 13:29:17 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:29:17 - MarketDataAgent - [31mERROR[0m - [MarketDataAgent] Error analyzing economic indicators: 'float' object is not subscriptable
2025-08-12 13:29:17 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:29:17 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:29:17 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-12 13:29:25 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 10 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 97, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 126, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 194, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 232, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 435, in completion
    client = HTTPHandler(timeout=timeout)  # type: ignore
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 607, in __init__
    self.client = httpx.Client(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 688, in __init__
    self._transport = self._init_transport(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 731, in _init_transport
    return HTTPTransport(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 153, in __init__
    ssl_context = create_ssl_context(verify=verify, cert=cert, trust_env=trust_env)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_config.py", line 40, in create_ssl_context
    ctx = ssl.create_default_context(cafile=certifi.where())
  File "C:\Python312\Lib\ssl.py", line 708, in create_default_context
    context.load_verify_locations(cafile, capath, cadata)

2025-08-12 13:29:35 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 20 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 97, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 126, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 194, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 232, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-12 13:29:43 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-12 13:29:43 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-12 13:29:43 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:29:43 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:29:44 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:29:44 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-12 13:29:45 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 30 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 97, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 126, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 194, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 232, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-12 13:29:47 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-12 13:29:47 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-12 13:29:47 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:29:47 - src.agents.risk_analysis_agent - [32mINFO[0m - Completed portfolio risk assessment for high risk level
2025-08-12 13:29:47 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:29:47 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:29:47 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-12 13:29:51 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-12 13:29:51 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-12 13:29:51 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:29:51 - src.agents.risk_analysis_agent - [32mINFO[0m - Completed market risk analysis
2025-08-12 13:29:51 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:29:51 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:29:51 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-12 13:29:55 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 40 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 97, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 126, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 194, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 232, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-12 13:30:05 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 50 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 97, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 126, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 194, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 232, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-12 13:30:06 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-12 13:30:06 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-12 13:30:06 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:30:06 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:30:06 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:30:06 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-12 13:30:12 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-12 13:30:12 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-12 13:30:12 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:30:12 - src.agents.recommendation_agent - [32mINFO[0m - Created portfolio allocation for medium risk level
2025-08-12 13:30:12 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:30:12 - src.agents.recommendation_agent - [32mINFO[0m - Generated 5 product recommendations for medium risk level
2025-08-12 13:30:12 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:30:12 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-12 13:30:15 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 60 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 97, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 126, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 194, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 232, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-12 13:30:19 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-12 13:30:19 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-12 13:30:20 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:30:20 - src.agents.recommendation_agent - [32mINFO[0m - Suggested investment strategy for medium risk level
2025-08-12 13:30:20 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:30:20 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:30:20 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-12 13:30:25 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 70 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 97, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 126, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 194, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 232, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-12 13:30:35 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-12 13:30:35 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-12 13:30:35 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:30:35 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:30:35 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:30:35 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-12 13:30:36 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 80 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 97, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 126, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 194, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 232, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 435, in completion
    client = HTTPHandler(timeout=timeout)  # type: ignore
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 607, in __init__
    self.client = httpx.Client(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 688, in __init__
    self._transport = self._init_transport(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 731, in _init_transport
    return HTTPTransport(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 153, in __init__
    ssl_context = create_ssl_context(verify=verify, cert=cert, trust_env=trust_env)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_config.py", line 40, in create_ssl_context
    ctx = ssl.create_default_context(cafile=certifi.where())
  File "C:\Python312\Lib\ssl.py", line 708, in create_default_context
    context.load_verify_locations(cafile, capath, cadata)

2025-08-12 13:30:40 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-12 13:30:40 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-12 13:30:40 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:30:40 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:30:40 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:30:40 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-12 13:30:45 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-12 13:30:45 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-12 13:30:45 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:30:45 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:30:45 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:30:45 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-12 13:30:46 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 90 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 97, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 126, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 194, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 232, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 435, in completion
    client = HTTPHandler(timeout=timeout)  # type: ignore
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 607, in __init__
    self.client = httpx.Client(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 688, in __init__
    self._transport = self._init_transport(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 731, in _init_transport
    return HTTPTransport(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 153, in __init__
    ssl_context = create_ssl_context(verify=verify, cert=cert, trust_env=trust_env)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_config.py", line 40, in create_ssl_context
    ctx = ssl.create_default_context(cafile=certifi.where())
  File "C:\Python312\Lib\ssl.py", line 708, in create_default_context
    context.load_verify_locations(cafile, capath, cadata)

2025-08-12 13:30:56 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 100 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 107, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 97, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 126, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 194, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 232, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-12 13:31:01 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-12 13:31:01 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-12 13:31:01 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:31:01 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:31:01 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:31:01 - FinancialCrewOrchestrator - [32mINFO[0m - CrewAI execution completed successfully
2025-08-12 13:31:01 - FinancialCrewOrchestrator - [32mINFO[0m - Successfully processed financial query with CrewAI
2025-08-12 13:31:01 - src.llm.crewai_manager - [32mINFO[0m - ✅ CrewAI multi-agent processing completed successfully
2025-08-12 13:31:01 - src.llm.crewai_manager - [32mINFO[0m - ✅ Successfully created CrewAI multi-agent response
2025-08-12 13:31:01 - src.chatbot.discord_bot - [32mINFO[0m - Response is 3453 characters, splitting into multiple messages
2025-08-12 13:31:01 - src.chatbot.discord_bot - [32mINFO[0m - Split response into 2 chunks
2025-08-12 13:31:01 - src.chatbot.discord_bot - [33mWARNING[0m - 🔌 Discord Bot Disconnected
2025-08-12 13:31:01 - discord.gateway - [32mINFO[0m - Shard ID None session has been invalidated.
2025-08-12 13:31:02 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Successfully sent 2 message chunks to Discord
2025-08-12 13:31:02 - src.chatbot.discord_bot - [33mWARNING[0m - 🔌 Discord Bot Disconnected
2025-08-12 13:31:07 - discord.gateway - [32mINFO[0m - Shard ID None has connected to Gateway (Session ID: a1f0766326a1583c6679d2138f43a470).
2025-08-12 13:31:10 - src.chatbot.discord_bot - [32mINFO[0m - 🤖 Discord Bot Ready!
2025-08-12 13:31:10 - src.chatbot.discord_bot - [32mINFO[0m -    Bot Name: beam_crewai_test
2025-08-12 13:31:10 - src.chatbot.discord_bot - [32mINFO[0m -    Bot ID: 1404665992692502669
2025-08-12 13:31:10 - src.chatbot.discord_bot - [32mINFO[0m -    Servers: 1
2025-08-12 13:31:10 - src.chatbot.discord_bot - [32mINFO[0m -    Users: 1
2025-08-12 13:31:10 - src.chatbot.discord_bot - [32mINFO[0m - 📋 Available Commands:
2025-08-12 13:31:10 - src.chatbot.discord_bot - [32mINFO[0m -    • /help - Show detailed help
2025-08-12 13:31:10 - src.chatbot.discord_bot - [32mINFO[0m -    • /status - Show bot status
2025-08-12 13:31:10 - src.chatbot.discord_bot - [32mINFO[0m -    • /ping - Test bot responsiveness
2025-08-12 13:31:10 - src.chatbot.discord_bot - [32mINFO[0m -    • /history - Show conversation history
2025-08-12 13:31:10 - src.chatbot.discord_bot - [32mINFO[0m -    • /clear_history - Clear conversation history
2025-08-12 13:31:10 - src.chatbot.discord_bot - [32mINFO[0m -    • Send any message for financial advice
2025-08-12 13:31:10 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Starting command registration process...
2025-08-12 13:31:10 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Initial tree commands count: 5
2025-08-12 13:31:10 - src.chatbot.discord_bot - [31mERROR[0m - ❌ Failed to register commands: Command 'help' already registered.
2025-08-12 13:31:10 - src.chatbot.discord_bot - [31mERROR[0m - Full error: Traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 613, in _register_commands
    @self.tree.command(name="help", description="Show detailed help for financial commands")
     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\app_commands\tree.py", line 944, in decorator
    self.add_command(command, guild=guild, guilds=guilds)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\app_commands\tree.py", line 407, in add_command
    raise CommandAlreadyRegistered(name, None)
discord.app_commands.errors.CommandAlreadyRegistered: Command 'help' already registered.

2025-08-12 13:31:10 - src.chatbot.discord_bot - [32mINFO[0m - 🔄 Syncing slash commands with Discord...
2025-08-12 13:31:10 - src.chatbot.discord_bot - [32mINFO[0m - 🔄 Sync attempt 1/3
2025-08-12 13:31:12 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Successfully synced 5 command(s) globally on attempt 1
2025-08-12 13:31:12 - src.chatbot.discord_bot - [32mINFO[0m -   - /help: Show detailed help for financial commands
2025-08-12 13:31:12 - src.chatbot.discord_bot - [32mINFO[0m -   - /status: Show bot status and health information
2025-08-12 13:31:12 - src.chatbot.discord_bot - [32mINFO[0m -   - /ping: Test bot responsiveness
2025-08-12 13:31:12 - src.chatbot.discord_bot - [32mINFO[0m -   - /history: Show your conversation history
2025-08-12 13:31:12 - src.chatbot.discord_bot - [32mINFO[0m -   - /clear_history: Clear your conversation history
2025-08-12 13:31:12 - src.chatbot.discord_bot - [32mINFO[0m - 🔧 Final verification: 5 commands in tree
2025-08-12 13:32:09 - __main__ - [32mINFO[0m - 🧹 Cleaning up...
2025-08-12 13:32:09 - src.core.event_bus - [32mINFO[0m - Event bus stopped
2025-08-12 13:32:09 - __main__ - [32mINFO[0m - ✅ Event bus stopped
2025-08-12 13:32:09 - __main__ - [32mINFO[0m - 👋 Discord bot shutdown complete
2025-08-12 13:32:09 - __main__ - [32mINFO[0m - 👋 Discord bot stopped by user
2025-08-12 13:37:10 - __main__ - [32mINFO[0m - 📡 Initializing core components...
2025-08-12 13:37:10 - src.core.event_bus - [32mINFO[0m - Event bus started
2025-08-12 13:37:10 - __main__ - [32mINFO[0m - ✅ Event bus started
2025-08-12 13:37:10 - __main__ - [32mINFO[0m - ✅ Session manager initialized
2025-08-12 13:37:10 - __main__ - [32mINFO[0m - 🤖 Starting Discord bot...
2025-08-12 13:37:10 - discord.client - [33mWARNING[0m - PyNaCl is not installed, voice will NOT be supported
2025-08-12 13:37:10 - src.core.event_bus - [32mINFO[0m - Subscribed to event type: EventType.CHAT_RESPONSE
2025-08-12 13:37:10 - src.chatbot.discord_bot - [32mINFO[0m - 🚀 Initializing Discord Bot...
2025-08-12 13:37:10 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-12 13:37:10 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Market data agent created successfully
2025-08-12 13:37:10 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent 'MarketDataAgent' initialized successfully
2025-08-12 13:37:10 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent configuration validation passed
2025-08-12 13:37:10 - src.compliance.compliance_rules_engine - [32mINFO[0m - Initialized compliance engine with 16 rules
2025-08-12 13:37:10 - src.compliance.suitability_validation_engine - [32mINFO[0m - Initialized suitability validation engine
2025-08-12 13:37:10 - src.compliance.disclosure_management_system - [32mINFO[0m - Initialized disclosure management system with 10 requirements
2025-08-12 13:37:10 - FinancialCrewOrchestrator - [32mINFO[0m - Created all enhanced specialized agents for financial analysis
2025-08-12 13:37:11 - FinancialCrewOrchestrator - [32mINFO[0m - Created CrewAI crew with all agents
2025-08-12 13:37:11 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Discord Bot initialization completed
2025-08-12 13:37:11 - root - [32mINFO[0m - 🔄 Discord bot connection attempt 1/3
2025-08-12 13:37:11 - discord.client - [32mINFO[0m - logging in using static token
2025-08-12 13:37:12 - discord.gateway - [32mINFO[0m - Shard ID None has connected to Gateway (Session ID: 82a3074bb47ad4094f8b163f9328118f).
2025-08-12 13:37:14 - src.chatbot.discord_bot - [32mINFO[0m - 🤖 Discord Bot Ready!
2025-08-12 13:37:14 - src.chatbot.discord_bot - [32mINFO[0m -    Bot Name: beam_crewai_test
2025-08-12 13:37:14 - src.chatbot.discord_bot - [32mINFO[0m -    Bot ID: 1404665992692502669
2025-08-12 13:37:14 - src.chatbot.discord_bot - [32mINFO[0m -    Servers: 1
2025-08-12 13:37:14 - src.chatbot.discord_bot - [32mINFO[0m -    Users: 1
2025-08-12 13:37:14 - src.chatbot.discord_bot - [32mINFO[0m - 📋 Available Commands:
2025-08-12 13:37:14 - src.chatbot.discord_bot - [32mINFO[0m -    • /help - Show detailed help
2025-08-12 13:37:14 - src.chatbot.discord_bot - [32mINFO[0m -    • /status - Show bot status
2025-08-12 13:37:14 - src.chatbot.discord_bot - [32mINFO[0m -    • /ping - Test bot responsiveness
2025-08-12 13:37:14 - src.chatbot.discord_bot - [32mINFO[0m -    • /history - Show conversation history
2025-08-12 13:37:14 - src.chatbot.discord_bot - [32mINFO[0m -    • /clear_history - Clear conversation history
2025-08-12 13:37:14 - src.chatbot.discord_bot - [32mINFO[0m -    • Send any message for financial advice
2025-08-12 13:37:14 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Starting command registration process...
2025-08-12 13:37:14 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Initial tree commands count: 0
2025-08-12 13:37:14 - src.chatbot.discord_bot - [32mINFO[0m - 🔧 Final Slash Commands Registered: 5
2025-08-12 13:37:14 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Slash command: /help - Show detailed help for financial commands
2025-08-12 13:37:14 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Slash command: /status - Show bot status and health information
2025-08-12 13:37:14 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Slash command: /ping - Test bot responsiveness
2025-08-12 13:37:14 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Slash command: /history - Show your conversation history
2025-08-12 13:37:14 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Slash command: /clear_history - Clear your conversation history
2025-08-12 13:37:14 - src.chatbot.discord_bot - [32mINFO[0m - 🔄 Syncing slash commands with Discord...
2025-08-12 13:37:14 - src.chatbot.discord_bot - [32mINFO[0m - 🔄 Sync attempt 1/3
2025-08-12 13:37:17 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Successfully synced 5 command(s) globally on attempt 1
2025-08-12 13:37:17 - src.chatbot.discord_bot - [32mINFO[0m -   - /help: Show detailed help for financial commands
2025-08-12 13:37:17 - src.chatbot.discord_bot - [32mINFO[0m -   - /status: Show bot status and health information
2025-08-12 13:37:17 - src.chatbot.discord_bot - [32mINFO[0m -   - /ping: Test bot responsiveness
2025-08-12 13:37:17 - src.chatbot.discord_bot - [32mINFO[0m -   - /history: Show your conversation history
2025-08-12 13:37:17 - src.chatbot.discord_bot - [32mINFO[0m -   - /clear_history: Clear your conversation history
2025-08-12 13:37:17 - src.chatbot.discord_bot - [32mINFO[0m - 🔧 Final verification: 5 commands in tree
2025-08-12 13:40:18 - src.chatbot.discord_bot - [32mINFO[0m - 🤔 Processing message from fortsetzen: i want to invest in low risk fund for my retiremen...
2025-08-12 13:40:18 - src.utils.session_manager - [32mINFO[0m - Created session discord_682790548561723396_0684aa03 for user 682790548561723396 on discord
2025-08-12 13:40:18 - src.chatbot.discord_bot - [32mINFO[0m - Created new session: discord_682790548561723396_0684aa03
2025-08-12 13:40:18 - src.chatbot.discord_bot - [32mINFO[0m - Processing query with CrewAI: i want to invest in low risk fund for my retiremen...
2025-08-12 13:40:18 - src.llm.crewai_manager - [32mINFO[0m - Starting full CrewAI multi-agent orchestration for evaluation...
2025-08-12 13:40:18 - src.llm.crewai_manager - [32mINFO[0m - 🤖 Processing with CrewAI multi-agent system...
2025-08-12 13:40:18 - FinancialCrewOrchestrator - [32mINFO[0m - Processing financial query: i want to invest in low risk fund for my retirement with around $200000 in the next 10 years. any yuanta's product recommendation?
2025-08-12 13:40:18 - FinancialCrewOrchestrator - [32mINFO[0m - Using conversation history with 1 messages
2025-08-12 13:40:19 - FinancialCrewOrchestrator - [32mINFO[0m - Created 4 tasks for CrewAI execution
2025-08-12 13:40:19 - FinancialCrewOrchestrator - [32mINFO[0m - Updated crew with tasks
2025-08-12 13:40:19 - FinancialCrewOrchestrator - [32mINFO[0m - Starting CrewAI crew execution (attempt 1/1)...
2025-08-12 13:40:21 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-12 13:40:31 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-12 13:40:31 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-12 13:40:31 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:40:31 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:40:31 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:40:31 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Market data fetched successfully for query: Yuanta low risk funds performance and market trend...
2025-08-12 13:40:32 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-12 13:40:44 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-12 13:40:44 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-12 13:40:44 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:40:44 - MarketDataAgent - [31mERROR[0m - [MarketDataAgent] Error analyzing economic indicators: 'float' object is not subscriptable
2025-08-12 13:40:44 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:40:48 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-12 13:40:52 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 10 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 98, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 97, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 126, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 194, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 232, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 435, in completion
    client = HTTPHandler(timeout=timeout)  # type: ignore
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 607, in __init__
    self.client = httpx.Client(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 688, in __init__
    self._transport = self._init_transport(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 731, in _init_transport
    return HTTPTransport(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 153, in __init__
    ssl_context = create_ssl_context(verify=verify, cert=cert, trust_env=trust_env)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_config.py", line 40, in create_ssl_context
    ctx = ssl.create_default_context(cafile=certifi.where())
  File "C:\Python312\Lib\ssl.py", line 708, in create_default_context
    context.load_verify_locations(cafile, capath, cadata)

2025-08-12 13:41:02 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 20 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 98, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 97, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 126, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 194, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 232, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-12 13:41:12 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 30 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 98, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 97, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 126, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 194, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 232, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-12 13:41:16 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-12 13:41:16 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-12 13:41:16 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:41:16 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:41:16 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-12 13:41:22 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 40 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 98, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 97, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 126, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 194, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 232, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 435, in completion
    client = HTTPHandler(timeout=timeout)  # type: ignore
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 607, in __init__
    self.client = httpx.Client(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 688, in __init__
    self._transport = self._init_transport(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 731, in _init_transport
    return HTTPTransport(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 153, in __init__
    ssl_context = create_ssl_context(verify=verify, cert=cert, trust_env=trust_env)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_config.py", line 40, in create_ssl_context
    ctx = ssl.create_default_context(cafile=certifi.where())
  File "C:\Python312\Lib\ssl.py", line 708, in create_default_context
    context.load_verify_locations(cafile, capath, cadata)

2025-08-12 13:41:26 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-12 13:41:26 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-12 13:41:26 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:41:26 - src.agents.risk_analysis_agent - [32mINFO[0m - Completed portfolio risk assessment for low risk level
2025-08-12 13:41:26 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:41:27 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-12 13:41:32 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 50 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 98, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 97, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 126, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 194, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 232, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 435, in completion
    client = HTTPHandler(timeout=timeout)  # type: ignore
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 607, in __init__
    self.client = httpx.Client(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 688, in __init__
    self._transport = self._init_transport(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 731, in _init_transport
    return HTTPTransport(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 153, in __init__
    ssl_context = create_ssl_context(verify=verify, cert=cert, trust_env=trust_env)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_config.py", line 40, in create_ssl_context
    ctx = ssl.create_default_context(cafile=certifi.where())
  File "C:\Python312\Lib\ssl.py", line 708, in create_default_context
    context.load_verify_locations(cafile, capath, cadata)

2025-08-12 13:41:35 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-12 13:41:35 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-12 13:41:35 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:41:35 - src.agents.risk_analysis_agent - [32mINFO[0m - Completed market risk analysis
2025-08-12 13:41:35 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:41:35 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:41:35 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-12 13:41:42 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 60 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 98, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 97, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 126, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 194, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 232, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-12 13:41:51 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-12 13:41:51 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-12 13:41:51 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:41:51 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:41:53 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 70 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 98, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 97, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 126, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 194, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 232, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 233, in _invoke_loop
    self._show_logs(formatted_answer)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 289, in _show_logs
    crewai_event_bus.emit(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\events\crewai_event_bus.py", line 74, in emit
    handler(source, event)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\events\event_listener.py", line 510, in on_agent_logs_execution
    self.formatter.handle_agent_logs_execution(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\events\utils\console_formatter.py", line 1455, in handle_agent_logs_execution
    self.print(finish_panel)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\events\utils\console_formatter.py", line 129, in print
    self.console.print(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\rich\console.py", line 1736, in print
    new_segments, self.width, pad=False
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\rich\console.py", line 995, in options
    return ConsoleOptions(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\rich\console.py", line 1064, in width
    return self.size.width
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\rich\console.py", line 1041, in size
    return ConsoleDimensions(

2025-08-12 13:41:53 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:41:54 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-12 13:42:02 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-12 13:42:02 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-12 13:42:02 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:42:02 - src.agents.recommendation_agent - [32mINFO[0m - Created portfolio allocation for medium risk level
2025-08-12 13:42:02 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:42:02 - src.agents.recommendation_agent - [32mINFO[0m - Generated 5 product recommendations for medium risk level
2025-08-12 13:42:02 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:42:02 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-12 13:42:03 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 80 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 98, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 97, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 126, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 194, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 232, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-12 13:42:06 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-12 13:42:06 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-12 13:42:06 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:42:06 - src.agents.recommendation_agent - [32mINFO[0m - Suggested investment strategy for medium risk level
2025-08-12 13:42:06 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:42:06 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:42:06 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-12 13:42:13 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 90 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 98, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 97, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 126, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 194, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 232, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-12 13:42:22 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-12 13:42:22 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-12 13:42:22 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:42:22 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:42:22 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:42:22 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-12 13:42:23 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 100 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 98, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 97, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 126, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 194, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 232, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-12 13:42:26 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-12 13:42:26 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-12 13:42:26 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:42:26 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:42:26 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:42:26 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-12 13:42:30 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-12 13:42:30 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-12 13:42:30 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:42:30 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:42:30 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:42:30 - LiteLLM - [32mINFO[0m - 
LiteLLM completion() model= claude-3-5-sonnet-20241022; provider = anthropic
2025-08-12 13:42:33 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 110 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 98, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 97, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 126, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 194, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 232, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-12 13:42:43 - discord.gateway - [33mWARNING[0m - Shard ID None heartbeat blocked for more than 120 seconds.
Loop thread traceback (most recent call last):
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\discord_bot_main.py", line 98, in <module>
    asyncio.run(main())
  File "C:\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
  File "C:\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "C:\Python312\Lib\asyncio\base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "C:\Python312\Lib\asyncio\windows_events.py", line 322, in run_forever
    super().run_forever()
  File "C:\Python312\Lib\asyncio\base_events.py", line 641, in run_forever
    self._run_once()
  File "C:\Python312\Lib\asyncio\base_events.py", line 1986, in _run_once
    handle._run()
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\discord\client.py", line 481, in _run_event
    await coro(*args, **kwargs)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 97, in on_message
    await self._handle_message(message)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 126, in _handle_message
    result = await self._process_with_crewai(message.content, user_profile, history, products)
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\chatbot\discord_bot.py", line 194, in _process_with_crewai
    result = await asyncio.wait_for(
  File "C:\Python312\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\llm\crewai_manager.py", line 60, in process_query_with_crewai
    crew_result = self.crew_orchestrator.process_financial_query(
  File "C:\Users\Maytapat\yuanta_chan_demo\yuanta_recommendation_chatbot_crewai\src\agents\crew_orchestrator.py", line 232, in process_financial_query
    result = self.crew.kickoff()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 669, in kickoff
    result = self._run_sequential_process()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 780, in _run_sequential_process
    return self._execute_tasks(self.tasks)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\crew.py", line 883, in _execute_tasks
    task_output = task.execute_sync(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 351, in execute_sync
    return self._execute_core(agent, context, tools)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\task.py", line 415, in _execute_core
    result = agent.execute_task(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 435, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agent.py", line 531, in _execute_without_timeout
    return self.agent_executor.invoke(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 114, in invoke
    formatted_answer = self._invoke_loop()
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\agents\crew_agent_executor.py", line 157, in _invoke_loop
    answer = get_llm_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\utilities\agent_utils.py", line 153, in get_llm_response
    answer = llm.call(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 976, in call
    return self._handle_non_streaming_response(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\crewai\llm.py", line 782, in _handle_non_streaming_response
    response = litellm.completion(**params)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\utils.py", line 1163, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\main.py", line 2050, in completion
    response = anthropic_chat_completions.completion(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\anthropic\chat\handler.py", line 440, in completion
    response = client.post(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\litellm\llms\custom_httpx\http_handler.py", line 688, in post
    response = self.client.send(req, stream=stream)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 106, in handle_request
    ) = self._receive_response_headers(**kwargs)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 177, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_sync\http11.py", line 217, in _receive_event
    data = self._network_stream.read(
  File "C:\Users\Maytapat\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\sync.py", line 128, in read
    return self._sock.recv(max_bytes)
  File "C:\Python312\Lib\ssl.py", line 1233, in recv
    return self.read(buflen)
  File "C:\Python312\Lib\ssl.py", line 1106, in read
    return self._sslobj.read(len)

2025-08-12 13:42:47 - httpx - [32mINFO[0m - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-12 13:42:47 - LiteLLM - [32mINFO[0m - Wrapper: Completed Call, calling success_handler
2025-08-12 13:42:49 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:42:50 - LiteLLM - [32mINFO[0m - selected model name for cost calculation: anthropic/claude-3-5-sonnet-20241022
2025-08-12 13:42:50 - FinancialCrewOrchestrator - [32mINFO[0m - CrewAI execution completed successfully
2025-08-12 13:42:50 - FinancialCrewOrchestrator - [32mINFO[0m - Successfully processed financial query with CrewAI
2025-08-12 13:42:50 - src.llm.crewai_manager - [32mINFO[0m - ✅ CrewAI multi-agent processing completed successfully
2025-08-12 13:42:50 - src.llm.crewai_manager - [32mINFO[0m - ✅ Successfully created CrewAI multi-agent response
2025-08-12 13:42:50 - src.chatbot.discord_bot - [32mINFO[0m - Response is 3721 characters, splitting into multiple messages
2025-08-12 13:42:50 - src.chatbot.discord_bot - [32mINFO[0m - Split response into 3 chunks
2025-08-12 13:42:51 - src.chatbot.discord_bot - [33mWARNING[0m - 🔌 Discord Bot Disconnected
2025-08-12 13:42:52 - discord.gateway - [32mINFO[0m - Shard ID None session has been invalidated.
2025-08-12 13:42:52 - src.chatbot.discord_bot - [33mWARNING[0m - 🔌 Discord Bot Disconnected
2025-08-12 13:42:52 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Successfully sent 3 message chunks to Discord
2025-08-12 13:42:58 - discord.gateway - [32mINFO[0m - Shard ID None has connected to Gateway (Session ID: 0bcb80e6c53b518910c9e6e1f2c4f9c7).
2025-08-12 13:43:00 - src.chatbot.discord_bot - [32mINFO[0m - 🤖 Discord Bot Ready!
2025-08-12 13:43:00 - src.chatbot.discord_bot - [32mINFO[0m -    Bot Name: beam_crewai_test
2025-08-12 13:43:00 - src.chatbot.discord_bot - [32mINFO[0m -    Bot ID: 1404665992692502669
2025-08-12 13:43:00 - src.chatbot.discord_bot - [32mINFO[0m -    Servers: 1
2025-08-12 13:43:00 - src.chatbot.discord_bot - [32mINFO[0m -    Users: 1
2025-08-12 13:43:00 - src.chatbot.discord_bot - [32mINFO[0m - 📋 Available Commands:
2025-08-12 13:43:00 - src.chatbot.discord_bot - [32mINFO[0m -    • /help - Show detailed help
2025-08-12 13:43:00 - src.chatbot.discord_bot - [32mINFO[0m -    • /status - Show bot status
2025-08-12 13:43:00 - src.chatbot.discord_bot - [32mINFO[0m -    • /ping - Test bot responsiveness
2025-08-12 13:43:00 - src.chatbot.discord_bot - [32mINFO[0m -    • /history - Show conversation history
2025-08-12 13:43:00 - src.chatbot.discord_bot - [32mINFO[0m -    • /clear_history - Clear conversation history
2025-08-12 13:43:00 - src.chatbot.discord_bot - [32mINFO[0m -    • Send any message for financial advice
2025-08-12 13:43:00 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Starting command registration process...
2025-08-12 13:43:00 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Initial tree commands count: 5
2025-08-12 13:43:00 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Commands already registered, skipping registration
2025-08-12 13:43:00 - src.chatbot.discord_bot - [32mINFO[0m - 🔄 Syncing slash commands with Discord...
2025-08-12 13:43:00 - src.chatbot.discord_bot - [32mINFO[0m - 🔄 Sync attempt 1/3
2025-08-12 13:43:03 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Successfully synced 5 command(s) globally on attempt 1
2025-08-12 13:43:03 - src.chatbot.discord_bot - [32mINFO[0m -   - /help: Show detailed help for financial commands
2025-08-12 13:43:03 - src.chatbot.discord_bot - [32mINFO[0m -   - /status: Show bot status and health information
2025-08-12 13:43:03 - src.chatbot.discord_bot - [32mINFO[0m -   - /ping: Test bot responsiveness
2025-08-12 13:43:03 - src.chatbot.discord_bot - [32mINFO[0m -   - /history: Show your conversation history
2025-08-12 13:43:03 - src.chatbot.discord_bot - [32mINFO[0m -   - /clear_history: Clear your conversation history
2025-08-12 13:43:03 - src.chatbot.discord_bot - [32mINFO[0m - 🔧 Final verification: 5 commands in tree
2025-08-12 13:57:41 - src.utils.session_manager - [32mINFO[0m - Cleared conversation for session discord_682790548561723396_0684aa03
2025-08-12 14:01:08 - __main__ - [32mINFO[0m - 🧹 Cleaning up...
2025-08-12 14:01:08 - src.core.event_bus - [32mINFO[0m - Event bus stopped
2025-08-12 14:01:08 - __main__ - [32mINFO[0m - ✅ Event bus stopped
2025-08-12 14:01:08 - __main__ - [32mINFO[0m - 👋 Discord bot shutdown complete
2025-08-12 14:01:08 - __main__ - [32mINFO[0m - 👋 Discord bot stopped by user
2025-08-12 18:34:08 - __main__ - [32mINFO[0m - 📡 Initializing core components...
2025-08-12 18:34:08 - src.core.event_bus - [32mINFO[0m - Event bus started
2025-08-12 18:34:08 - __main__ - [32mINFO[0m - ✅ Event bus started
2025-08-12 18:34:08 - __main__ - [32mINFO[0m - ✅ Session manager initialized
2025-08-12 18:34:08 - __main__ - [32mINFO[0m - 🌐 Starting health check server...
2025-08-12 18:34:08 - __main__ - [32mINFO[0m - ✅ Health check server started on port 8000
2025-08-12 18:34:08 - __main__ - [32mINFO[0m - 🤖 Starting Discord bot...
2025-08-12 18:34:08 - discord.client - [33mWARNING[0m - PyNaCl is not installed, voice will NOT be supported
2025-08-12 18:34:08 - src.core.event_bus - [32mINFO[0m - Subscribed to event type: EventType.CHAT_RESPONSE
2025-08-12 18:34:08 - src.chatbot.discord_bot - [32mINFO[0m - 🚀 Initializing Discord Bot...
2025-08-12 18:34:09 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] LLM created successfully with model: claude-3-5-sonnet-20241022
2025-08-12 18:34:09 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Market data agent created successfully
2025-08-12 18:34:09 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent 'MarketDataAgent' initialized successfully
2025-08-12 18:34:09 - MarketDataAgent - [32mINFO[0m - [MarketDataAgent] Agent configuration validation passed
2025-08-12 18:34:09 - src.compliance.compliance_rules_engine - [32mINFO[0m - Initialized compliance engine with 16 rules
2025-08-12 18:34:09 - src.compliance.suitability_validation_engine - [32mINFO[0m - Initialized suitability validation engine
2025-08-12 18:34:09 - src.compliance.disclosure_management_system - [32mINFO[0m - Initialized disclosure management system with 10 requirements
2025-08-12 18:34:09 - FinancialCrewOrchestrator - [32mINFO[0m - Created all enhanced specialized agents for financial analysis
2025-08-12 18:34:09 - FinancialCrewOrchestrator - [32mINFO[0m - Created CrewAI crew with all agents
2025-08-12 18:34:09 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Discord Bot initialization completed
2025-08-12 18:34:09 - root - [32mINFO[0m - 🔄 Discord bot connection attempt 1/3
2025-08-12 18:34:09 - discord.client - [32mINFO[0m - logging in using static token
2025-08-12 18:34:10 - discord.gateway - [32mINFO[0m - Shard ID None has connected to Gateway (Session ID: f13683b125b25e38bc741f77c8216b0f).
2025-08-12 18:34:12 - src.chatbot.discord_bot - [32mINFO[0m - 🤖 Discord Bot Ready!
2025-08-12 18:34:12 - src.chatbot.discord_bot - [32mINFO[0m -    Bot Name: beam_crewai_test
2025-08-12 18:34:12 - src.chatbot.discord_bot - [32mINFO[0m -    Bot ID: 1404665992692502669
2025-08-12 18:34:12 - src.chatbot.discord_bot - [32mINFO[0m -    Servers: 1
2025-08-12 18:34:12 - src.chatbot.discord_bot - [32mINFO[0m -    Users: 1
2025-08-12 18:34:12 - src.chatbot.discord_bot - [32mINFO[0m - 📋 Available Commands:
2025-08-12 18:34:12 - src.chatbot.discord_bot - [32mINFO[0m -    • /help - Show detailed help
2025-08-12 18:34:12 - src.chatbot.discord_bot - [32mINFO[0m -    • /status - Show bot status
2025-08-12 18:34:12 - src.chatbot.discord_bot - [32mINFO[0m -    • /ping - Test bot responsiveness
2025-08-12 18:34:12 - src.chatbot.discord_bot - [32mINFO[0m -    • /history - Show conversation history
2025-08-12 18:34:12 - src.chatbot.discord_bot - [32mINFO[0m -    • /clear_history - Clear conversation history
2025-08-12 18:34:12 - src.chatbot.discord_bot - [32mINFO[0m -    • Send any message for financial advice
2025-08-12 18:34:12 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Starting command registration process...
2025-08-12 18:34:12 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Initial tree commands count: 0
2025-08-12 18:34:12 - src.chatbot.discord_bot - [32mINFO[0m - 🔧 Final Slash Commands Registered: 5
2025-08-12 18:34:12 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Slash command: /help - Show detailed help for financial commands
2025-08-12 18:34:12 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Slash command: /status - Show bot status and health information
2025-08-12 18:34:12 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Slash command: /ping - Test bot responsiveness
2025-08-12 18:34:12 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Slash command: /history - Show your conversation history
2025-08-12 18:34:12 - src.chatbot.discord_bot - [32mINFO[0m - 🔍 Slash command: /clear_history - Clear your conversation history
2025-08-12 18:34:12 - src.chatbot.discord_bot - [32mINFO[0m - 🔄 Syncing slash commands with Discord...
2025-08-12 18:34:12 - src.chatbot.discord_bot - [32mINFO[0m - 🔄 Sync attempt 1/3
2025-08-12 18:34:15 - src.chatbot.discord_bot - [32mINFO[0m - ✅ Successfully synced 5 command(s) globally on attempt 1
2025-08-12 18:34:15 - src.chatbot.discord_bot - [32mINFO[0m -   - /help: Show detailed help for financial commands
2025-08-12 18:34:15 - src.chatbot.discord_bot - [32mINFO[0m -   - /status: Show bot status and health information
2025-08-12 18:34:15 - src.chatbot.discord_bot - [32mINFO[0m -   - /ping: Test bot responsiveness
2025-08-12 18:34:15 - src.chatbot.discord_bot - [32mINFO[0m -   - /history: Show your conversation history
2025-08-12 18:34:15 - src.chatbot.discord_bot - [32mINFO[0m -   - /clear_history: Clear your conversation history
2025-08-12 18:34:15 - src.chatbot.discord_bot - [32mINFO[0m - 🔧 Final verification: 5 commands in tree
2025-08-12 19:03:18 - __main__ - [32mINFO[0m - 🧹 Cleaning up...
2025-08-12 19:03:18 - src.core.event_bus - [32mINFO[0m - Event bus stopped
2025-08-12 19:03:18 - __main__ - [32mINFO[0m - ✅ Event bus stopped
2025-08-12 19:03:18 - __main__ - [32mINFO[0m - 👋 Discord bot shutdown complete
2025-08-12 19:03:18 - __main__ - [32mINFO[0m - 👋 Discord bot stopped by user
